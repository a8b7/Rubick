(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const d of n)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function s(n){const d={};return n.integrity&&(d.integrity=n.integrity),n.referrerPolicy&&(d.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?d.credentials="include":n.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(n){if(n.ep)return;n.ep=!0;const d=s(n);fetch(n.href,d)}})();function vn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const He={},xs=[],Rt=()=>{},Ta=()=>!1,Zi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),bn=e=>e.startsWith("onUpdate:"),ze=Object.assign,Sn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Jc=Object.prototype.hasOwnProperty,Te=(e,t)=>Jc.call(e,t),ve=Array.isArray,ks=e=>di(e)==="[object Map]",Hs=e=>di(e)==="[object Set]",Jn=e=>di(e)==="[object Date]",Ce=e=>typeof e=="function",We=e=>typeof e=="string",Dt=e=>typeof e=="symbol",Ie=e=>e!==null&&typeof e=="object",Oa=e=>(Ie(e)||Ce(e))&&Ce(e.then)&&Ce(e.catch),Ia=Object.prototype.toString,di=e=>Ia.call(e),Xc=e=>di(e).slice(8,-1),Pa=e=>di(e)==="[object Object]",Qi=e=>We(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Js=vn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),er=e=>{const t=Object.create(null);return(s=>t[s]||(t[s]=e(s)))},Yc=/-\w/g,ss=er(e=>e.replace(Yc,t=>t.slice(1).toUpperCase())),Zc=/\B([A-Z])/g,ns=er(e=>e.replace(Zc,"-$1").toLowerCase()),Ba=er(e=>e.charAt(0).toUpperCase()+e.slice(1)),br=er(e=>e?`on${Ba(e)}`:""),es=(e,t)=>!Object.is(e,t),ki=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Ma=(e,t,s,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:s})},tr=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Qc=e=>{const t=We(e)?Number(e):NaN;return isNaN(t)?e:t};let Xn;const sr=()=>Xn||(Xn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function yn(e){if(ve(e)){const t={};for(let s=0;s<e.length;s++){const i=e[s],n=We(i)?ih(i):yn(i);if(n)for(const d in n)t[d]=n[d]}return t}else if(We(e)||Ie(e))return e}const eh=/;(?![^(]*\))/g,th=/:([^]+)/,sh=/\/\*[^]*?\*\//g;function ih(e){const t={};return e.replace(sh,"").split(eh).forEach(s=>{if(s){const i=s.split(th);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function ye(e){let t="";if(We(e))t=e;else if(ve(e))for(let s=0;s<e.length;s++){const i=ye(e[s]);i&&(t+=i+" ")}else if(Ie(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const rh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",nh=vn(rh);function Ha(e){return!!e||e===""}function oh(e,t){if(e.length!==t.length)return!1;let s=!0;for(let i=0;s&&i<e.length;i++)s=is(e[i],t[i]);return s}function is(e,t){if(e===t)return!0;let s=Jn(e),i=Jn(t);if(s||i)return s&&i?e.getTime()===t.getTime():!1;if(s=Dt(e),i=Dt(t),s||i)return e===t;if(s=ve(e),i=ve(t),s||i)return s&&i?oh(e,t):!1;if(s=Ie(e),i=Ie(t),s||i){if(!s||!i)return!1;const n=Object.keys(e).length,d=Object.keys(t).length;if(n!==d)return!1;for(const p in e){const r=e.hasOwnProperty(p),o=t.hasOwnProperty(p);if(r&&!o||!r&&o||!is(e[p],t[p]))return!1}}return String(e)===String(t)}function wn(e,t){return e.findIndex(s=>is(s,t))}const $a=e=>!!(e&&e.__v_isRef===!0),te=e=>We(e)?e:e==null?"":ve(e)||Ie(e)&&(e.toString===Ia||!Ce(e.toString))?$a(e)?te(e.value):JSON.stringify(e,Fa,2):String(e),Fa=(e,t)=>$a(t)?Fa(e,t.value):ks(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[i,n],d)=>(s[Sr(i,d)+" =>"]=n,s),{})}:Hs(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Sr(s))}:Dt(t)?Sr(t):Ie(t)&&!ve(t)&&!Pa(t)?String(t):t,Sr=(e,t="")=>{var s;return Dt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};let Ye;class Na{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.__v_skip=!0,this.parent=Ye,!t&&Ye&&(this.index=(Ye.scopes||(Ye.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Ye;try{return Ye=this,t()}finally{Ye=s}}}on(){++this._on===1&&(this.prevScope=Ye,Ye=this)}off(){this._on>0&&--this._on===0&&(Ye=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,i;for(s=0,i=this.effects.length;s<i;s++)this.effects[s].stop();for(this.effects.length=0,s=0,i=this.cleanups.length;s<i;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Ua(e){return new Na(e)}function ja(){return Ye}function ah(e,t=!1){Ye&&Ye.cleanups.push(e)}let $e;const yr=new WeakSet;class Wa{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ye&&Ye.active&&Ye.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,yr.has(this)&&(yr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ka(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Yn(this),za(this);const t=$e,s=mt;$e=this,mt=!0;try{return this.fn()}finally{qa(this),$e=t,mt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)xn(t);this.deps=this.depsTail=void 0,Yn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?yr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){jr(this)&&this.run()}get dirty(){return jr(this)}}let Va=0,Xs,Ys;function Ka(e,t=!1){if(e.flags|=8,t){e.next=Ys,Ys=e;return}e.next=Xs,Xs=e}function Cn(){Va++}function En(){if(--Va>0)return;if(Ys){let t=Ys;for(Ys=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Xs;){let t=Xs;for(Xs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=s}}if(e)throw e}function za(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function qa(e){let t,s=e.depsTail,i=s;for(;i;){const n=i.prevDep;i.version===-1?(i===s&&(s=n),xn(i),lh(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}e.deps=t,e.depsTail=s}function jr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ga(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ga(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ri)||(e.globalVersion=ri,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!jr(e))))return;e.flags|=2;const t=e.dep,s=$e,i=mt;$e=e,mt=!0;try{za(e);const n=e.fn(e._value);(t.version===0||es(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{$e=s,mt=i,qa(e),e.flags&=-3}}function xn(e,t=!1){const{dep:s,prevSub:i,nextSub:n}=e;if(i&&(i.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=i,e.nextSub=void 0),s.subs===e&&(s.subs=i,!i&&s.computed)){s.computed.flags&=-5;for(let d=s.computed.deps;d;d=d.nextDep)xn(d,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function lh(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let mt=!0;const Ja=[];function Ft(){Ja.push(mt),mt=!1}function Nt(){const e=Ja.pop();mt=e===void 0?!0:e}function Yn(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=$e;$e=void 0;try{t()}finally{$e=s}}}let ri=0;class ch{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class kn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!$e||!mt||$e===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==$e)s=this.activeLink=new ch($e,this),$e.deps?(s.prevDep=$e.depsTail,$e.depsTail.nextDep=s,$e.depsTail=s):$e.deps=$e.depsTail=s,Xa(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const i=s.nextDep;i.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=i),s.prevDep=$e.depsTail,s.nextDep=void 0,$e.depsTail.nextDep=s,$e.depsTail=s,$e.deps===s&&($e.deps=i)}return s}trigger(t){this.version++,ri++,this.notify(t)}notify(t){Cn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{En()}}}function Xa(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)Xa(i)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const $i=new WeakMap,_s=Symbol(""),Wr=Symbol(""),ni=Symbol("");function Ze(e,t,s){if(mt&&$e){let i=$i.get(e);i||$i.set(e,i=new Map);let n=i.get(s);n||(i.set(s,n=new kn),n.map=i,n.key=s),n.track()}}function Pt(e,t,s,i,n,d){const p=$i.get(e);if(!p){ri++;return}const r=o=>{o&&o.trigger()};if(Cn(),t==="clear")p.forEach(r);else{const o=ve(e),l=o&&Qi(s);if(o&&s==="length"){const f=Number(i);p.forEach((a,g)=>{(g==="length"||g===ni||!Dt(g)&&g>=f)&&r(a)})}else switch((s!==void 0||p.has(void 0))&&r(p.get(s)),l&&r(p.get(ni)),t){case"add":o?l&&r(p.get("length")):(r(p.get(_s)),ks(e)&&r(p.get(Wr)));break;case"delete":o||(r(p.get(_s)),ks(e)&&r(p.get(Wr)));break;case"set":ks(e)&&r(p.get(_s));break}}En()}function hh(e,t){const s=$i.get(e);return s&&s.get(t)}function Ss(e){const t=Ae(e);return t===e?t:(Ze(t,"iterate",ni),dt(e)?t:t.map(vt))}function ir(e){return Ze(e=Ae(e),"iterate",ni),e}function Yt(e,t){return Ut(e)?Ds($t(e)?vt(t):t):vt(t)}const uh={__proto__:null,[Symbol.iterator](){return wr(this,Symbol.iterator,e=>Yt(this,e))},concat(...e){return Ss(this).concat(...e.map(t=>ve(t)?Ss(t):t))},entries(){return wr(this,"entries",e=>(e[1]=Yt(this,e[1]),e))},every(e,t){return Lt(this,"every",e,t,void 0,arguments)},filter(e,t){return Lt(this,"filter",e,t,s=>s.map(i=>Yt(this,i)),arguments)},find(e,t){return Lt(this,"find",e,t,s=>Yt(this,s),arguments)},findIndex(e,t){return Lt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Lt(this,"findLast",e,t,s=>Yt(this,s),arguments)},findLastIndex(e,t){return Lt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Lt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Cr(this,"includes",e)},indexOf(...e){return Cr(this,"indexOf",e)},join(e){return Ss(this).join(e)},lastIndexOf(...e){return Cr(this,"lastIndexOf",e)},map(e,t){return Lt(this,"map",e,t,void 0,arguments)},pop(){return Fs(this,"pop")},push(...e){return Fs(this,"push",e)},reduce(e,...t){return Zn(this,"reduce",e,t)},reduceRight(e,...t){return Zn(this,"reduceRight",e,t)},shift(){return Fs(this,"shift")},some(e,t){return Lt(this,"some",e,t,void 0,arguments)},splice(...e){return Fs(this,"splice",e)},toReversed(){return Ss(this).toReversed()},toSorted(e){return Ss(this).toSorted(e)},toSpliced(...e){return Ss(this).toSpliced(...e)},unshift(...e){return Fs(this,"unshift",e)},values(){return wr(this,"values",e=>Yt(this,e))}};function wr(e,t,s){const i=ir(e),n=i[t]();return i!==e&&!dt(e)&&(n._next=n.next,n.next=()=>{const d=n._next();return d.done||(d.value=s(d.value)),d}),n}const dh=Array.prototype;function Lt(e,t,s,i,n,d){const p=ir(e),r=p!==e&&!dt(e),o=p[t];if(o!==dh[t]){const a=o.apply(e,d);return r?vt(a):a}let l=s;p!==e&&(r?l=function(a,g){return s.call(this,Yt(e,a),g,e)}:s.length>2&&(l=function(a,g){return s.call(this,a,g,e)}));const f=o.call(p,l,i);return r&&n?n(f):f}function Zn(e,t,s,i){const n=ir(e);let d=s;return n!==e&&(dt(e)?s.length>3&&(d=function(p,r,o){return s.call(this,p,r,o,e)}):d=function(p,r,o){return s.call(this,p,Yt(e,r),o,e)}),n[t](d,...i)}function Cr(e,t,s){const i=Ae(e);Ze(i,"iterate",ni);const n=i[t](...s);return(n===-1||n===!1)&&rr(s[0])?(s[0]=Ae(s[0]),i[t](...s)):n}function Fs(e,t,s=[]){Ft(),Cn();const i=Ae(e)[t].apply(e,s);return En(),Nt(),i}const fh=vn("__proto__,__v_isRef,__isVue"),Ya=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Dt));function _h(e){Dt(e)||(e=String(e));const t=Ae(this);return Ze(t,"has",e),t.hasOwnProperty(e)}class Za{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,i){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,d=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return d;if(s==="__v_raw")return i===(n?d?Eh:sl:d?tl:el).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const p=ve(t);if(!n){let o;if(p&&(o=uh[s]))return o;if(s==="hasOwnProperty")return _h}const r=Reflect.get(t,s,je(t)?t:i);if((Dt(s)?Ya.has(s):fh(s))||(n||Ze(t,"get",s),d))return r;if(je(r)){const o=p&&Qi(s)?r:r.value;return n&&Ie(o)?Kr(o):o}return Ie(r)?n?Kr(r):Wt(r):r}}class Qa extends Za{constructor(t=!1){super(!1,t)}set(t,s,i,n){let d=t[s];const p=ve(t)&&Qi(s);if(!this._isShallow){const l=Ut(d);if(!dt(i)&&!Ut(i)&&(d=Ae(d),i=Ae(i)),!p&&je(d)&&!je(i))return l||(d.value=i),!0}const r=p?Number(s)<t.length:Te(t,s),o=Reflect.set(t,s,i,je(t)?t:n);return t===Ae(n)&&(r?es(i,d)&&Pt(t,"set",s,i):Pt(t,"add",s,i)),o}deleteProperty(t,s){const i=Te(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&i&&Pt(t,"delete",s,void 0),n}has(t,s){const i=Reflect.has(t,s);return(!Dt(s)||!Ya.has(s))&&Ze(t,"has",s),i}ownKeys(t){return Ze(t,"iterate",ve(t)?"length":_s),Reflect.ownKeys(t)}}class ph extends Za{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const gh=new Qa,mh=new ph,vh=new Qa(!0);const Vr=e=>e,wi=e=>Reflect.getPrototypeOf(e);function bh(e,t,s){return function(...i){const n=this.__v_raw,d=Ae(n),p=ks(d),r=e==="entries"||e===Symbol.iterator&&p,o=e==="keys"&&p,l=n[e](...i),f=s?Vr:t?Ds:vt;return!t&&Ze(d,"iterate",o?Wr:_s),ze(Object.create(l),{next(){const{value:a,done:g}=l.next();return g?{value:a,done:g}:{value:r?[f(a[0]),f(a[1])]:f(a),done:g}}})}}function Ci(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Sh(e,t){const s={get(n){const d=this.__v_raw,p=Ae(d),r=Ae(n);e||(es(n,r)&&Ze(p,"get",n),Ze(p,"get",r));const{has:o}=wi(p),l=t?Vr:e?Ds:vt;if(o.call(p,n))return l(d.get(n));if(o.call(p,r))return l(d.get(r));d!==p&&d.get(n)},get size(){const n=this.__v_raw;return!e&&Ze(Ae(n),"iterate",_s),n.size},has(n){const d=this.__v_raw,p=Ae(d),r=Ae(n);return e||(es(n,r)&&Ze(p,"has",n),Ze(p,"has",r)),n===r?d.has(n):d.has(n)||d.has(r)},forEach(n,d){const p=this,r=p.__v_raw,o=Ae(r),l=t?Vr:e?Ds:vt;return!e&&Ze(o,"iterate",_s),r.forEach((f,a)=>n.call(d,l(f),l(a),p))}};return ze(s,e?{add:Ci("add"),set:Ci("set"),delete:Ci("delete"),clear:Ci("clear")}:{add(n){!t&&!dt(n)&&!Ut(n)&&(n=Ae(n));const d=Ae(this);return wi(d).has.call(d,n)||(d.add(n),Pt(d,"add",n,n)),this},set(n,d){!t&&!dt(d)&&!Ut(d)&&(d=Ae(d));const p=Ae(this),{has:r,get:o}=wi(p);let l=r.call(p,n);l||(n=Ae(n),l=r.call(p,n));const f=o.call(p,n);return p.set(n,d),l?es(d,f)&&Pt(p,"set",n,d):Pt(p,"add",n,d),this},delete(n){const d=Ae(this),{has:p,get:r}=wi(d);let o=p.call(d,n);o||(n=Ae(n),o=p.call(d,n)),r&&r.call(d,n);const l=d.delete(n);return o&&Pt(d,"delete",n,void 0),l},clear(){const n=Ae(this),d=n.size!==0,p=n.clear();return d&&Pt(n,"clear",void 0,void 0),p}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=bh(n,e,t)}),s}function Rn(e,t){const s=Sh(e,t);return(i,n,d)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(Te(s,n)&&n in i?s:i,n,d)}const yh={get:Rn(!1,!1)},wh={get:Rn(!1,!0)},Ch={get:Rn(!0,!1)};const el=new WeakMap,tl=new WeakMap,sl=new WeakMap,Eh=new WeakMap;function xh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kh(e){return e.__v_skip||!Object.isExtensible(e)?0:xh(Xc(e))}function Wt(e){return Ut(e)?e:An(e,!1,gh,yh,el)}function il(e){return An(e,!1,vh,wh,tl)}function Kr(e){return An(e,!0,mh,Ch,sl)}function An(e,t,s,i,n){if(!Ie(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const d=kh(e);if(d===0)return e;const p=n.get(e);if(p)return p;const r=new Proxy(e,d===2?i:s);return n.set(e,r),r}function $t(e){return Ut(e)?$t(e.__v_raw):!!(e&&e.__v_isReactive)}function Ut(e){return!!(e&&e.__v_isReadonly)}function dt(e){return!!(e&&e.__v_isShallow)}function rr(e){return e?!!e.__v_raw:!1}function Ae(e){const t=e&&e.__v_raw;return t?Ae(t):e}function Dn(e){return!Te(e,"__v_skip")&&Object.isExtensible(e)&&Ma(e,"__v_skip",!0),e}const vt=e=>Ie(e)?Wt(e):e,Ds=e=>Ie(e)?Kr(e):e;function je(e){return e?e.__v_isRef===!0:!1}function he(e){return rl(e,!1)}function Rh(e){return rl(e,!0)}function rl(e,t){return je(e)?e:new Ah(e,t)}class Ah{constructor(t,s){this.dep=new kn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:Ae(t),this._value=s?t:vt(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,i=this.__v_isShallow||dt(t)||Ut(t);t=i?t:Ae(t),es(t,s)&&(this._rawValue=t,this._value=i?t:vt(t),this.dep.trigger())}}function ce(e){return je(e)?e.value:e}const Dh={get:(e,t,s)=>t==="__v_raw"?e:ce(Reflect.get(e,t,s)),set:(e,t,s,i)=>{const n=e[t];return je(n)&&!je(s)?(n.value=s,!0):Reflect.set(e,t,s,i)}};function nl(e){return $t(e)?e:new Proxy(e,Dh)}function Lh(e){const t=ve(e)?new Array(e.length):{};for(const s in e)t[s]=Oh(e,s);return t}class Th{constructor(t,s,i){this._object=t,this._key=s,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0,this._raw=Ae(t);let n=!0,d=t;if(!ve(t)||!Qi(String(s)))do n=!rr(d)||dt(d);while(n&&(d=d.__v_raw));this._shallow=n}get value(){let t=this._object[this._key];return this._shallow&&(t=ce(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&je(this._raw[this._key])){const s=this._object[this._key];if(je(s)){s.value=t;return}}this._object[this._key]=t}get dep(){return hh(this._raw,this._key)}}function Oh(e,t,s){return new Th(e,t,s)}class Ih{constructor(t,s,i){this.fn=t,this.setter=s,this._value=void 0,this.dep=new kn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ri-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&$e!==this)return Ka(this,!0),!0}get value(){const t=this.dep.track();return Ga(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Ph(e,t,s=!1){let i,n;return Ce(e)?i=e:(i=e.get,n=e.set),new Ih(i,n,s)}const Ei={},Fi=new WeakMap;let us;function Bh(e,t=!1,s=us){if(s){let i=Fi.get(s);i||Fi.set(s,i=[]),i.push(e)}}function Mh(e,t,s=He){const{immediate:i,deep:n,once:d,scheduler:p,augmentJob:r,call:o}=s,l=b=>n?b:dt(b)||n===!1||n===0?Bt(b,1):Bt(b);let f,a,g,v,S=!1,m=!1;if(je(e)?(a=()=>e.value,S=dt(e)):$t(e)?(a=()=>l(e),S=!0):ve(e)?(m=!0,S=e.some(b=>$t(b)||dt(b)),a=()=>e.map(b=>{if(je(b))return b.value;if($t(b))return l(b);if(Ce(b))return o?o(b,2):b()})):Ce(e)?t?a=o?()=>o(e,2):e:a=()=>{if(g){Ft();try{g()}finally{Nt()}}const b=us;us=f;try{return o?o(e,3,[v]):e(v)}finally{us=b}}:a=Rt,t&&n){const b=a,w=n===!0?1/0:n;a=()=>Bt(b(),w)}const h=ja(),c=()=>{f.stop(),h&&h.active&&Sn(h.effects,f)};if(d&&t){const b=t;t=(...w)=>{b(...w),c()}}let u=m?new Array(e.length).fill(Ei):Ei;const _=b=>{if(!(!(f.flags&1)||!f.dirty&&!b))if(t){const w=f.run();if(n||S||(m?w.some((C,x)=>es(C,u[x])):es(w,u))){g&&g();const C=us;us=f;try{const x=[w,u===Ei?void 0:m&&u[0]===Ei?[]:u,v];u=w,o?o(t,3,x):t(...x)}finally{us=C}}}else f.run()};return r&&r(_),f=new Wa(a),f.scheduler=p?()=>p(_,!1):_,v=b=>Bh(b,!1,f),g=f.onStop=()=>{const b=Fi.get(f);if(b){if(o)o(b,4);else for(const w of b)w();Fi.delete(f)}},t?i?_(!0):u=f.run():p?p(_.bind(null,!0),!0):f.run(),c.pause=f.pause.bind(f),c.resume=f.resume.bind(f),c.stop=c,c}function Bt(e,t=1/0,s){if(t<=0||!Ie(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,je(e))Bt(e.value,t,s);else if(ve(e))for(let i=0;i<e.length;i++)Bt(e[i],t,s);else if(Hs(e)||ks(e))e.forEach(i=>{Bt(i,t,s)});else if(Pa(e)){for(const i in e)Bt(e[i],t,s);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Bt(e[i],t,s)}return e}function fi(e,t,s,i){try{return i?e(...i):e()}catch(n){nr(n,t,s)}}function bt(e,t,s,i){if(Ce(e)){const n=fi(e,t,s,i);return n&&Oa(n)&&n.catch(d=>{nr(d,t,s)}),n}if(ve(e)){const n=[];for(let d=0;d<e.length;d++)n.push(bt(e[d],t,s,i));return n}}function nr(e,t,s,i=!0){const n=t?t.vnode:null,{errorHandler:d,throwUnhandledErrorInProduction:p}=t&&t.appContext.config||He;if(t){let r=t.parent;const o=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${s}`;for(;r;){const f=r.ec;if(f){for(let a=0;a<f.length;a++)if(f[a](e,o,l)===!1)return}r=r.parent}if(d){Ft(),fi(d,null,10,[e,o,l]),Nt();return}}Hh(e,s,n,i,p)}function Hh(e,t,s,i=!0,n=!1){if(n)throw e;console.error(e)}const st=[];let xt=-1;const Rs=[];let Zt=null,ws=0;const ol=Promise.resolve();let Ni=null;function ts(e){const t=Ni||ol;return e?t.then(this?e.bind(this):e):t}function $h(e){let t=xt+1,s=st.length;for(;t<s;){const i=t+s>>>1,n=st[i],d=oi(n);d<e||d===e&&n.flags&2?t=i+1:s=i}return t}function Ln(e){if(!(e.flags&1)){const t=oi(e),s=st[st.length-1];!s||!(e.flags&2)&&t>=oi(s)?st.push(e):st.splice($h(t),0,e),e.flags|=1,al()}}function al(){Ni||(Ni=ol.then(cl))}function Fh(e){ve(e)?Rs.push(...e):Zt&&e.id===-1?Zt.splice(ws+1,0,e):e.flags&1||(Rs.push(e),e.flags|=1),al()}function Qn(e,t,s=xt+1){for(;s<st.length;s++){const i=st[s];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;st.splice(s,1),s--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function ll(e){if(Rs.length){const t=[...new Set(Rs)].sort((s,i)=>oi(s)-oi(i));if(Rs.length=0,Zt){Zt.push(...t);return}for(Zt=t,ws=0;ws<Zt.length;ws++){const s=Zt[ws];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Zt=null,ws=0}}const oi=e=>e.id==null?e.flags&2?-1:1/0:e.id;function cl(e){try{for(xt=0;xt<st.length;xt++){const t=st[xt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),fi(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;xt<st.length;xt++){const t=st[xt];t&&(t.flags&=-2)}xt=-1,st.length=0,ll(),Ni=null,(st.length||Rs.length)&&cl()}}let pt=null,hl=null;function Ui(e){const t=pt;return pt=e,hl=e&&e.type.__scopeId||null,t}function ul(e,t=pt,s){if(!t||e._n)return e;const i=(...n)=>{i._d&&Vi(-1);const d=Ui(t);let p;try{p=e(...n)}finally{Ui(d),i._d&&Vi(1)}return p};return i._n=!0,i._c=!0,i._d=!0,i}function Me(e,t){if(pt===null)return e;const s=cr(pt),i=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[d,p,r,o=He]=t[n];d&&(Ce(d)&&(d={mounted:d,updated:d}),d.deep&&Bt(p),i.push({dir:d,instance:s,value:p,oldValue:void 0,arg:r,modifiers:o}))}return e}function ls(e,t,s,i){const n=e.dirs,d=t&&t.dirs;for(let p=0;p<n.length;p++){const r=n[p];d&&(r.oldValue=d[p].value);let o=r.dir[i];o&&(Ft(),bt(o,s,8,[e.el,r,e,t]),Nt())}}function Ri(e,t){if(it){let s=it.provides;const i=it.parent&&it.parent.provides;i===s&&(s=it.provides=Object.create(i)),s[e]=t}}function At(e,t,s=!1){const i=Pn();if(i||ps){let n=ps?ps._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&Ce(t)?t.call(i&&i.proxy):t}}function Nh(){return!!(Pn()||ps)}const Uh=Symbol.for("v-scx"),jh=()=>At(Uh);function Ke(e,t,s){return dl(e,t,s)}function dl(e,t,s=He){const{immediate:i,deep:n,flush:d,once:p}=s,r=ze({},s),o=t&&i||!t&&d!=="post";let l;if(ci){if(d==="sync"){const v=jh();l=v.__watcherHandles||(v.__watcherHandles=[])}else if(!o){const v=()=>{};return v.stop=Rt,v.resume=Rt,v.pause=Rt,v}}const f=it;r.call=(v,S,m)=>bt(v,f,S,m);let a=!1;d==="post"?r.scheduler=v=>{rt(v,f&&f.suspense)}:d!=="sync"&&(a=!0,r.scheduler=(v,S)=>{S?v():Ln(v)}),r.augmentJob=v=>{t&&(v.flags|=4),a&&(v.flags|=2,f&&(v.id=f.uid,v.i=f))};const g=Mh(e,t,r);return ci&&(l?l.push(g):o&&g()),g}function Wh(e,t,s){const i=this.proxy,n=We(e)?e.includes(".")?fl(i,e):()=>i[e]:e.bind(i,i);let d;Ce(t)?d=t:(d=t.handler,s=t);const p=pi(this),r=dl(n,d.bind(i),s);return p(),r}function fl(e,t){const s=t.split(".");return()=>{let i=e;for(let n=0;n<s.length&&i;n++)i=i[s[n]];return i}}const Vh=Symbol("_vte"),Kh=e=>e.__isTeleport,Gt=Symbol("_leaveCb"),Ns=Symbol("_enterCb");function zh(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ct(()=>{e.isMounted=!0}),bl(()=>{e.isUnmounting=!0}),e}const ft=[Function,Array],qh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ft,onEnter:ft,onAfterEnter:ft,onEnterCancelled:ft,onBeforeLeave:ft,onLeave:ft,onAfterLeave:ft,onLeaveCancelled:ft,onBeforeAppear:ft,onAppear:ft,onAfterAppear:ft,onAppearCancelled:ft};function Gh(e,t){const{leavingVNodes:s}=e;let i=s.get(t.type);return i||(i=Object.create(null),s.set(t.type,i)),i}function zr(e,t,s,i,n){const{appear:d,mode:p,persisted:r=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:f,onEnterCancelled:a,onBeforeLeave:g,onLeave:v,onAfterLeave:S,onLeaveCancelled:m,onBeforeAppear:h,onAppear:c,onAfterAppear:u,onAppearCancelled:_}=t,b=String(e.key),w=Gh(s,e),C=(k,O)=>{k&&bt(k,i,9,O)},x=(k,O)=>{const M=O[1];C(k,O),ve(k)?k.every(B=>B.length<=1)&&M():k.length<=1&&M()},y={mode:p,persisted:r,beforeEnter(k){let O=o;if(!s.isMounted)if(d)O=h||o;else return;k[Gt]&&k[Gt](!0);const M=w[b];M&&Cs(e,M)&&M.el[Gt]&&M.el[Gt](),C(O,[k])},enter(k){let O=l,M=f,B=a;if(!s.isMounted)if(d)O=c||l,M=u||f,B=_||a;else return;let L=!1;k[Ns]=Z=>{L||(L=!0,Z?C(B,[k]):C(M,[k]),y.delayedLeave&&y.delayedLeave(),k[Ns]=void 0)};const V=k[Ns].bind(null,!1);O?x(O,[k,V]):V()},leave(k,O){const M=String(e.key);if(k[Ns]&&k[Ns](!0),s.isUnmounting)return O();C(g,[k]);let B=!1;k[Gt]=V=>{B||(B=!0,O(),V?C(m,[k]):C(S,[k]),k[Gt]=void 0,w[M]===e&&delete w[M])};const L=k[Gt].bind(null,!1);w[M]=e,v?x(v,[k,L]):L()},clone(k){return zr(k,t,s,i)}};return y}function ai(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ai(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function _l(e,t=!1,s){let i=[],n=0;for(let d=0;d<e.length;d++){let p=e[d];const r=s==null?p.key:String(s)+String(p.key!=null?p.key:d);p.type===me?(p.patchFlag&128&&n++,i=i.concat(_l(p.children,t,r))):(t||p.type!==jt)&&i.push(r!=null?ms(p,{key:r}):p)}if(n>1)for(let d=0;d<i.length;d++)i[d].patchFlag=-2;return i}function Be(e,t){return Ce(e)?ze({name:e.name},t,{setup:e}):e}function pl(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function eo(e,t){let s;return!!((s=Object.getOwnPropertyDescriptor(e,t))&&!s.configurable)}const ji=new WeakMap;function Zs(e,t,s,i,n=!1){if(ve(e)){e.forEach((m,h)=>Zs(m,t&&(ve(t)?t[h]:t),s,i,n));return}if(Qs(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Zs(e,t,s,i.component.subTree);return}const d=i.shapeFlag&4?cr(i.component):i.el,p=n?null:d,{i:r,r:o}=e,l=t&&t.r,f=r.refs===He?r.refs={}:r.refs,a=r.setupState,g=Ae(a),v=a===He?Ta:m=>eo(f,m)?!1:Te(g,m),S=(m,h)=>!(h&&eo(f,h));if(l!=null&&l!==o){if(to(t),We(l))f[l]=null,v(l)&&(a[l]=null);else if(je(l)){const m=t;S(l,m.k)&&(l.value=null),m.k&&(f[m.k]=null)}}if(Ce(o))fi(o,r,12,[p,f]);else{const m=We(o),h=je(o);if(m||h){const c=()=>{if(e.f){const u=m?v(o)?a[o]:f[o]:S()||!e.k?o.value:f[e.k];if(n)ve(u)&&Sn(u,d);else if(ve(u))u.includes(d)||u.push(d);else if(m)f[o]=[d],v(o)&&(a[o]=f[o]);else{const _=[d];S(o,e.k)&&(o.value=_),e.k&&(f[e.k]=_)}}else m?(f[o]=p,v(o)&&(a[o]=p)):h&&(S(o,e.k)&&(o.value=p),e.k&&(f[e.k]=p))};if(p){const u=()=>{c(),ji.delete(e)};u.id=-1,ji.set(e,u),rt(u,s)}else to(e),c()}}}function to(e){const t=ji.get(e);t&&(t.flags|=8,ji.delete(e))}sr().requestIdleCallback;sr().cancelIdleCallback;const Qs=e=>!!e.type.__asyncLoader,gl=e=>e.type.__isKeepAlive;function Jh(e,t){ml(e,"a",t)}function Xh(e,t){ml(e,"da",t)}function ml(e,t,s=it){const i=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(or(t,i,s),s){let n=s.parent;for(;n&&n.parent;)gl(n.parent.vnode)&&Yh(i,t,s,n),n=n.parent}}function Yh(e,t,s,i){const n=or(t,e,i,!0);_i(()=>{Sn(i[t],n)},s)}function or(e,t,s=it,i=!1){if(s){const n=s[e]||(s[e]=[]),d=t.__weh||(t.__weh=(...p)=>{Ft();const r=pi(s),o=bt(t,s,e,p);return r(),Nt(),o});return i?n.unshift(d):n.push(d),d}}const Vt=e=>(t,s=it)=>{(!ci||e==="sp")&&or(e,(...i)=>t(...i),s)},Zh=Vt("bm"),ct=Vt("m"),Qh=Vt("bu"),vl=Vt("u"),bl=Vt("bum"),_i=Vt("um"),eu=Vt("sp"),tu=Vt("rtg"),su=Vt("rtc");function iu(e,t=it){or("ec",e,t)}const ru=Symbol.for("v-ndc");function Ue(e,t,s,i){let n;const d=s,p=ve(e);if(p||We(e)){const r=p&&$t(e);let o=!1,l=!1;r&&(o=!dt(e),l=Ut(e),e=ir(e)),n=new Array(e.length);for(let f=0,a=e.length;f<a;f++)n[f]=t(o?l?Ds(vt(e[f])):vt(e[f]):e[f],f,void 0,d)}else if(typeof e=="number"){n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r+1,r,void 0,d)}else if(Ie(e))if(e[Symbol.iterator])n=Array.from(e,(r,o)=>t(r,o,void 0,d));else{const r=Object.keys(e);n=new Array(r.length);for(let o=0,l=r.length;o<l;o++){const f=r[o];n[o]=t(e[f],f,o,d)}}else n=[];return n}const qr=e=>e?Fl(e)?cr(e):qr(e.parent):null,ei=ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>qr(e.parent),$root:e=>qr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>yl(e),$forceUpdate:e=>e.f||(e.f=()=>{Ln(e.update)}),$nextTick:e=>e.n||(e.n=ts.bind(e.proxy)),$watch:e=>Wh.bind(e)}),Er=(e,t)=>e!==He&&!e.__isScriptSetup&&Te(e,t),nu={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:i,data:n,props:d,accessCache:p,type:r,appContext:o}=e;if(t[0]!=="$"){const g=p[t];if(g!==void 0)switch(g){case 1:return i[t];case 2:return n[t];case 4:return s[t];case 3:return d[t]}else{if(Er(i,t))return p[t]=1,i[t];if(n!==He&&Te(n,t))return p[t]=2,n[t];if(Te(d,t))return p[t]=3,d[t];if(s!==He&&Te(s,t))return p[t]=4,s[t];Gr&&(p[t]=0)}}const l=ei[t];let f,a;if(l)return t==="$attrs"&&Ze(e.attrs,"get",""),l(e);if((f=r.__cssModules)&&(f=f[t]))return f;if(s!==He&&Te(s,t))return p[t]=4,s[t];if(a=o.config.globalProperties,Te(a,t))return a[t]},set({_:e},t,s){const{data:i,setupState:n,ctx:d}=e;return Er(n,t)?(n[t]=s,!0):i!==He&&Te(i,t)?(i[t]=s,!0):Te(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(d[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:i,appContext:n,props:d,type:p}},r){let o;return!!(s[r]||e!==He&&r[0]!=="$"&&Te(e,r)||Er(t,r)||Te(d,r)||Te(i,r)||Te(ei,r)||Te(n.config.globalProperties,r)||(o=p.__cssModules)&&o[r])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Te(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function so(e){return ve(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Gr=!0;function ou(e){const t=yl(e),s=e.proxy,i=e.ctx;Gr=!1,t.beforeCreate&&io(t.beforeCreate,e,"bc");const{data:n,computed:d,methods:p,watch:r,provide:o,inject:l,created:f,beforeMount:a,mounted:g,beforeUpdate:v,updated:S,activated:m,deactivated:h,beforeDestroy:c,beforeUnmount:u,destroyed:_,unmounted:b,render:w,renderTracked:C,renderTriggered:x,errorCaptured:y,serverPrefetch:k,expose:O,inheritAttrs:M,components:B,directives:L,filters:V}=t;if(l&&au(l,i,null),p)for(const Y in p){const X=p[Y];Ce(X)&&(i[Y]=X.bind(s))}if(n){const Y=n.call(s,s);Ie(Y)&&(e.data=Wt(Y))}if(Gr=!0,d)for(const Y in d){const X=d[Y],R=Ce(X)?X.bind(s,s):Ce(X.get)?X.get.bind(s,s):Rt,P=!Ce(X)&&Ce(X.set)?X.set.bind(s):Rt,H=Oe({get:R,set:P});Object.defineProperty(i,Y,{enumerable:!0,configurable:!0,get:()=>H.value,set:$=>H.value=$})}if(r)for(const Y in r)Sl(r[Y],i,s,Y);if(o){const Y=Ce(o)?o.call(s):o;Reflect.ownKeys(Y).forEach(X=>{Ri(X,Y[X])})}f&&io(f,e,"c");function J(Y,X){ve(X)?X.forEach(R=>Y(R.bind(s))):X&&Y(X.bind(s))}if(J(Zh,a),J(ct,g),J(Qh,v),J(vl,S),J(Jh,m),J(Xh,h),J(iu,y),J(su,C),J(tu,x),J(bl,u),J(_i,b),J(eu,k),ve(O))if(O.length){const Y=e.exposed||(e.exposed={});O.forEach(X=>{Object.defineProperty(Y,X,{get:()=>s[X],set:R=>s[X]=R,enumerable:!0})})}else e.exposed||(e.exposed={});w&&e.render===Rt&&(e.render=w),M!=null&&(e.inheritAttrs=M),B&&(e.components=B),L&&(e.directives=L),k&&pl(e)}function au(e,t,s=Rt){ve(e)&&(e=Jr(e));for(const i in e){const n=e[i];let d;Ie(n)?"default"in n?d=At(n.from||i,n.default,!0):d=At(n.from||i):d=At(n),je(d)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>d.value,set:p=>d.value=p}):t[i]=d}}function io(e,t,s){bt(ve(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,s)}function Sl(e,t,s,i){let n=i.includes(".")?fl(s,i):()=>s[i];if(We(e)){const d=t[e];Ce(d)&&Ke(n,d)}else if(Ce(e))Ke(n,e.bind(s));else if(Ie(e))if(ve(e))e.forEach(d=>Sl(d,t,s,i));else{const d=Ce(e.handler)?e.handler.bind(s):t[e.handler];Ce(d)&&Ke(n,d,e)}}function yl(e){const t=e.type,{mixins:s,extends:i}=t,{mixins:n,optionsCache:d,config:{optionMergeStrategies:p}}=e.appContext,r=d.get(t);let o;return r?o=r:!n.length&&!s&&!i?o=t:(o={},n.length&&n.forEach(l=>Wi(o,l,p,!0)),Wi(o,t,p)),Ie(t)&&d.set(t,o),o}function Wi(e,t,s,i=!1){const{mixins:n,extends:d}=t;d&&Wi(e,d,s,!0),n&&n.forEach(p=>Wi(e,p,s,!0));for(const p in t)if(!(i&&p==="expose")){const r=lu[p]||s&&s[p];e[p]=r?r(e[p],t[p]):t[p]}return e}const lu={data:ro,props:no,emits:no,methods:Gs,computed:Gs,beforeCreate:et,created:et,beforeMount:et,mounted:et,beforeUpdate:et,updated:et,beforeDestroy:et,beforeUnmount:et,destroyed:et,unmounted:et,activated:et,deactivated:et,errorCaptured:et,serverPrefetch:et,components:Gs,directives:Gs,watch:hu,provide:ro,inject:cu};function ro(e,t){return t?e?function(){return ze(Ce(e)?e.call(this,this):e,Ce(t)?t.call(this,this):t)}:t:e}function cu(e,t){return Gs(Jr(e),Jr(t))}function Jr(e){if(ve(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function et(e,t){return e?[...new Set([].concat(e,t))]:t}function Gs(e,t){return e?ze(Object.create(null),e,t):t}function no(e,t){return e?ve(e)&&ve(t)?[...new Set([...e,...t])]:ze(Object.create(null),so(e),so(t??{})):t}function hu(e,t){if(!e)return t;if(!t)return e;const s=ze(Object.create(null),e);for(const i in t)s[i]=et(e[i],t[i]);return s}function wl(){return{app:null,config:{isNativeTag:Ta,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uu=0;function du(e,t){return function(i,n=null){Ce(i)||(i=ze({},i)),n!=null&&!Ie(n)&&(n=null);const d=wl(),p=new WeakSet,r=[];let o=!1;const l=d.app={_uid:uu++,_component:i,_props:n,_container:null,_context:d,_instance:null,version:Wu,get config(){return d.config},set config(f){},use(f,...a){return p.has(f)||(f&&Ce(f.install)?(p.add(f),f.install(l,...a)):Ce(f)&&(p.add(f),f(l,...a))),l},mixin(f){return d.mixins.includes(f)||d.mixins.push(f),l},component(f,a){return a?(d.components[f]=a,l):d.components[f]},directive(f,a){return a?(d.directives[f]=a,l):d.directives[f]},mount(f,a,g){if(!o){const v=l._ceVNode||ie(i,n);return v.appContext=d,g===!0?g="svg":g===!1&&(g=void 0),e(v,f,g),o=!0,l._container=f,f.__vue_app__=l,cr(v.component)}},onUnmount(f){r.push(f)},unmount(){o&&(bt(r,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide(f,a){return d.provides[f]=a,l},runWithContext(f){const a=ps;ps=l;try{return f()}finally{ps=a}}};return l}}let ps=null;const fu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ss(t)}Modifiers`]||e[`${ns(t)}Modifiers`];function _u(e,t,...s){if(e.isUnmounted)return;const i=e.vnode.props||He;let n=s;const d=t.startsWith("update:"),p=d&&fu(i,t.slice(7));p&&(p.trim&&(n=s.map(f=>We(f)?f.trim():f)),p.number&&(n=s.map(tr)));let r,o=i[r=br(t)]||i[r=br(ss(t))];!o&&d&&(o=i[r=br(ns(t))]),o&&bt(o,e,6,n);const l=i[r+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[r])return;e.emitted[r]=!0,bt(l,e,6,n)}}const pu=new WeakMap;function Cl(e,t,s=!1){const i=s?pu:t.emitsCache,n=i.get(e);if(n!==void 0)return n;const d=e.emits;let p={},r=!1;if(!Ce(e)){const o=l=>{const f=Cl(l,t,!0);f&&(r=!0,ze(p,f))};!s&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}return!d&&!r?(Ie(e)&&i.set(e,null),null):(ve(d)?d.forEach(o=>p[o]=null):ze(p,d),Ie(e)&&i.set(e,p),p)}function ar(e,t){return!e||!Zi(t)?!1:(t=t.slice(2).replace(/Once$/,""),Te(e,t[0].toLowerCase()+t.slice(1))||Te(e,ns(t))||Te(e,t))}function oo(e){const{type:t,vnode:s,proxy:i,withProxy:n,propsOptions:[d],slots:p,attrs:r,emit:o,render:l,renderCache:f,props:a,data:g,setupState:v,ctx:S,inheritAttrs:m}=e,h=Ui(e);let c,u;try{if(s.shapeFlag&4){const b=n||i,w=b;c=kt(l.call(w,b,f,a,v,g,S)),u=r}else{const b=t;c=kt(b.length>1?b(a,{attrs:r,slots:p,emit:o}):b(a,null)),u=t.props?r:gu(r)}}catch(b){ti.length=0,nr(b,e,1),c=ie(jt)}let _=c;if(u&&m!==!1){const b=Object.keys(u),{shapeFlag:w}=_;b.length&&w&7&&(d&&b.some(bn)&&(u=mu(u,d)),_=ms(_,u,!1,!0))}return s.dirs&&(_=ms(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(s.dirs):s.dirs),s.transition&&ai(_,s.transition),c=_,Ui(h),c}const gu=e=>{let t;for(const s in e)(s==="class"||s==="style"||Zi(s))&&((t||(t={}))[s]=e[s]);return t},mu=(e,t)=>{const s={};for(const i in e)(!bn(i)||!(i.slice(9)in t))&&(s[i]=e[i]);return s};function vu(e,t,s){const{props:i,children:n,component:d}=e,{props:p,children:r,patchFlag:o}=t,l=d.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&o>=0){if(o&1024)return!0;if(o&16)return i?ao(i,p,l):!!p;if(o&8){const f=t.dynamicProps;for(let a=0;a<f.length;a++){const g=f[a];if(El(p,i,g)&&!ar(l,g))return!0}}}else return(n||r)&&(!r||!r.$stable)?!0:i===p?!1:i?p?ao(i,p,l):!0:!!p;return!1}function ao(e,t,s){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const d=i[n];if(El(t,e,d)&&!ar(s,d))return!0}return!1}function El(e,t,s){const i=e[s],n=t[s];return s==="style"&&Ie(i)&&Ie(n)?!is(i,n):i!==n}function bu({vnode:e,parent:t},s){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=s,t=t.parent;else break}}const xl={},kl=()=>Object.create(xl),Rl=e=>Object.getPrototypeOf(e)===xl;function Su(e,t,s,i=!1){const n={},d=kl();e.propsDefaults=Object.create(null),Al(e,t,n,d);for(const p in e.propsOptions[0])p in n||(n[p]=void 0);s?e.props=i?n:il(n):e.type.props?e.props=n:e.props=d,e.attrs=d}function yu(e,t,s,i){const{props:n,attrs:d,vnode:{patchFlag:p}}=e,r=Ae(n),[o]=e.propsOptions;let l=!1;if((i||p>0)&&!(p&16)){if(p&8){const f=e.vnode.dynamicProps;for(let a=0;a<f.length;a++){let g=f[a];if(ar(e.emitsOptions,g))continue;const v=t[g];if(o)if(Te(d,g))v!==d[g]&&(d[g]=v,l=!0);else{const S=ss(g);n[S]=Xr(o,r,S,v,e,!1)}else v!==d[g]&&(d[g]=v,l=!0)}}}else{Al(e,t,n,d)&&(l=!0);let f;for(const a in r)(!t||!Te(t,a)&&((f=ns(a))===a||!Te(t,f)))&&(o?s&&(s[a]!==void 0||s[f]!==void 0)&&(n[a]=Xr(o,r,a,void 0,e,!0)):delete n[a]);if(d!==r)for(const a in d)(!t||!Te(t,a))&&(delete d[a],l=!0)}l&&Pt(e.attrs,"set","")}function Al(e,t,s,i){const[n,d]=e.propsOptions;let p=!1,r;if(t)for(let o in t){if(Js(o))continue;const l=t[o];let f;n&&Te(n,f=ss(o))?!d||!d.includes(f)?s[f]=l:(r||(r={}))[f]=l:ar(e.emitsOptions,o)||(!(o in i)||l!==i[o])&&(i[o]=l,p=!0)}if(d){const o=Ae(s),l=r||He;for(let f=0;f<d.length;f++){const a=d[f];s[a]=Xr(n,o,a,l[a],e,!Te(l,a))}}return p}function Xr(e,t,s,i,n,d){const p=e[s];if(p!=null){const r=Te(p,"default");if(r&&i===void 0){const o=p.default;if(p.type!==Function&&!p.skipFactory&&Ce(o)){const{propsDefaults:l}=n;if(s in l)i=l[s];else{const f=pi(n);i=l[s]=o.call(null,t),f()}}else i=o;n.ce&&n.ce._setProp(s,i)}p[0]&&(d&&!r?i=!1:p[1]&&(i===""||i===ns(s))&&(i=!0))}return i}const wu=new WeakMap;function Dl(e,t,s=!1){const i=s?wu:t.propsCache,n=i.get(e);if(n)return n;const d=e.props,p={},r=[];let o=!1;if(!Ce(e)){const f=a=>{o=!0;const[g,v]=Dl(a,t,!0);ze(p,g),v&&r.push(...v)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!d&&!o)return Ie(e)&&i.set(e,xs),xs;if(ve(d))for(let f=0;f<d.length;f++){const a=ss(d[f]);lo(a)&&(p[a]=He)}else if(d)for(const f in d){const a=ss(f);if(lo(a)){const g=d[f],v=p[a]=ve(g)||Ce(g)?{type:g}:ze({},g),S=v.type;let m=!1,h=!0;if(ve(S))for(let c=0;c<S.length;++c){const u=S[c],_=Ce(u)&&u.name;if(_==="Boolean"){m=!0;break}else _==="String"&&(h=!1)}else m=Ce(S)&&S.name==="Boolean";v[0]=m,v[1]=h,(m||Te(v,"default"))&&r.push(a)}}const l=[p,r];return Ie(e)&&i.set(e,l),l}function lo(e){return e[0]!=="$"&&!Js(e)}const Tn=e=>e==="_"||e==="_ctx"||e==="$stable",On=e=>ve(e)?e.map(kt):[kt(e)],Cu=(e,t,s)=>{if(t._n)return t;const i=ul((...n)=>On(t(...n)),s);return i._c=!1,i},Ll=(e,t,s)=>{const i=e._ctx;for(const n in e){if(Tn(n))continue;const d=e[n];if(Ce(d))t[n]=Cu(n,d,i);else if(d!=null){const p=On(d);t[n]=()=>p}}},Tl=(e,t)=>{const s=On(t);e.slots.default=()=>s},Ol=(e,t,s)=>{for(const i in t)(s||!Tn(i))&&(e[i]=t[i])},Eu=(e,t,s)=>{const i=e.slots=kl();if(e.vnode.shapeFlag&32){const n=t._;n?(Ol(i,t,s),s&&Ma(i,"_",n,!0)):Ll(t,i)}else t&&Tl(e,t)},xu=(e,t,s)=>{const{vnode:i,slots:n}=e;let d=!0,p=He;if(i.shapeFlag&32){const r=t._;r?s&&r===1?d=!1:Ol(n,t,s):(d=!t.$stable,Ll(t,n)),p=t}else t&&(Tl(e,t),p={default:1});if(d)for(const r in n)!Tn(r)&&p[r]==null&&delete n[r]},rt=Lu;function ku(e){return Ru(e)}function Ru(e,t){const s=sr();s.__VUE__=!0;const{insert:i,remove:n,patchProp:d,createElement:p,createText:r,createComment:o,setText:l,setElementText:f,parentNode:a,nextSibling:g,setScopeId:v=Rt,insertStaticContent:S}=e,m=(D,I,F,q=null,G=null,W=null,le=void 0,ae=null,ne=!!I.dynamicChildren)=>{if(D===I)return;D&&!Cs(D,I)&&(q=T(D),$(D,G,W,!0),D=null),I.patchFlag===-2&&(ne=!1,I.dynamicChildren=null);const{type:se,ref:ge,shapeFlag:oe}=I;switch(se){case lr:h(D,I,F,q);break;case jt:c(D,I,F,q);break;case kr:D==null&&u(I,F,q,le);break;case me:B(D,I,F,q,G,W,le,ae,ne);break;default:oe&1?w(D,I,F,q,G,W,le,ae,ne):oe&6?L(D,I,F,q,G,W,le,ae,ne):(oe&64||oe&128)&&se.process(D,I,F,q,G,W,le,ae,ne,K)}ge!=null&&G?Zs(ge,D&&D.ref,W,I||D,!I):ge==null&&D&&D.ref!=null&&Zs(D.ref,null,W,D,!0)},h=(D,I,F,q)=>{if(D==null)i(I.el=r(I.children),F,q);else{const G=I.el=D.el;I.children!==D.children&&l(G,I.children)}},c=(D,I,F,q)=>{D==null?i(I.el=o(I.children||""),F,q):I.el=D.el},u=(D,I,F,q)=>{[D.el,D.anchor]=S(D.children,I,F,q,D.el,D.anchor)},_=({el:D,anchor:I},F,q)=>{let G;for(;D&&D!==I;)G=g(D),i(D,F,q),D=G;i(I,F,q)},b=({el:D,anchor:I})=>{let F;for(;D&&D!==I;)F=g(D),n(D),D=F;n(I)},w=(D,I,F,q,G,W,le,ae,ne)=>{if(I.type==="svg"?le="svg":I.type==="math"&&(le="mathml"),D==null)C(I,F,q,G,W,le,ae,ne);else{const se=D.el&&D.el._isVueCE?D.el:null;try{se&&se._beginPatch(),k(D,I,G,W,le,ae,ne)}finally{se&&se._endPatch()}}},C=(D,I,F,q,G,W,le,ae)=>{let ne,se;const{props:ge,shapeFlag:oe,transition:_e,dirs:pe}=D;if(ne=D.el=p(D.type,W,ge&&ge.is,ge),oe&8?f(ne,D.children):oe&16&&y(D.children,ne,null,q,G,xr(D,W),le,ae),pe&&ls(D,null,q,"created"),x(ne,D,D.scopeId,le,q),ge){for(const De in ge)De!=="value"&&!Js(De)&&d(ne,De,null,ge[De],W,q);"value"in ge&&d(ne,"value",null,ge.value,W),(se=ge.onVnodeBeforeMount)&&Ct(se,q,D)}pe&&ls(D,null,q,"beforeMount");const Ee=Au(G,_e);Ee&&_e.beforeEnter(ne),i(ne,I,F),((se=ge&&ge.onVnodeMounted)||Ee||pe)&&rt(()=>{se&&Ct(se,q,D),Ee&&_e.enter(ne),pe&&ls(D,null,q,"mounted")},G)},x=(D,I,F,q,G)=>{if(F&&v(D,F),q)for(let W=0;W<q.length;W++)v(D,q[W]);if(G){let W=G.subTree;if(I===W||Ml(W.type)&&(W.ssContent===I||W.ssFallback===I)){const le=G.vnode;x(D,le,le.scopeId,le.slotScopeIds,G.parent)}}},y=(D,I,F,q,G,W,le,ae,ne=0)=>{for(let se=ne;se<D.length;se++){const ge=D[se]=ae?It(D[se]):kt(D[se]);m(null,ge,I,F,q,G,W,le,ae)}},k=(D,I,F,q,G,W,le)=>{const ae=I.el=D.el;let{patchFlag:ne,dynamicChildren:se,dirs:ge}=I;ne|=D.patchFlag&16;const oe=D.props||He,_e=I.props||He;let pe;if(F&&cs(F,!1),(pe=_e.onVnodeBeforeUpdate)&&Ct(pe,F,I,D),ge&&ls(I,D,F,"beforeUpdate"),F&&cs(F,!0),(oe.innerHTML&&_e.innerHTML==null||oe.textContent&&_e.textContent==null)&&f(ae,""),se?O(D.dynamicChildren,se,ae,F,q,xr(I,G),W):le||X(D,I,ae,null,F,q,xr(I,G),W,!1),ne>0){if(ne&16)M(ae,oe,_e,F,G);else if(ne&2&&oe.class!==_e.class&&d(ae,"class",null,_e.class,G),ne&4&&d(ae,"style",oe.style,_e.style,G),ne&8){const Ee=I.dynamicProps;for(let De=0;De<Ee.length;De++){const xe=Ee[De],qe=oe[xe],Fe=_e[xe];(Fe!==qe||xe==="value")&&d(ae,xe,qe,Fe,G,F)}}ne&1&&D.children!==I.children&&f(ae,I.children)}else!le&&se==null&&M(ae,oe,_e,F,G);((pe=_e.onVnodeUpdated)||ge)&&rt(()=>{pe&&Ct(pe,F,I,D),ge&&ls(I,D,F,"updated")},q)},O=(D,I,F,q,G,W,le)=>{for(let ae=0;ae<I.length;ae++){const ne=D[ae],se=I[ae],ge=ne.el&&(ne.type===me||!Cs(ne,se)||ne.shapeFlag&198)?a(ne.el):F;m(ne,se,ge,null,q,G,W,le,!0)}},M=(D,I,F,q,G)=>{if(I!==F){if(I!==He)for(const W in I)!Js(W)&&!(W in F)&&d(D,W,I[W],null,G,q);for(const W in F){if(Js(W))continue;const le=F[W],ae=I[W];le!==ae&&W!=="value"&&d(D,W,ae,le,G,q)}"value"in F&&d(D,"value",I.value,F.value,G)}},B=(D,I,F,q,G,W,le,ae,ne)=>{const se=I.el=D?D.el:r(""),ge=I.anchor=D?D.anchor:r("");let{patchFlag:oe,dynamicChildren:_e,slotScopeIds:pe}=I;pe&&(ae=ae?ae.concat(pe):pe),D==null?(i(se,F,q),i(ge,F,q),y(I.children||[],F,ge,G,W,le,ae,ne)):oe>0&&oe&64&&_e&&D.dynamicChildren&&D.dynamicChildren.length===_e.length?(O(D.dynamicChildren,_e,F,G,W,le,ae),(I.key!=null||G&&I===G.subTree)&&Il(D,I,!0)):X(D,I,F,ge,G,W,le,ae,ne)},L=(D,I,F,q,G,W,le,ae,ne)=>{I.slotScopeIds=ae,D==null?I.shapeFlag&512?G.ctx.activate(I,F,q,le,ne):V(I,F,q,G,W,le,ne):Z(D,I,ne)},V=(D,I,F,q,G,W,le)=>{const ae=D.component=Hu(D,q,G);if(gl(D)&&(ae.ctx.renderer=K),$u(ae,!1,le),ae.asyncDep){if(G&&G.registerDep(ae,J,le),!D.el){const ne=ae.subTree=ie(jt);c(null,ne,I,F),D.placeholder=ne.el}}else J(ae,D,I,F,G,W,le)},Z=(D,I,F)=>{const q=I.component=D.component;if(vu(D,I,F))if(q.asyncDep&&!q.asyncResolved){Y(q,I,F);return}else q.next=I,q.update();else I.el=D.el,q.vnode=I},J=(D,I,F,q,G,W,le)=>{const ae=()=>{if(D.isMounted){let{next:oe,bu:_e,u:pe,parent:Ee,vnode:De}=D;{const Re=Pl(D);if(Re){oe&&(oe.el=De.el,Y(D,oe,le)),Re.asyncDep.then(()=>{rt(()=>{D.isUnmounted||se()},G)});return}}let xe=oe,qe;cs(D,!1),oe?(oe.el=De.el,Y(D,oe,le)):oe=De,_e&&ki(_e),(qe=oe.props&&oe.props.onVnodeBeforeUpdate)&&Ct(qe,Ee,oe,De),cs(D,!0);const Fe=oo(D),Xe=D.subTree;D.subTree=Fe,m(Xe,Fe,a(Xe.el),T(Xe),D,G,W),oe.el=Fe.el,xe===null&&bu(D,Fe.el),pe&&rt(pe,G),(qe=oe.props&&oe.props.onVnodeUpdated)&&rt(()=>Ct(qe,Ee,oe,De),G)}else{let oe;const{el:_e,props:pe}=I,{bm:Ee,m:De,parent:xe,root:qe,type:Fe}=D,Xe=Qs(I);cs(D,!1),Ee&&ki(Ee),!Xe&&(oe=pe&&pe.onVnodeBeforeMount)&&Ct(oe,xe,I),cs(D,!0);{qe.ce&&qe.ce._hasShadowRoot()&&qe.ce._injectChildStyle(Fe);const Re=D.subTree=oo(D);m(null,Re,F,q,D,G,W),I.el=Re.el}if(De&&rt(De,G),!Xe&&(oe=pe&&pe.onVnodeMounted)){const Re=I;rt(()=>Ct(oe,xe,Re),G)}(I.shapeFlag&256||xe&&Qs(xe.vnode)&&xe.vnode.shapeFlag&256)&&D.a&&rt(D.a,G),D.isMounted=!0,I=F=q=null}};D.scope.on();const ne=D.effect=new Wa(ae);D.scope.off();const se=D.update=ne.run.bind(ne),ge=D.job=ne.runIfDirty.bind(ne);ge.i=D,ge.id=D.uid,ne.scheduler=()=>Ln(ge),cs(D,!0),se()},Y=(D,I,F)=>{I.component=D;const q=D.vnode.props;D.vnode=I,D.next=null,yu(D,I.props,q,F),xu(D,I.children,F),Ft(),Qn(D),Nt()},X=(D,I,F,q,G,W,le,ae,ne=!1)=>{const se=D&&D.children,ge=D?D.shapeFlag:0,oe=I.children,{patchFlag:_e,shapeFlag:pe}=I;if(_e>0){if(_e&128){P(se,oe,F,q,G,W,le,ae,ne);return}else if(_e&256){R(se,oe,F,q,G,W,le,ae,ne);return}}pe&8?(ge&16&&fe(se,G,W),oe!==se&&f(F,oe)):ge&16?pe&16?P(se,oe,F,q,G,W,le,ae,ne):fe(se,G,W,!0):(ge&8&&f(F,""),pe&16&&y(oe,F,q,G,W,le,ae,ne))},R=(D,I,F,q,G,W,le,ae,ne)=>{D=D||xs,I=I||xs;const se=D.length,ge=I.length,oe=Math.min(se,ge);let _e;for(_e=0;_e<oe;_e++){const pe=I[_e]=ne?It(I[_e]):kt(I[_e]);m(D[_e],pe,F,null,G,W,le,ae,ne)}se>ge?fe(D,G,W,!0,!1,oe):y(I,F,q,G,W,le,ae,ne,oe)},P=(D,I,F,q,G,W,le,ae,ne)=>{let se=0;const ge=I.length;let oe=D.length-1,_e=ge-1;for(;se<=oe&&se<=_e;){const pe=D[se],Ee=I[se]=ne?It(I[se]):kt(I[se]);if(Cs(pe,Ee))m(pe,Ee,F,null,G,W,le,ae,ne);else break;se++}for(;se<=oe&&se<=_e;){const pe=D[oe],Ee=I[_e]=ne?It(I[_e]):kt(I[_e]);if(Cs(pe,Ee))m(pe,Ee,F,null,G,W,le,ae,ne);else break;oe--,_e--}if(se>oe){if(se<=_e){const pe=_e+1,Ee=pe<ge?I[pe].el:q;for(;se<=_e;)m(null,I[se]=ne?It(I[se]):kt(I[se]),F,Ee,G,W,le,ae,ne),se++}}else if(se>_e)for(;se<=oe;)$(D[se],G,W,!0),se++;else{const pe=se,Ee=se,De=new Map;for(se=Ee;se<=_e;se++){const ht=I[se]=ne?It(I[se]):kt(I[se]);ht.key!=null&&De.set(ht.key,se)}let xe,qe=0;const Fe=_e-Ee+1;let Xe=!1,Re=0;const as=new Array(Fe);for(se=0;se<Fe;se++)as[se]=0;for(se=pe;se<=oe;se++){const ht=D[se];if(qe>=Fe){$(ht,G,W,!0);continue}let wt;if(ht.key!=null)wt=De.get(ht.key);else for(xe=Ee;xe<=_e;xe++)if(as[xe-Ee]===0&&Cs(ht,I[xe])){wt=xe;break}wt===void 0?$(ht,G,W,!0):(as[wt-Ee]=se+1,wt>=Re?Re=wt:Xe=!0,m(ht,I[wt],F,null,G,W,le,ae,ne),qe++)}const zn=Xe?Du(as):xs;for(xe=zn.length-1,se=Fe-1;se>=0;se--){const ht=Ee+se,wt=I[ht],qn=I[ht+1],Gn=ht+1<ge?qn.el||Bl(qn):q;as[se]===0?m(null,wt,F,Gn,G,W,le,ae,ne):Xe&&(xe<0||se!==zn[xe]?H(wt,F,Gn,2):xe--)}}},H=(D,I,F,q,G=null)=>{const{el:W,type:le,transition:ae,children:ne,shapeFlag:se}=D;if(se&6){H(D.component.subTree,I,F,q);return}if(se&128){D.suspense.move(I,F,q);return}if(se&64){le.move(D,I,F,K);return}if(le===me){i(W,I,F);for(let oe=0;oe<ne.length;oe++)H(ne[oe],I,F,q);i(D.anchor,I,F);return}if(le===kr){_(D,I,F);return}if(q!==2&&se&1&&ae)if(q===0)ae.beforeEnter(W),i(W,I,F),rt(()=>ae.enter(W),G);else{const{leave:oe,delayLeave:_e,afterLeave:pe}=ae,Ee=()=>{D.ctx.isUnmounted?n(W):i(W,I,F)},De=()=>{W._isLeaving&&W[Gt](!0),oe(W,()=>{Ee(),pe&&pe()})};_e?_e(W,Ee,De):De()}else i(W,I,F)},$=(D,I,F,q=!1,G=!1)=>{const{type:W,props:le,ref:ae,children:ne,dynamicChildren:se,shapeFlag:ge,patchFlag:oe,dirs:_e,cacheIndex:pe}=D;if(oe===-2&&(G=!1),ae!=null&&(Ft(),Zs(ae,null,F,D,!0),Nt()),pe!=null&&(I.renderCache[pe]=void 0),ge&256){I.ctx.deactivate(D);return}const Ee=ge&1&&_e,De=!Qs(D);let xe;if(De&&(xe=le&&le.onVnodeBeforeUnmount)&&Ct(xe,I,D),ge&6)de(D.component,F,q);else{if(ge&128){D.suspense.unmount(F,q);return}Ee&&ls(D,null,I,"beforeUnmount"),ge&64?D.type.remove(D,I,F,K,q):se&&!se.hasOnce&&(W!==me||oe>0&&oe&64)?fe(se,I,F,!1,!0):(W===me&&oe&384||!G&&ge&16)&&fe(ne,I,F),q&&Q(D)}(De&&(xe=le&&le.onVnodeUnmounted)||Ee)&&rt(()=>{xe&&Ct(xe,I,D),Ee&&ls(D,null,I,"unmounted")},F)},Q=D=>{const{type:I,el:F,anchor:q,transition:G}=D;if(I===me){re(F,q);return}if(I===kr){b(D);return}const W=()=>{n(F),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(D.shapeFlag&1&&G&&!G.persisted){const{leave:le,delayLeave:ae}=G,ne=()=>le(F,W);ae?ae(D.el,W,ne):ne()}else W()},re=(D,I)=>{let F;for(;D!==I;)F=g(D),n(D),D=F;n(I)},de=(D,I,F)=>{const{bum:q,scope:G,job:W,subTree:le,um:ae,m:ne,a:se}=D;co(ne),co(se),q&&ki(q),G.stop(),W&&(W.flags|=8,$(le,D,I,F)),ae&&rt(ae,I),rt(()=>{D.isUnmounted=!0},I)},fe=(D,I,F,q=!1,G=!1,W=0)=>{for(let le=W;le<D.length;le++)$(D[le],I,F,q,G)},T=D=>{if(D.shapeFlag&6)return T(D.component.subTree);if(D.shapeFlag&128)return D.suspense.next();const I=g(D.anchor||D.el),F=I&&I[Vh];return F?g(F):I};let A=!1;const U=(D,I,F)=>{let q;D==null?I._vnode&&($(I._vnode,null,null,!0),q=I._vnode.component):m(I._vnode||null,D,I,null,null,null,F),I._vnode=D,A||(A=!0,Qn(q),ll(),A=!1)},K={p:m,um:$,m:H,r:Q,mt:V,mc:y,pc:X,pbc:O,n:T,o:e};return{render:U,hydrate:void 0,createApp:du(U)}}function xr({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function cs({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Au(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Il(e,t,s=!1){const i=e.children,n=t.children;if(ve(i)&&ve(n))for(let d=0;d<i.length;d++){const p=i[d];let r=n[d];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=n[d]=It(n[d]),r.el=p.el),!s&&r.patchFlag!==-2&&Il(p,r)),r.type===lr&&(r.patchFlag===-1&&(r=n[d]=It(r)),r.el=p.el),r.type===jt&&!r.el&&(r.el=p.el)}}function Du(e){const t=e.slice(),s=[0];let i,n,d,p,r;const o=e.length;for(i=0;i<o;i++){const l=e[i];if(l!==0){if(n=s[s.length-1],e[n]<l){t[i]=n,s.push(i);continue}for(d=0,p=s.length-1;d<p;)r=d+p>>1,e[s[r]]<l?d=r+1:p=r;l<e[s[d]]&&(d>0&&(t[i]=s[d-1]),s[d]=i)}}for(d=s.length,p=s[d-1];d-- >0;)s[d]=p,p=t[p];return s}function Pl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Pl(t)}function co(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function Bl(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?Bl(t.subTree):null}const Ml=e=>e.__isSuspense;function Lu(e,t){t&&t.pendingBranch?ve(e)?t.effects.push(...e):t.effects.push(e):Fh(e)}const me=Symbol.for("v-fgt"),lr=Symbol.for("v-txt"),jt=Symbol.for("v-cmt"),kr=Symbol.for("v-stc"),ti=[];let ut=null;function N(e=!1){ti.push(ut=e?null:[])}function Tu(){ti.pop(),ut=ti[ti.length-1]||null}let li=1;function Vi(e,t=!1){li+=e,e<0&&ut&&t&&(ut.hasOnce=!0)}function Hl(e){return e.dynamicChildren=li>0?ut||xs:null,Tu(),li>0&&ut&&ut.push(e),e}function j(e,t,s,i,n,d){return Hl(E(e,t,s,i,n,d,!0))}function Je(e,t,s,i,n){return Hl(ie(e,t,s,i,n,!0))}function Ki(e){return e?e.__v_isVNode===!0:!1}function Cs(e,t){return e.type===t.type&&e.key===t.key}const $l=({key:e})=>e??null,Ai=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?We(e)||je(e)||Ce(e)?{i:pt,r:e,k:t,f:!!s}:e:null);function E(e,t=null,s=null,i=0,n=null,d=e===me?0:1,p=!1,r=!1){const o={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&$l(t),ref:t&&Ai(t),scopeId:hl,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:pt};return r?(In(o,s),d&128&&e.normalize(o)):s&&(o.shapeFlag|=We(s)?8:16),li>0&&!p&&ut&&(o.patchFlag>0||d&6)&&o.patchFlag!==32&&ut.push(o),o}const ie=Ou;function Ou(e,t=null,s=null,i=0,n=null,d=!1){if((!e||e===ru)&&(e=jt),Ki(e)){const r=ms(e,t,!0);return s&&In(r,s),li>0&&!d&&ut&&(r.shapeFlag&6?ut[ut.indexOf(e)]=r:ut.push(r)),r.patchFlag=-2,r}if(ju(e)&&(e=e.__vccOpts),t){t=Iu(t);let{class:r,style:o}=t;r&&!We(r)&&(t.class=ye(r)),Ie(o)&&(rr(o)&&!ve(o)&&(o=ze({},o)),t.style=yn(o))}const p=We(e)?1:Ml(e)?128:Kh(e)?64:Ie(e)?4:Ce(e)?2:0;return E(e,t,s,i,n,p,d,!0)}function Iu(e){return e?rr(e)||Rl(e)?ze({},e):e:null}function ms(e,t,s=!1,i=!1){const{props:n,ref:d,patchFlag:p,children:r,transition:o}=e,l=t?Pu(n||{},t):n,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&$l(l),ref:t&&t.ref?s&&d?ve(d)?d.concat(Ai(t)):[d,Ai(t)]:Ai(t):d,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==me?p===-1?16:p|16:p,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:o,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ms(e.ssContent),ssFallback:e.ssFallback&&ms(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return o&&i&&ai(f,o.clone(f)),f}function Pe(e=" ",t=0){return ie(lr,null,e,t)}function we(e="",t=!1){return t?(N(),Je(jt,null,e)):ie(jt,null,e)}function kt(e){return e==null||typeof e=="boolean"?ie(jt):ve(e)?ie(me,null,e.slice()):Ki(e)?It(e):ie(lr,null,String(e))}function It(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ms(e)}function In(e,t){let s=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(ve(t))s=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),In(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!Rl(t)?t._ctx=pt:n===3&&pt&&(pt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ce(t)?(t={default:t,_ctx:pt},s=32):(t=String(t),i&64?(s=16,t=[Pe(t)]):s=8);e.children=t,e.shapeFlag|=s}function Pu(...e){const t={};for(let s=0;s<e.length;s++){const i=e[s];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=ye([t.class,i.class]));else if(n==="style")t.style=yn([t.style,i.style]);else if(Zi(n)){const d=t[n],p=i[n];p&&d!==p&&!(ve(d)&&d.includes(p))&&(t[n]=d?[].concat(d,p):p)}else n!==""&&(t[n]=i[n])}return t}function Ct(e,t,s,i=null){bt(e,t,7,[s,i])}const Bu=wl();let Mu=0;function Hu(e,t,s){const i=e.type,n=(t?t.appContext:e.appContext)||Bu,d={uid:Mu++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Na(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Dl(i,n),emitsOptions:Cl(i,n),emit:null,emitted:null,propsDefaults:He,inheritAttrs:i.inheritAttrs,ctx:He,data:He,props:He,attrs:He,slots:He,refs:He,setupState:He,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=t?t.root:d,d.emit=_u.bind(null,d),e.ce&&e.ce(d),d}let it=null;const Pn=()=>it||pt;let zi,Yr;{const e=sr(),t=(s,i)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(i),d=>{n.length>1?n.forEach(p=>p(d)):n[0](d)}};zi=t("__VUE_INSTANCE_SETTERS__",s=>it=s),Yr=t("__VUE_SSR_SETTERS__",s=>ci=s)}const pi=e=>{const t=it;return zi(e),e.scope.on(),()=>{e.scope.off(),zi(t)}},ho=()=>{it&&it.scope.off(),zi(null)};function Fl(e){return e.vnode.shapeFlag&4}let ci=!1;function $u(e,t=!1,s=!1){t&&Yr(t);const{props:i,children:n}=e.vnode,d=Fl(e);Su(e,i,d,t),Eu(e,n,s||t);const p=d?Fu(e,t):void 0;return t&&Yr(!1),p}function Fu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,nu);const{setup:i}=s;if(i){Ft();const n=e.setupContext=i.length>1?Uu(e):null,d=pi(e),p=fi(i,e,0,[e.props,n]),r=Oa(p);if(Nt(),d(),(r||e.sp)&&!Qs(e)&&pl(e),r){if(p.then(ho,ho),t)return p.then(o=>{uo(e,o)}).catch(o=>{nr(o,e,0)});e.asyncDep=p}else uo(e,p)}else Nl(e)}function uo(e,t,s){Ce(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ie(t)&&(e.setupState=nl(t)),Nl(e)}function Nl(e,t,s){const i=e.type;e.render||(e.render=i.render||Rt);{const n=pi(e);Ft();try{ou(e)}finally{Nt(),n()}}}const Nu={get(e,t){return Ze(e,"get",""),e[t]}};function Uu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Nu),slots:e.slots,emit:e.emit,expose:t}}function cr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(nl(Dn(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ei)return ei[s](e)},has(t,s){return s in t||s in ei}})):e.proxy}function ju(e){return Ce(e)&&"__vccOpts"in e}const Oe=(e,t)=>Ph(e,t,ci);function qi(e,t,s){try{Vi(-1);const i=arguments.length;return i===2?Ie(t)&&!ve(t)?Ki(t)?ie(e,null,[t]):ie(e,t):ie(e,null,t):(i>3?s=Array.prototype.slice.call(arguments,2):i===3&&Ki(s)&&(s=[s]),ie(e,t,s))}finally{Vi(1)}}const Wu="3.5.28";let Zr;const fo=typeof window<"u"&&window.trustedTypes;if(fo)try{Zr=fo.createPolicy("vue",{createHTML:e=>e})}catch{}const Ul=Zr?e=>Zr.createHTML(e):e=>e,Vu="http://www.w3.org/2000/svg",Ku="http://www.w3.org/1998/Math/MathML",Ot=typeof document<"u"?document:null,_o=Ot&&Ot.createElement("template"),zu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,i)=>{const n=t==="svg"?Ot.createElementNS(Vu,e):t==="mathml"?Ot.createElementNS(Ku,e):s?Ot.createElement(e,{is:s}):Ot.createElement(e);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>Ot.createTextNode(e),createComment:e=>Ot.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ot.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,i,n,d){const p=s?s.previousSibling:t.lastChild;if(n&&(n===d||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===d||!(n=n.nextSibling)););else{_o.innerHTML=Ul(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const r=_o.content;if(i==="svg"||i==="mathml"){const o=r.firstChild;for(;o.firstChild;)r.appendChild(o.firstChild);r.removeChild(o)}t.insertBefore(r,s)}return[p?p.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},zt="transition",Us="animation",Ls=Symbol("_vtc"),jl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},qu=ze({},qh,jl),hs=(e,t=[])=>{ve(e)?e.forEach(s=>s(...t)):e&&e(...t)},po=e=>e?ve(e)?e.some(t=>t.length>1):e.length>1:!1;function Gu(e){const t={};for(const B in e)B in jl||(t[B]=e[B]);if(e.css===!1)return t;const{name:s="v",type:i,duration:n,enterFromClass:d=`${s}-enter-from`,enterActiveClass:p=`${s}-enter-active`,enterToClass:r=`${s}-enter-to`,appearFromClass:o=d,appearActiveClass:l=p,appearToClass:f=r,leaveFromClass:a=`${s}-leave-from`,leaveActiveClass:g=`${s}-leave-active`,leaveToClass:v=`${s}-leave-to`}=e,S=Ju(n),m=S&&S[0],h=S&&S[1],{onBeforeEnter:c,onEnter:u,onEnterCancelled:_,onLeave:b,onLeaveCancelled:w,onBeforeAppear:C=c,onAppear:x=u,onAppearCancelled:y=_}=t,k=(B,L,V,Z)=>{B._enterCancelled=Z,Jt(B,L?f:r),Jt(B,L?l:p),V&&V()},O=(B,L)=>{B._isLeaving=!1,Jt(B,a),Jt(B,v),Jt(B,g),L&&L()},M=B=>(L,V)=>{const Z=B?x:u,J=()=>k(L,B,V);hs(Z,[L,J]),go(()=>{Jt(L,B?o:d),Et(L,B?f:r),po(Z)||mo(L,i,m,J)})};return ze(t,{onBeforeEnter(B){hs(c,[B]),Et(B,d),Et(B,p)},onBeforeAppear(B){hs(C,[B]),Et(B,o),Et(B,l)},onEnter:M(!1),onAppear:M(!0),onLeave(B,L){B._isLeaving=!0;const V=()=>O(B,L);Et(B,a),B._enterCancelled?(Et(B,g),Qr(B)):(Qr(B),Et(B,g)),go(()=>{B._isLeaving&&(Jt(B,a),Et(B,v),po(b)||mo(B,i,h,V))}),hs(b,[B,V])},onEnterCancelled(B){k(B,!1,void 0,!0),hs(_,[B])},onAppearCancelled(B){k(B,!0,void 0,!0),hs(y,[B])},onLeaveCancelled(B){O(B),hs(w,[B])}})}function Ju(e){if(e==null)return null;if(Ie(e))return[Rr(e.enter),Rr(e.leave)];{const t=Rr(e);return[t,t]}}function Rr(e){return Qc(e)}function Et(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[Ls]||(e[Ls]=new Set)).add(t)}function Jt(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const s=e[Ls];s&&(s.delete(t),s.size||(e[Ls]=void 0))}function go(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Xu=0;function mo(e,t,s,i){const n=e._endId=++Xu,d=()=>{n===e._endId&&i()};if(s!=null)return setTimeout(d,s);const{type:p,timeout:r,propCount:o}=Wl(e,t);if(!p)return i();const l=p+"end";let f=0;const a=()=>{e.removeEventListener(l,g),d()},g=v=>{v.target===e&&++f>=o&&a()};setTimeout(()=>{f<o&&a()},r+1),e.addEventListener(l,g)}function Wl(e,t){const s=window.getComputedStyle(e),i=S=>(s[S]||"").split(", "),n=i(`${zt}Delay`),d=i(`${zt}Duration`),p=vo(n,d),r=i(`${Us}Delay`),o=i(`${Us}Duration`),l=vo(r,o);let f=null,a=0,g=0;t===zt?p>0&&(f=zt,a=p,g=d.length):t===Us?l>0&&(f=Us,a=l,g=o.length):(a=Math.max(p,l),f=a>0?p>l?zt:Us:null,g=f?f===zt?d.length:o.length:0);const v=f===zt&&/\b(?:transform|all)(?:,|$)/.test(i(`${zt}Property`).toString());return{type:f,timeout:a,propCount:g,hasTransform:v}}function vo(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,i)=>bo(s)+bo(e[i])))}function bo(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Qr(e){return(e?e.ownerDocument:document).body.offsetHeight}function Yu(e,t,s){const i=e[Ls];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Gi=Symbol("_vod"),Vl=Symbol("_vsh"),Di={name:"show",beforeMount(e,{value:t},{transition:s}){e[Gi]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):js(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:i}){!t!=!s&&(i?t?(i.beforeEnter(e),js(e,!0),i.enter(e)):i.leave(e,()=>{js(e,!1)}):js(e,t))},beforeUnmount(e,{value:t}){js(e,t)}};function js(e,t){e.style.display=t?e[Gi]:"none",e[Vl]=!t}const Zu=Symbol(""),Qu=/(?:^|;)\s*display\s*:/;function ed(e,t,s){const i=e.style,n=We(s);let d=!1;if(s&&!n){if(t)if(We(t))for(const p of t.split(";")){const r=p.slice(0,p.indexOf(":")).trim();s[r]==null&&Li(i,r,"")}else for(const p in t)s[p]==null&&Li(i,p,"");for(const p in s)p==="display"&&(d=!0),Li(i,p,s[p])}else if(n){if(t!==s){const p=i[Zu];p&&(s+=";"+p),i.cssText=s,d=Qu.test(s)}}else t&&e.removeAttribute("style");Gi in e&&(e[Gi]=d?i.display:"",e[Vl]&&(i.display="none"))}const So=/\s*!important$/;function Li(e,t,s){if(ve(s))s.forEach(i=>Li(e,t,i));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const i=td(e,t);So.test(s)?e.setProperty(ns(i),s.replace(So,""),"important"):e[i]=s}}const yo=["Webkit","Moz","ms"],Ar={};function td(e,t){const s=Ar[t];if(s)return s;let i=ss(t);if(i!=="filter"&&i in e)return Ar[t]=i;i=Ba(i);for(let n=0;n<yo.length;n++){const d=yo[n]+i;if(d in e)return Ar[t]=d}return t}const wo="http://www.w3.org/1999/xlink";function Co(e,t,s,i,n,d=nh(t)){i&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(wo,t.slice(6,t.length)):e.setAttributeNS(wo,t,s):s==null||d&&!Ha(s)?e.removeAttribute(t):e.setAttribute(t,d?"":Dt(s)?String(s):s)}function Eo(e,t,s,i,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Ul(s):s);return}const d=e.tagName;if(t==="value"&&d!=="PROGRESS"&&!d.includes("-")){const r=d==="OPTION"?e.getAttribute("value")||"":e.value,o=s==null?e.type==="checkbox"?"on":"":String(s);(r!==o||!("_value"in e))&&(e.value=o),s==null&&e.removeAttribute(t),e._value=s;return}let p=!1;if(s===""||s==null){const r=typeof e[t];r==="boolean"?s=Ha(s):s==null&&r==="string"?(s="",p=!0):r==="number"&&(s=0,p=!0)}try{e[t]=s}catch{}p&&e.removeAttribute(n||t)}function Mt(e,t,s,i){e.addEventListener(t,s,i)}function sd(e,t,s,i){e.removeEventListener(t,s,i)}const xo=Symbol("_vei");function id(e,t,s,i,n=null){const d=e[xo]||(e[xo]={}),p=d[t];if(i&&p)p.value=i;else{const[r,o]=rd(t);if(i){const l=d[t]=ad(i,n);Mt(e,r,l,o)}else p&&(sd(e,r,p,o),d[t]=void 0)}}const ko=/(?:Once|Passive|Capture)$/;function rd(e){let t;if(ko.test(e)){t={};let i;for(;i=e.match(ko);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ns(e.slice(2)),t]}let Dr=0;const nd=Promise.resolve(),od=()=>Dr||(nd.then(()=>Dr=0),Dr=Date.now());function ad(e,t){const s=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=s.attached)return;bt(ld(i,s.value),t,5,[i])};return s.value=e,s.attached=od(),s}function ld(e,t){if(ve(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const Ro=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,cd=(e,t,s,i,n,d)=>{const p=n==="svg";t==="class"?Yu(e,i,p):t==="style"?ed(e,s,i):Zi(t)?bn(t)||id(e,t,s,i,d):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):hd(e,t,i,p))?(Eo(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Co(e,t,i,p,d,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!We(i))?Eo(e,ss(t),i,d,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Co(e,t,i,p))};function hd(e,t,s,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ro(t)&&Ce(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Ro(t)&&We(s)?!1:t in e}const Kl=new WeakMap,zl=new WeakMap,Ji=Symbol("_moveCb"),Ao=Symbol("_enterCb"),ud=e=>(delete e.props.mode,e),dd=ud({name:"TransitionGroup",props:ze({},qu,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=Pn(),i=zh();let n,d;return vl(()=>{if(!n.length)return;const p=e.moveClass||`${e.name||"v"}-move`;if(!md(n[0].el,s.vnode.el,p)){n=[];return}n.forEach(_d),n.forEach(pd);const r=n.filter(gd);Qr(s.vnode.el),r.forEach(o=>{const l=o.el,f=l.style;Et(l,p),f.transform=f.webkitTransform=f.transitionDuration="";const a=l[Ji]=g=>{g&&g.target!==l||(!g||g.propertyName.endsWith("transform"))&&(l.removeEventListener("transitionend",a),l[Ji]=null,Jt(l,p))};l.addEventListener("transitionend",a)}),n=[]}),()=>{const p=Ae(e),r=Gu(p);let o=p.tag||me;if(n=[],d)for(let l=0;l<d.length;l++){const f=d[l];f.el&&f.el instanceof Element&&(n.push(f),ai(f,zr(f,r,i,s)),Kl.set(f,ql(f.el)))}d=t.default?_l(t.default()):[];for(let l=0;l<d.length;l++){const f=d[l];f.key!=null&&ai(f,zr(f,r,i,s))}return ie(o,null,d)}}}),fd=dd;function _d(e){const t=e.el;t[Ji]&&t[Ji](),t[Ao]&&t[Ao]()}function pd(e){zl.set(e,ql(e.el))}function gd(e){const t=Kl.get(e),s=zl.get(e),i=t.left-s.left,n=t.top-s.top;if(i||n){const d=e.el,p=d.style,r=d.getBoundingClientRect();let o=1,l=1;return d.offsetWidth&&(o=r.width/d.offsetWidth),d.offsetHeight&&(l=r.height/d.offsetHeight),(!Number.isFinite(o)||o===0)&&(o=1),(!Number.isFinite(l)||l===0)&&(l=1),Math.abs(o-1)<.01&&(o=1),Math.abs(l-1)<.01&&(l=1),p.transform=p.webkitTransform=`translate(${i/o}px,${n/l}px)`,p.transitionDuration="0s",e}}function ql(e){const t=e.getBoundingClientRect();return{left:t.left,top:t.top}}function md(e,t,s){const i=e.cloneNode(),n=e[Ls];n&&n.forEach(r=>{r.split(/\s+/).forEach(o=>o&&i.classList.remove(o))}),s.split(/\s+/).forEach(r=>r&&i.classList.add(r)),i.style.display="none";const d=t.nodeType===1?t:t.parentNode;d.appendChild(i);const{hasTransform:p}=Wl(i);return d.removeChild(i),p}const rs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ve(t)?s=>ki(t,s):t};function vd(e){e.target.composing=!0}function Do(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const gt=Symbol("_assign");function Lo(e,t,s){return t&&(e=e.trim()),s&&(e=tr(e)),e}const nt={created(e,{modifiers:{lazy:t,trim:s,number:i}},n){e[gt]=rs(n);const d=i||n.props&&n.props.type==="number";Mt(e,t?"change":"input",p=>{p.target.composing||e[gt](Lo(e.value,s,d))}),(s||d)&&Mt(e,"change",()=>{e.value=Lo(e.value,s,d)}),t||(Mt(e,"compositionstart",vd),Mt(e,"compositionend",Do),Mt(e,"change",Do))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:i,trim:n,number:d}},p){if(e[gt]=rs(p),e.composing)return;const r=(d||e.type==="number")&&!/^0\d/.test(e.value)?tr(e.value):e.value,o=t??"";r!==o&&(document.activeElement===e&&e.type!=="range"&&(i&&t===s||n&&e.value.trim()===o)||(e.value=o))}},bd={deep:!0,created(e,t,s){e[gt]=rs(s),Mt(e,"change",()=>{const i=e._modelValue,n=Os(e),d=e.checked,p=e[gt];if(ve(i)){const r=wn(i,n),o=r!==-1;if(d&&!o)p(i.concat(n));else if(!d&&o){const l=[...i];l.splice(r,1),p(l)}}else if(Hs(i)){const r=new Set(i);d?r.add(n):r.delete(n),p(r)}else p(Gl(e,d))})},mounted:To,beforeUpdate(e,t,s){e[gt]=rs(s),To(e,t,s)}};function To(e,{value:t,oldValue:s},i){e._modelValue=t;let n;if(ve(t))n=wn(t,i.props.value)>-1;else if(Hs(t))n=t.has(i.props.value);else{if(t===s)return;n=is(t,Gl(e,!0))}e.checked!==n&&(e.checked=n)}const Oo={created(e,{value:t},s){e.checked=is(t,s.props.value),e[gt]=rs(s),Mt(e,"change",()=>{e[gt](Os(e))})},beforeUpdate(e,{value:t,oldValue:s},i){e[gt]=rs(i),t!==s&&(e.checked=is(t,i.props.value))}},Ts={deep:!0,created(e,{value:t,modifiers:{number:s}},i){const n=Hs(t);Mt(e,"change",()=>{const d=Array.prototype.filter.call(e.options,p=>p.selected).map(p=>s?tr(Os(p)):Os(p));e[gt](e.multiple?n?new Set(d):d:d[0]),e._assigning=!0,ts(()=>{e._assigning=!1})}),e[gt]=rs(i)},mounted(e,{value:t}){Io(e,t)},beforeUpdate(e,t,s){e[gt]=rs(s)},updated(e,{value:t}){e._assigning||Io(e,t)}};function Io(e,t){const s=e.multiple,i=ve(t);if(!(s&&!i&&!Hs(t))){for(let n=0,d=e.options.length;n<d;n++){const p=e.options[n],r=Os(p);if(s)if(i){const o=typeof r;o==="string"||o==="number"?p.selected=t.some(l=>String(l)===String(r)):p.selected=wn(t,r)>-1}else p.selected=t.has(r);else if(is(Os(p),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Os(e){return"_value"in e?e._value:e.value}function Gl(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Sd=["ctrl","shift","alt","meta"],yd={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Sd.some(s=>e[`${s}Key`]&&!t.includes(s))},Ti=(e,t)=>{if(!e)return e;const s=e._withMods||(e._withMods={}),i=t.join(".");return s[i]||(s[i]=((n,...d)=>{for(let p=0;p<t.length;p++){const r=yd[t[p]];if(r&&r(n,t))return}return e(n,...d)}))},wd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Cd=(e,t)=>{const s=e._withKeys||(e._withKeys={}),i=t.join(".");return s[i]||(s[i]=(n=>{if(!("key"in n))return;const d=ns(n.key);if(t.some(p=>p===d||wd[p]===d))return e(n)}))},Ed=ze({patchProp:cd},zu);let Po;function xd(){return Po||(Po=ku(Ed))}const kd=((...e)=>{const t=xd().createApp(...e),{mount:s}=t;return t.mount=i=>{const n=Ad(i);if(!n)return;const d=t._component;!Ce(d)&&!d.render&&!d.template&&(d.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const p=s(n,!1,Rd(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),p},t});function Rd(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ad(e){return We(e)?document.querySelector(e):e}let Jl;const hr=e=>Jl=e,Xl=Symbol();function en(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var si;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(si||(si={}));function Dd(){const e=Ua(!0),t=e.run(()=>he({}));let s=[],i=[];const n=Dn({install(d){hr(n),n._a=d,d.provide(Xl,n),d.config.globalProperties.$pinia=n,i.forEach(p=>s.push(p)),i=[]},use(d){return this._a?s.push(d):i.push(d),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return n}const Yl=()=>{};function Bo(e,t,s,i=Yl){e.add(t);const n=()=>{e.delete(t)&&i()};return!s&&ja()&&ah(n),n}function ys(e,...t){e.forEach(s=>{s(...t)})}const Ld=e=>e(),Mo=Symbol(),Lr=Symbol();function tn(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,i)=>e.set(i,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const i=t[s],n=e[s];en(n)&&en(i)&&e.hasOwnProperty(s)&&!je(i)&&!$t(i)?e[s]=tn(n,i):e[s]=i}return e}const Td=Symbol();function Od(e){return!en(e)||!Object.prototype.hasOwnProperty.call(e,Td)}const{assign:Xt}=Object;function Id(e){return!!(je(e)&&e.effect)}function Pd(e,t,s,i){const{state:n,actions:d,getters:p}=t,r=s.state.value[e];let o;function l(){r||(s.state.value[e]=n?n():{});const f=Lh(s.state.value[e]);return Xt(f,d,Object.keys(p||{}).reduce((a,g)=>(a[g]=Dn(Oe(()=>{hr(s);const v=s._s.get(e);return p[g].call(v,v)})),a),{}))}return o=Zl(e,l,t,s,i,!0),o}function Zl(e,t,s={},i,n,d){let p;const r=Xt({actions:{}},s),o={deep:!0};let l,f,a=new Set,g=new Set,v;const S=i.state.value[e];!d&&!S&&(i.state.value[e]={});let m;function h(y){let k;l=f=!1,typeof y=="function"?(y(i.state.value[e]),k={type:si.patchFunction,storeId:e,events:v}):(tn(i.state.value[e],y),k={type:si.patchObject,payload:y,storeId:e,events:v});const O=m=Symbol();ts().then(()=>{m===O&&(l=!0)}),f=!0,ys(a,k,i.state.value[e])}const c=d?function(){const{state:k}=s,O=k?k():{};this.$patch(M=>{Xt(M,O)})}:Yl;function u(){p.stop(),a.clear(),g.clear(),i._s.delete(e)}const _=(y,k="")=>{if(Mo in y)return y[Lr]=k,y;const O=function(){hr(i);const M=Array.from(arguments),B=new Set,L=new Set;function V(Y){B.add(Y)}function Z(Y){L.add(Y)}ys(g,{args:M,name:O[Lr],store:w,after:V,onError:Z});let J;try{J=y.apply(this&&this.$id===e?this:w,M)}catch(Y){throw ys(L,Y),Y}return J instanceof Promise?J.then(Y=>(ys(B,Y),Y)).catch(Y=>(ys(L,Y),Promise.reject(Y))):(ys(B,J),J)};return O[Mo]=!0,O[Lr]=k,O},b={_p:i,$id:e,$onAction:Bo.bind(null,g),$patch:h,$reset:c,$subscribe(y,k={}){const O=Bo(a,y,k.detached,()=>M()),M=p.run(()=>Ke(()=>i.state.value[e],B=>{(k.flush==="sync"?f:l)&&y({storeId:e,type:si.direct,events:v},B)},Xt({},o,k)));return O},$dispose:u},w=Wt(b);i._s.set(e,w);const x=(i._a&&i._a.runWithContext||Ld)(()=>i._e.run(()=>(p=Ua()).run(()=>t({action:_}))));for(const y in x){const k=x[y];if(je(k)&&!Id(k)||$t(k))d||(S&&Od(k)&&(je(k)?k.value=S[y]:tn(k,S[y])),i.state.value[e][y]=k);else if(typeof k=="function"){const O=_(k,y);x[y]=O,r.actions[y]=k}}return Xt(w,x),Xt(Ae(w),x),Object.defineProperty(w,"$state",{get:()=>i.state.value[e],set:y=>{h(k=>{Xt(k,y)})}}),i._p.forEach(y=>{Xt(w,p.run(()=>y({store:w,app:i._a,pinia:i,options:r})))}),S&&d&&s.hydrate&&s.hydrate(w.$state,S),l=!0,f=!0,w}function Ql(e,t,s){let i;const n=typeof t=="function";i=n?s:t;function d(p,r){const o=Nh();return p=p||(o?At(Xl,null):null),p&&hr(p),p=Jl,p._s.has(e)||(n?Zl(e,t,i,p):Pd(e,i,p)),p._s.get(e)}return d.$id=e,d}function ec(e,t){return function(){return e.apply(t,arguments)}}const{toString:Bd}=Object.prototype,{getPrototypeOf:Bn}=Object,{iterator:ur,toStringTag:tc}=Symbol,dr=(e=>t=>{const s=Bd.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),yt=e=>(e=e.toLowerCase(),t=>dr(t)===e),fr=e=>t=>typeof t===e,{isArray:$s}=Array,Is=fr("undefined");function gi(e){return e!==null&&!Is(e)&&e.constructor!==null&&!Is(e.constructor)&&at(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const sc=yt("ArrayBuffer");function Md(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&sc(e.buffer),t}const Hd=fr("string"),at=fr("function"),ic=fr("number"),mi=e=>e!==null&&typeof e=="object",$d=e=>e===!0||e===!1,Oi=e=>{if(dr(e)!=="object")return!1;const t=Bn(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(tc in e)&&!(ur in e)},Fd=e=>{if(!mi(e)||gi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Nd=yt("Date"),Ud=yt("File"),jd=yt("Blob"),Wd=yt("FileList"),Vd=e=>mi(e)&&at(e.pipe),Kd=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||at(e.append)&&((t=dr(e))==="formdata"||t==="object"&&at(e.toString)&&e.toString()==="[object FormData]"))},zd=yt("URLSearchParams"),[qd,Gd,Jd,Xd]=["ReadableStream","Request","Response","Headers"].map(yt),Yd=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vi(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let i,n;if(typeof e!="object"&&(e=[e]),$s(e))for(i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else{if(gi(e))return;const d=s?Object.getOwnPropertyNames(e):Object.keys(e),p=d.length;let r;for(i=0;i<p;i++)r=d[i],t.call(null,e[r],r,e)}}function rc(e,t){if(gi(e))return null;t=t.toLowerCase();const s=Object.keys(e);let i=s.length,n;for(;i-- >0;)if(n=s[i],t===n.toLowerCase())return n;return null}const ds=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,nc=e=>!Is(e)&&e!==ds;function sn(){const{caseless:e,skipUndefined:t}=nc(this)&&this||{},s={},i=(n,d)=>{if(d==="__proto__"||d==="constructor"||d==="prototype")return;const p=e&&rc(s,d)||d;Oi(s[p])&&Oi(n)?s[p]=sn(s[p],n):Oi(n)?s[p]=sn({},n):$s(n)?s[p]=n.slice():(!t||!Is(n))&&(s[p]=n)};for(let n=0,d=arguments.length;n<d;n++)arguments[n]&&vi(arguments[n],i);return s}const Zd=(e,t,s,{allOwnKeys:i}={})=>(vi(t,(n,d)=>{s&&at(n)?Object.defineProperty(e,d,{value:ec(n,s),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,d,{value:n,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:i}),e),Qd=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ef=(e,t,s,i)=>{e.prototype=Object.create(t.prototype,i),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},tf=(e,t,s,i)=>{let n,d,p;const r={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),d=n.length;d-- >0;)p=n[d],(!i||i(p,e,t))&&!r[p]&&(t[p]=e[p],r[p]=!0);e=s!==!1&&Bn(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},sf=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const i=e.indexOf(t,s);return i!==-1&&i===s},rf=e=>{if(!e)return null;if($s(e))return e;let t=e.length;if(!ic(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},nf=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Bn(Uint8Array)),of=(e,t)=>{const i=(e&&e[ur]).call(e);let n;for(;(n=i.next())&&!n.done;){const d=n.value;t.call(e,d[0],d[1])}},af=(e,t)=>{let s;const i=[];for(;(s=e.exec(t))!==null;)i.push(s);return i},lf=yt("HTMLFormElement"),cf=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,i,n){return i.toUpperCase()+n}),Ho=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),hf=yt("RegExp"),oc=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),i={};vi(s,(n,d)=>{let p;(p=t(n,d,e))!==!1&&(i[d]=p||n)}),Object.defineProperties(e,i)},uf=e=>{oc(e,(t,s)=>{if(at(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const i=e[s];if(at(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},df=(e,t)=>{const s={},i=n=>{n.forEach(d=>{s[d]=!0})};return $s(e)?i(e):i(String(e).split(t)),s},ff=()=>{},_f=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function pf(e){return!!(e&&at(e.append)&&e[tc]==="FormData"&&e[ur])}const gf=e=>{const t=new Array(10),s=(i,n)=>{if(mi(i)){if(t.indexOf(i)>=0)return;if(gi(i))return i;if(!("toJSON"in i)){t[n]=i;const d=$s(i)?[]:{};return vi(i,(p,r)=>{const o=s(p,n+1);!Is(o)&&(d[r]=o)}),t[n]=void 0,d}}return i};return s(e,0)},mf=yt("AsyncFunction"),vf=e=>e&&(mi(e)||at(e))&&at(e.then)&&at(e.catch),ac=((e,t)=>e?setImmediate:t?((s,i)=>(ds.addEventListener("message",({source:n,data:d})=>{n===ds&&d===s&&i.length&&i.shift()()},!1),n=>{i.push(n),ds.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",at(ds.postMessage)),bf=typeof queueMicrotask<"u"?queueMicrotask.bind(ds):typeof process<"u"&&process.nextTick||ac,Sf=e=>e!=null&&at(e[ur]),z={isArray:$s,isArrayBuffer:sc,isBuffer:gi,isFormData:Kd,isArrayBufferView:Md,isString:Hd,isNumber:ic,isBoolean:$d,isObject:mi,isPlainObject:Oi,isEmptyObject:Fd,isReadableStream:qd,isRequest:Gd,isResponse:Jd,isHeaders:Xd,isUndefined:Is,isDate:Nd,isFile:Ud,isBlob:jd,isRegExp:hf,isFunction:at,isStream:Vd,isURLSearchParams:zd,isTypedArray:nf,isFileList:Wd,forEach:vi,merge:sn,extend:Zd,trim:Yd,stripBOM:Qd,inherits:ef,toFlatObject:tf,kindOf:dr,kindOfTest:yt,endsWith:sf,toArray:rf,forEachEntry:of,matchAll:af,isHTMLForm:lf,hasOwnProperty:Ho,hasOwnProp:Ho,reduceDescriptors:oc,freezeMethods:uf,toObjectSet:df,toCamelCase:cf,noop:ff,toFiniteNumber:_f,findKey:rc,global:ds,isContextDefined:nc,isSpecCompliantForm:pf,toJSONObject:gf,isAsyncFn:mf,isThenable:vf,setImmediate:ac,asap:bf,isIterable:Sf};let be=class lc extends Error{static from(t,s,i,n,d,p){const r=new lc(t.message,s||t.code,i,n,d);return r.cause=t,r.name=t.name,p&&Object.assign(r,p),r}constructor(t,s,i,n,d){super(t),this.name="AxiosError",this.isAxiosError=!0,s&&(this.code=s),i&&(this.config=i),n&&(this.request=n),d&&(this.response=d,this.status=d.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}};be.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";be.ERR_BAD_OPTION="ERR_BAD_OPTION";be.ECONNABORTED="ECONNABORTED";be.ETIMEDOUT="ETIMEDOUT";be.ERR_NETWORK="ERR_NETWORK";be.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";be.ERR_DEPRECATED="ERR_DEPRECATED";be.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";be.ERR_BAD_REQUEST="ERR_BAD_REQUEST";be.ERR_CANCELED="ERR_CANCELED";be.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";be.ERR_INVALID_URL="ERR_INVALID_URL";const yf=null;function rn(e){return z.isPlainObject(e)||z.isArray(e)}function cc(e){return z.endsWith(e,"[]")?e.slice(0,-2):e}function $o(e,t,s){return e?e.concat(t).map(function(n,d){return n=cc(n),!s&&d?"["+n+"]":n}).join(s?".":""):t}function wf(e){return z.isArray(e)&&!e.some(rn)}const Cf=z.toFlatObject(z,{},null,function(t){return/^is[A-Z]/.test(t)});function _r(e,t,s){if(!z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=z.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,h){return!z.isUndefined(h[m])});const i=s.metaTokens,n=s.visitor||f,d=s.dots,p=s.indexes,o=(s.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(t);if(!z.isFunction(n))throw new TypeError("visitor must be a function");function l(S){if(S===null)return"";if(z.isDate(S))return S.toISOString();if(z.isBoolean(S))return S.toString();if(!o&&z.isBlob(S))throw new be("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(S)||z.isTypedArray(S)?o&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function f(S,m,h){let c=S;if(S&&!h&&typeof S=="object"){if(z.endsWith(m,"{}"))m=i?m:m.slice(0,-2),S=JSON.stringify(S);else if(z.isArray(S)&&wf(S)||(z.isFileList(S)||z.endsWith(m,"[]"))&&(c=z.toArray(S)))return m=cc(m),c.forEach(function(_,b){!(z.isUndefined(_)||_===null)&&t.append(p===!0?$o([m],b,d):p===null?m:m+"[]",l(_))}),!1}return rn(S)?!0:(t.append($o(h,m,d),l(S)),!1)}const a=[],g=Object.assign(Cf,{defaultVisitor:f,convertValue:l,isVisitable:rn});function v(S,m){if(!z.isUndefined(S)){if(a.indexOf(S)!==-1)throw Error("Circular reference detected in "+m.join("."));a.push(S),z.forEach(S,function(c,u){(!(z.isUndefined(c)||c===null)&&n.call(t,c,z.isString(u)?u.trim():u,m,g))===!0&&v(c,m?m.concat(u):[u])}),a.pop()}}if(!z.isObject(e))throw new TypeError("data must be an object");return v(e),t}function Fo(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function Mn(e,t){this._pairs=[],e&&_r(e,this,t)}const hc=Mn.prototype;hc.append=function(t,s){this._pairs.push([t,s])};hc.toString=function(t){const s=t?function(i){return t.call(this,i,Fo)}:Fo;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function Ef(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function uc(e,t,s){if(!t)return e;const i=s&&s.encode||Ef,n=z.isFunction(s)?{serialize:s}:s,d=n&&n.serialize;let p;if(d?p=d(t,n):p=z.isURLSearchParams(t)?t.toString():new Mn(t,n).toString(i),p){const r=e.indexOf("#");r!==-1&&(e=e.slice(0,r)),e+=(e.indexOf("?")===-1?"?":"&")+p}return e}class No{constructor(){this.handlers=[]}use(t,s,i){return this.handlers.push({fulfilled:t,rejected:s,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){z.forEach(this.handlers,function(i){i!==null&&t(i)})}}const Hn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},xf=typeof URLSearchParams<"u"?URLSearchParams:Mn,kf=typeof FormData<"u"?FormData:null,Rf=typeof Blob<"u"?Blob:null,Af={isBrowser:!0,classes:{URLSearchParams:xf,FormData:kf,Blob:Rf},protocols:["http","https","file","blob","url","data"]},$n=typeof window<"u"&&typeof document<"u",nn=typeof navigator=="object"&&navigator||void 0,Df=$n&&(!nn||["ReactNative","NativeScript","NS"].indexOf(nn.product)<0),Lf=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Tf=$n&&window.location.href||"http://localhost",Of=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$n,hasStandardBrowserEnv:Df,hasStandardBrowserWebWorkerEnv:Lf,navigator:nn,origin:Tf},Symbol.toStringTag,{value:"Module"})),Qe={...Of,...Af};function If(e,t){return _r(e,new Qe.classes.URLSearchParams,{visitor:function(s,i,n,d){return Qe.isNode&&z.isBuffer(s)?(this.append(i,s.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...t})}function Pf(e){return z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Bf(e){const t={},s=Object.keys(e);let i;const n=s.length;let d;for(i=0;i<n;i++)d=s[i],t[d]=e[d];return t}function dc(e){function t(s,i,n,d){let p=s[d++];if(p==="__proto__")return!0;const r=Number.isFinite(+p),o=d>=s.length;return p=!p&&z.isArray(n)?n.length:p,o?(z.hasOwnProp(n,p)?n[p]=[n[p],i]:n[p]=i,!r):((!n[p]||!z.isObject(n[p]))&&(n[p]=[]),t(s,i,n[p],d)&&z.isArray(n[p])&&(n[p]=Bf(n[p])),!r)}if(z.isFormData(e)&&z.isFunction(e.entries)){const s={};return z.forEachEntry(e,(i,n)=>{t(Pf(i),n,s,0)}),s}return null}function Mf(e,t,s){if(z.isString(e))try{return(t||JSON.parse)(e),z.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(s||JSON.stringify)(e)}const bi={transitional:Hn,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const i=s.getContentType()||"",n=i.indexOf("application/json")>-1,d=z.isObject(t);if(d&&z.isHTMLForm(t)&&(t=new FormData(t)),z.isFormData(t))return n?JSON.stringify(dc(t)):t;if(z.isArrayBuffer(t)||z.isBuffer(t)||z.isStream(t)||z.isFile(t)||z.isBlob(t)||z.isReadableStream(t))return t;if(z.isArrayBufferView(t))return t.buffer;if(z.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let r;if(d){if(i.indexOf("application/x-www-form-urlencoded")>-1)return If(t,this.formSerializer).toString();if((r=z.isFileList(t))||i.indexOf("multipart/form-data")>-1){const o=this.env&&this.env.FormData;return _r(r?{"files[]":t}:t,o&&new o,this.formSerializer)}}return d||n?(s.setContentType("application/json",!1),Mf(t)):t}],transformResponse:[function(t){const s=this.transitional||bi.transitional,i=s&&s.forcedJSONParsing,n=this.responseType==="json";if(z.isResponse(t)||z.isReadableStream(t))return t;if(t&&z.isString(t)&&(i&&!this.responseType||n)){const p=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(r){if(p)throw r.name==="SyntaxError"?be.from(r,be.ERR_BAD_RESPONSE,this,null,this.response):r}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qe.classes.FormData,Blob:Qe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],e=>{bi.headers[e]={}});const Hf=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$f=e=>{const t={};let s,i,n;return e&&e.split(`
`).forEach(function(p){n=p.indexOf(":"),s=p.substring(0,n).trim().toLowerCase(),i=p.substring(n+1).trim(),!(!s||t[s]&&Hf[s])&&(s==="set-cookie"?t[s]?t[s].push(i):t[s]=[i]:t[s]=t[s]?t[s]+", "+i:i)}),t},Uo=Symbol("internals");function Ws(e){return e&&String(e).trim().toLowerCase()}function Ii(e){return e===!1||e==null?e:z.isArray(e)?e.map(Ii):String(e)}function Ff(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=s.exec(e);)t[i[1]]=i[2];return t}const Nf=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Tr(e,t,s,i,n){if(z.isFunction(i))return i.call(this,t,s);if(n&&(t=s),!!z.isString(t)){if(z.isString(i))return t.indexOf(i)!==-1;if(z.isRegExp(i))return i.test(t)}}function Uf(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,i)=>s.toUpperCase()+i)}function jf(e,t){const s=z.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+s,{value:function(n,d,p){return this[i].call(this,t,n,d,p)},configurable:!0})})}let lt=class{constructor(t){t&&this.set(t)}set(t,s,i){const n=this;function d(r,o,l){const f=Ws(o);if(!f)throw new Error("header name must be a non-empty string");const a=z.findKey(n,f);(!a||n[a]===void 0||l===!0||l===void 0&&n[a]!==!1)&&(n[a||o]=Ii(r))}const p=(r,o)=>z.forEach(r,(l,f)=>d(l,f,o));if(z.isPlainObject(t)||t instanceof this.constructor)p(t,s);else if(z.isString(t)&&(t=t.trim())&&!Nf(t))p($f(t),s);else if(z.isObject(t)&&z.isIterable(t)){let r={},o,l;for(const f of t){if(!z.isArray(f))throw TypeError("Object iterator must return a key-value pair");r[l=f[0]]=(o=r[l])?z.isArray(o)?[...o,f[1]]:[o,f[1]]:f[1]}p(r,s)}else t!=null&&d(s,t,i);return this}get(t,s){if(t=Ws(t),t){const i=z.findKey(this,t);if(i){const n=this[i];if(!s)return n;if(s===!0)return Ff(n);if(z.isFunction(s))return s.call(this,n,i);if(z.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Ws(t),t){const i=z.findKey(this,t);return!!(i&&this[i]!==void 0&&(!s||Tr(this,this[i],i,s)))}return!1}delete(t,s){const i=this;let n=!1;function d(p){if(p=Ws(p),p){const r=z.findKey(i,p);r&&(!s||Tr(i,i[r],r,s))&&(delete i[r],n=!0)}}return z.isArray(t)?t.forEach(d):d(t),n}clear(t){const s=Object.keys(this);let i=s.length,n=!1;for(;i--;){const d=s[i];(!t||Tr(this,this[d],d,t,!0))&&(delete this[d],n=!0)}return n}normalize(t){const s=this,i={};return z.forEach(this,(n,d)=>{const p=z.findKey(i,d);if(p){s[p]=Ii(n),delete s[d];return}const r=t?Uf(d):String(d).trim();r!==d&&delete s[d],s[r]=Ii(n),i[r]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return z.forEach(this,(i,n)=>{i!=null&&i!==!1&&(s[n]=t&&z.isArray(i)?i.join(", "):i)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const i=new this(t);return s.forEach(n=>i.set(n)),i}static accessor(t){const i=(this[Uo]=this[Uo]={accessors:{}}).accessors,n=this.prototype;function d(p){const r=Ws(p);i[r]||(jf(n,p),i[r]=!0)}return z.isArray(t)?t.forEach(d):d(t),this}};lt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(lt.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[s]=i}}});z.freezeMethods(lt);function Or(e,t){const s=this||bi,i=t||s,n=lt.from(i.headers);let d=i.data;return z.forEach(e,function(r){d=r.call(s,d,n.normalize(),t?t.status:void 0)}),n.normalize(),d}function fc(e){return!!(e&&e.__CANCEL__)}let Si=class extends be{constructor(t,s,i){super(t??"canceled",be.ERR_CANCELED,s,i),this.name="CanceledError",this.__CANCEL__=!0}};function _c(e,t,s){const i=s.config.validateStatus;!s.status||!i||i(s.status)?e(s):t(new be("Request failed with status code "+s.status,[be.ERR_BAD_REQUEST,be.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Wf(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Vf(e,t){e=e||10;const s=new Array(e),i=new Array(e);let n=0,d=0,p;return t=t!==void 0?t:1e3,function(o){const l=Date.now(),f=i[d];p||(p=l),s[n]=o,i[n]=l;let a=d,g=0;for(;a!==n;)g+=s[a++],a=a%e;if(n=(n+1)%e,n===d&&(d=(d+1)%e),l-p<t)return;const v=f&&l-f;return v?Math.round(g*1e3/v):void 0}}function Kf(e,t){let s=0,i=1e3/t,n,d;const p=(l,f=Date.now())=>{s=f,n=null,d&&(clearTimeout(d),d=null),e(...l)};return[(...l)=>{const f=Date.now(),a=f-s;a>=i?p(l,f):(n=l,d||(d=setTimeout(()=>{d=null,p(n)},i-a)))},()=>n&&p(n)]}const Xi=(e,t,s=3)=>{let i=0;const n=Vf(50,250);return Kf(d=>{const p=d.loaded,r=d.lengthComputable?d.total:void 0,o=p-i,l=n(o),f=p<=r;i=p;const a={loaded:p,total:r,progress:r?p/r:void 0,bytes:o,rate:l||void 0,estimated:l&&r&&f?(r-p)/l:void 0,event:d,lengthComputable:r!=null,[t?"download":"upload"]:!0};e(a)},s)},jo=(e,t)=>{const s=e!=null;return[i=>t[0]({lengthComputable:s,total:e,loaded:i}),t[1]]},Wo=e=>(...t)=>z.asap(()=>e(...t)),zf=Qe.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Qe.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Qe.origin),Qe.navigator&&/(msie|trident)/i.test(Qe.navigator.userAgent)):()=>!0,qf=Qe.hasStandardBrowserEnv?{write(e,t,s,i,n,d,p){if(typeof document>"u")return;const r=[`${e}=${encodeURIComponent(t)}`];z.isNumber(s)&&r.push(`expires=${new Date(s).toUTCString()}`),z.isString(i)&&r.push(`path=${i}`),z.isString(n)&&r.push(`domain=${n}`),d===!0&&r.push("secure"),z.isString(p)&&r.push(`SameSite=${p}`),document.cookie=r.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Gf(e){return typeof e!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Jf(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function pc(e,t,s){let i=!Gf(t);return e&&(i||s==!1)?Jf(e,t):t}const Vo=e=>e instanceof lt?{...e}:e;function vs(e,t){t=t||{};const s={};function i(l,f,a,g){return z.isPlainObject(l)&&z.isPlainObject(f)?z.merge.call({caseless:g},l,f):z.isPlainObject(f)?z.merge({},f):z.isArray(f)?f.slice():f}function n(l,f,a,g){if(z.isUndefined(f)){if(!z.isUndefined(l))return i(void 0,l,a,g)}else return i(l,f,a,g)}function d(l,f){if(!z.isUndefined(f))return i(void 0,f)}function p(l,f){if(z.isUndefined(f)){if(!z.isUndefined(l))return i(void 0,l)}else return i(void 0,f)}function r(l,f,a){if(a in t)return i(l,f);if(a in e)return i(void 0,l)}const o={url:d,method:d,data:d,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:r,headers:(l,f,a)=>n(Vo(l),Vo(f),a,!0)};return z.forEach(Object.keys({...e,...t}),function(f){if(f==="__proto__"||f==="constructor"||f==="prototype")return;const a=z.hasOwnProp(o,f)?o[f]:n,g=a(e[f],t[f],f);z.isUndefined(g)&&a!==r||(s[f]=g)}),s}const gc=e=>{const t=vs({},e);let{data:s,withXSRFToken:i,xsrfHeaderName:n,xsrfCookieName:d,headers:p,auth:r}=t;if(t.headers=p=lt.from(p),t.url=uc(pc(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),r&&p.set("Authorization","Basic "+btoa((r.username||"")+":"+(r.password?unescape(encodeURIComponent(r.password)):""))),z.isFormData(s)){if(Qe.hasStandardBrowserEnv||Qe.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if(z.isFunction(s.getHeaders)){const o=s.getHeaders(),l=["content-type","content-length"];Object.entries(o).forEach(([f,a])=>{l.includes(f.toLowerCase())&&p.set(f,a)})}}if(Qe.hasStandardBrowserEnv&&(i&&z.isFunction(i)&&(i=i(t)),i||i!==!1&&zf(t.url))){const o=n&&d&&qf.read(d);o&&p.set(n,o)}return t},Xf=typeof XMLHttpRequest<"u",Yf=Xf&&function(e){return new Promise(function(s,i){const n=gc(e);let d=n.data;const p=lt.from(n.headers).normalize();let{responseType:r,onUploadProgress:o,onDownloadProgress:l}=n,f,a,g,v,S;function m(){v&&v(),S&&S(),n.cancelToken&&n.cancelToken.unsubscribe(f),n.signal&&n.signal.removeEventListener("abort",f)}let h=new XMLHttpRequest;h.open(n.method.toUpperCase(),n.url,!0),h.timeout=n.timeout;function c(){if(!h)return;const _=lt.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),w={data:!r||r==="text"||r==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:_,config:e,request:h};_c(function(x){s(x),m()},function(x){i(x),m()},w),h=null}"onloadend"in h?h.onloadend=c:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(c)},h.onabort=function(){h&&(i(new be("Request aborted",be.ECONNABORTED,e,h)),h=null)},h.onerror=function(b){const w=b&&b.message?b.message:"Network Error",C=new be(w,be.ERR_NETWORK,e,h);C.event=b||null,i(C),h=null},h.ontimeout=function(){let b=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const w=n.transitional||Hn;n.timeoutErrorMessage&&(b=n.timeoutErrorMessage),i(new be(b,w.clarifyTimeoutError?be.ETIMEDOUT:be.ECONNABORTED,e,h)),h=null},d===void 0&&p.setContentType(null),"setRequestHeader"in h&&z.forEach(p.toJSON(),function(b,w){h.setRequestHeader(w,b)}),z.isUndefined(n.withCredentials)||(h.withCredentials=!!n.withCredentials),r&&r!=="json"&&(h.responseType=n.responseType),l&&([g,S]=Xi(l,!0),h.addEventListener("progress",g)),o&&h.upload&&([a,v]=Xi(o),h.upload.addEventListener("progress",a),h.upload.addEventListener("loadend",v)),(n.cancelToken||n.signal)&&(f=_=>{h&&(i(!_||_.type?new Si(null,e,h):_),h.abort(),h=null)},n.cancelToken&&n.cancelToken.subscribe(f),n.signal&&(n.signal.aborted?f():n.signal.addEventListener("abort",f)));const u=Wf(n.url);if(u&&Qe.protocols.indexOf(u)===-1){i(new be("Unsupported protocol "+u+":",be.ERR_BAD_REQUEST,e));return}h.send(d||null)})},Zf=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let i=new AbortController,n;const d=function(l){if(!n){n=!0,r();const f=l instanceof Error?l:this.reason;i.abort(f instanceof be?f:new Si(f instanceof Error?f.message:f))}};let p=t&&setTimeout(()=>{p=null,d(new be(`timeout of ${t}ms exceeded`,be.ETIMEDOUT))},t);const r=()=>{e&&(p&&clearTimeout(p),p=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(d):l.removeEventListener("abort",d)}),e=null)};e.forEach(l=>l.addEventListener("abort",d));const{signal:o}=i;return o.unsubscribe=()=>z.asap(r),o}},Qf=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let i=0,n;for(;i<s;)n=i+t,yield e.slice(i,n),i=n},e_=async function*(e,t){for await(const s of t_(e))yield*Qf(s,t)},t_=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:i}=await t.read();if(s)break;yield i}}finally{await t.cancel()}},Ko=(e,t,s,i)=>{const n=e_(e,t);let d=0,p,r=o=>{p||(p=!0,i&&i(o))};return new ReadableStream({async pull(o){try{const{done:l,value:f}=await n.next();if(l){r(),o.close();return}let a=f.byteLength;if(s){let g=d+=a;s(g)}o.enqueue(new Uint8Array(f))}catch(l){throw r(l),l}},cancel(o){return r(o),n.return()}},{highWaterMark:2})},zo=64*1024,{isFunction:xi}=z,s_=(({Request:e,Response:t})=>({Request:e,Response:t}))(z.global),{ReadableStream:qo,TextEncoder:Go}=z.global,Jo=(e,...t)=>{try{return!!e(...t)}catch{return!1}},i_=e=>{e=z.merge.call({skipUndefined:!0},s_,e);const{fetch:t,Request:s,Response:i}=e,n=t?xi(t):typeof fetch=="function",d=xi(s),p=xi(i);if(!n)return!1;const r=n&&xi(qo),o=n&&(typeof Go=="function"?(S=>m=>S.encode(m))(new Go):async S=>new Uint8Array(await new s(S).arrayBuffer())),l=d&&r&&Jo(()=>{let S=!1;const m=new s(Qe.origin,{body:new qo,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!m}),f=p&&r&&Jo(()=>z.isReadableStream(new i("").body)),a={stream:f&&(S=>S.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!a[S]&&(a[S]=(m,h)=>{let c=m&&m[S];if(c)return c.call(m);throw new be(`Response type '${S}' is not supported`,be.ERR_NOT_SUPPORT,h)})});const g=async S=>{if(S==null)return 0;if(z.isBlob(S))return S.size;if(z.isSpecCompliantForm(S))return(await new s(Qe.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(z.isArrayBufferView(S)||z.isArrayBuffer(S))return S.byteLength;if(z.isURLSearchParams(S)&&(S=S+""),z.isString(S))return(await o(S)).byteLength},v=async(S,m)=>{const h=z.toFiniteNumber(S.getContentLength());return h??g(m)};return async S=>{let{url:m,method:h,data:c,signal:u,cancelToken:_,timeout:b,onDownloadProgress:w,onUploadProgress:C,responseType:x,headers:y,withCredentials:k="same-origin",fetchOptions:O}=gc(S),M=t||fetch;x=x?(x+"").toLowerCase():"text";let B=Zf([u,_&&_.toAbortSignal()],b),L=null;const V=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let Z;try{if(C&&l&&h!=="get"&&h!=="head"&&(Z=await v(y,c))!==0){let H=new s(m,{method:"POST",body:c,duplex:"half"}),$;if(z.isFormData(c)&&($=H.headers.get("content-type"))&&y.setContentType($),H.body){const[Q,re]=jo(Z,Xi(Wo(C)));c=Ko(H.body,zo,Q,re)}}z.isString(k)||(k=k?"include":"omit");const J=d&&"credentials"in s.prototype,Y={...O,signal:B,method:h.toUpperCase(),headers:y.normalize().toJSON(),body:c,duplex:"half",credentials:J?k:void 0};L=d&&new s(m,Y);let X=await(d?M(L,O):M(m,Y));const R=f&&(x==="stream"||x==="response");if(f&&(w||R&&V)){const H={};["status","statusText","headers"].forEach(de=>{H[de]=X[de]});const $=z.toFiniteNumber(X.headers.get("content-length")),[Q,re]=w&&jo($,Xi(Wo(w),!0))||[];X=new i(Ko(X.body,zo,Q,()=>{re&&re(),V&&V()}),H)}x=x||"text";let P=await a[z.findKey(a,x)||"text"](X,S);return!R&&V&&V(),await new Promise((H,$)=>{_c(H,$,{data:P,headers:lt.from(X.headers),status:X.status,statusText:X.statusText,config:S,request:L})})}catch(J){throw V&&V(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new be("Network Error",be.ERR_NETWORK,S,L,J&&J.response),{cause:J.cause||J}):be.from(J,J&&J.code,S,L,J&&J.response)}}},r_=new Map,mc=e=>{let t=e&&e.env||{};const{fetch:s,Request:i,Response:n}=t,d=[i,n,s];let p=d.length,r=p,o,l,f=r_;for(;r--;)o=d[r],l=f.get(o),l===void 0&&f.set(o,l=r?new Map:i_(t)),f=l;return l};mc();const Fn={http:yf,xhr:Yf,fetch:{get:mc}};z.forEach(Fn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Xo=e=>`- ${e}`,n_=e=>z.isFunction(e)||e===null||e===!1;function o_(e,t){e=z.isArray(e)?e:[e];const{length:s}=e;let i,n;const d={};for(let p=0;p<s;p++){i=e[p];let r;if(n=i,!n_(i)&&(n=Fn[(r=String(i)).toLowerCase()],n===void 0))throw new be(`Unknown adapter '${r}'`);if(n&&(z.isFunction(n)||(n=n.get(t))))break;d[r||"#"+p]=n}if(!n){const p=Object.entries(d).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let r=s?p.length>1?`since :
`+p.map(Xo).join(`
`):" "+Xo(p[0]):"as no adapter specified";throw new be("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n}const vc={getAdapter:o_,adapters:Fn};function Ir(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Si(null,e)}function Yo(e){return Ir(e),e.headers=lt.from(e.headers),e.data=Or.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),vc.getAdapter(e.adapter||bi.adapter,e)(e).then(function(i){return Ir(e),i.data=Or.call(e,e.transformResponse,i),i.headers=lt.from(i.headers),i},function(i){return fc(i)||(Ir(e),i&&i.response&&(i.response.data=Or.call(e,e.transformResponse,i.response),i.response.headers=lt.from(i.response.headers))),Promise.reject(i)})}const bc="1.13.5",pr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{pr[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const Zo={};pr.transitional=function(t,s,i){function n(d,p){return"[Axios v"+bc+"] Transitional option '"+d+"'"+p+(i?". "+i:"")}return(d,p,r)=>{if(t===!1)throw new be(n(p," has been removed"+(s?" in "+s:"")),be.ERR_DEPRECATED);return s&&!Zo[p]&&(Zo[p]=!0,console.warn(n(p," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(d,p,r):!0}};pr.spelling=function(t){return(s,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function a_(e,t,s){if(typeof e!="object")throw new be("options must be an object",be.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let n=i.length;for(;n-- >0;){const d=i[n],p=t[d];if(p){const r=e[d],o=r===void 0||p(r,d,e);if(o!==!0)throw new be("option "+d+" must be "+o,be.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new be("Unknown option "+d,be.ERR_BAD_OPTION)}}const Pi={assertOptions:a_,validators:pr},_t=Pi.validators;let gs=class{constructor(t){this.defaults=t||{},this.interceptors={request:new No,response:new No}}async request(t,s){try{return await this._request(t,s)}catch(i){if(i instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const d=n.stack?n.stack.replace(/^.+\n/,""):"";try{i.stack?d&&!String(i.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+d):i.stack=d}catch{}}throw i}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=vs(this.defaults,s);const{transitional:i,paramsSerializer:n,headers:d}=s;i!==void 0&&Pi.assertOptions(i,{silentJSONParsing:_t.transitional(_t.boolean),forcedJSONParsing:_t.transitional(_t.boolean),clarifyTimeoutError:_t.transitional(_t.boolean),legacyInterceptorReqResOrdering:_t.transitional(_t.boolean)},!1),n!=null&&(z.isFunction(n)?s.paramsSerializer={serialize:n}:Pi.assertOptions(n,{encode:_t.function,serialize:_t.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Pi.assertOptions(s,{baseUrl:_t.spelling("baseURL"),withXsrfToken:_t.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let p=d&&z.merge(d.common,d[s.method]);d&&z.forEach(["delete","get","head","post","put","patch","common"],S=>{delete d[S]}),s.headers=lt.concat(p,d);const r=[];let o=!0;this.interceptors.request.forEach(function(m){if(typeof m.runWhen=="function"&&m.runWhen(s)===!1)return;o=o&&m.synchronous;const h=s.transitional||Hn;h&&h.legacyInterceptorReqResOrdering?r.unshift(m.fulfilled,m.rejected):r.push(m.fulfilled,m.rejected)});const l=[];this.interceptors.response.forEach(function(m){l.push(m.fulfilled,m.rejected)});let f,a=0,g;if(!o){const S=[Yo.bind(this),void 0];for(S.unshift(...r),S.push(...l),g=S.length,f=Promise.resolve(s);a<g;)f=f.then(S[a++],S[a++]);return f}g=r.length;let v=s;for(;a<g;){const S=r[a++],m=r[a++];try{v=S(v)}catch(h){m.call(this,h);break}}try{f=Yo.call(this,v)}catch(S){return Promise.reject(S)}for(a=0,g=l.length;a<g;)f=f.then(l[a++],l[a++]);return f}getUri(t){t=vs(this.defaults,t);const s=pc(t.baseURL,t.url,t.allowAbsoluteUrls);return uc(s,t.params,t.paramsSerializer)}};z.forEach(["delete","get","head","options"],function(t){gs.prototype[t]=function(s,i){return this.request(vs(i||{},{method:t,url:s,data:(i||{}).data}))}});z.forEach(["post","put","patch"],function(t){function s(i){return function(d,p,r){return this.request(vs(r||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:d,data:p}))}}gs.prototype[t]=s(),gs.prototype[t+"Form"]=s(!0)});let l_=class Sc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(d){s=d});const i=this;this.promise.then(n=>{if(!i._listeners)return;let d=i._listeners.length;for(;d-- >0;)i._listeners[d](n);i._listeners=null}),this.promise.then=n=>{let d;const p=new Promise(r=>{i.subscribe(r),d=r}).then(n);return p.cancel=function(){i.unsubscribe(d)},p},t(function(d,p,r){i.reason||(i.reason=new Si(d,p,r),s(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=i=>{t.abort(i)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Sc(function(n){t=n}),cancel:t}}};function c_(e){return function(s){return e.apply(null,s)}}function h_(e){return z.isObject(e)&&e.isAxiosError===!0}const on={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(on).forEach(([e,t])=>{on[t]=e});function yc(e){const t=new gs(e),s=ec(gs.prototype.request,t);return z.extend(s,gs.prototype,t,{allOwnKeys:!0}),z.extend(s,t,null,{allOwnKeys:!0}),s.create=function(n){return yc(vs(e,n))},s}const Ve=yc(bi);Ve.Axios=gs;Ve.CanceledError=Si;Ve.CancelToken=l_;Ve.isCancel=fc;Ve.VERSION=bc;Ve.toFormData=_r;Ve.AxiosError=be;Ve.Cancel=Ve.CanceledError;Ve.all=function(t){return Promise.all(t)};Ve.spread=c_;Ve.isAxiosError=h_;Ve.mergeConfig=vs;Ve.AxiosHeaders=lt;Ve.formToJSON=e=>dc(z.isHTMLForm(e)?new FormData(e):e);Ve.getAdapter=vc.getAdapter;Ve.HttpStatusCode=on;Ve.default=Ve;const{Axios:cy,AxiosError:hy,CanceledError:uy,isCancel:dy,CancelToken:fy,VERSION:_y,all:py,Cancel:gy,isAxiosError:my,spread:vy,toFormData:by,AxiosHeaders:Sy,HttpStatusCode:yy,formToJSON:wy,getAdapter:Cy,mergeConfig:Ey}=Ve,Se=Ve.create({baseURL:"/api/v1",timeout:3e4,headers:{"Content-Type":"application/json"}});Se.interceptors.request.use(e=>e,e=>Promise.reject(e));Se.interceptors.response.use(e=>{const t=e.data;return t.code!==0&&t.code!==200?(Qo(t.message||"","error"),Promise.reject(new Error(t.message||""))):e},e=>{const t=e.response?.data?.message||e.message||"";return Qo(t,"error"),Promise.reject(e)});function Qo(e,t){const s=window.toast;s&&s[t]?s[t](e):console.log(`[${t.toUpperCase()}] ${e}`)}const As={list:()=>Se.get("/hosts"),get:e=>Se.get(`/hosts/${e}`),create:e=>Se.post("/hosts",e),update:(e,t)=>Se.put(`/hosts/${e}`,t),delete:e=>Se.delete(`/hosts/${e}`),test:e=>Se.post(`/hosts/${e}/test`)},Ht={list:(e,t=!0)=>Se.get("/containers",{params:{host_id:e,all:t}}),get:(e,t)=>Se.get(`/containers/${t}`,{params:{host_id:e}}),create:e=>Se.post("/containers",e),start:(e,t)=>Se.post(`/containers/${t}/start`,null,{params:{host_id:e}}),stop:(e,t,s)=>Se.post(`/containers/${t}/stop`,{timeout:s},{params:{host_id:e}}),restart:(e,t,s)=>Se.post(`/containers/${t}/restart`,{timeout:s},{params:{host_id:e}}),remove:(e,t,s=!1,i=!1,n=!1)=>Se.delete(`/containers/${t}`,{params:{host_id:e,force:s,remove_volumes:i,remove_image:n}}),logs:(e,t,s)=>Se.get(`/containers/${t}/logs`,{params:{host_id:e,...s}}),stats:(e,t)=>Se.get(`/containers/${t}/stats`,{params:{host_id:e}}),createExec:(e,t,s)=>Se.post(`/containers/${t}/exec`,s,{params:{host_id:e}})},an={list:e=>Se.get("/images",{params:{host_id:e}}),get:(e,t)=>Se.get(`/images/${t}`,{params:{host_id:e}}),pull:(e,t)=>Se.post("/images/pull",{host_id:e,image:t}),search:(e,t,s=25)=>Se.get("/images/search",{params:{host_id:e,term:t,limit:s}}),remove:(e,t,s=!1)=>Se.delete(`/images/${t}`,{params:{host_id:e,force:s}}),tag:(e,t,s,i)=>Se.post(`/images/${t}/tag`,{host_id:e,repo:s,tag:i})},ln={list:e=>Se.get("/volumes",{params:{host_id:e}}),get:(e,t)=>Se.get(`/volumes/${t}`,{params:{host_id:e}}),create:(e,t)=>Se.post("/volumes",{host_id:e,...t}),remove:(e,t,s=!1)=>Se.delete(`/volumes/${t}`,{params:{host_id:e,force:s}})},cn={list:e=>Se.get("/networks",{params:{host_id:e}}),get:(e,t)=>Se.get(`/networks/${t}`,{params:{host_id:e}}),create:e=>Se.post("/networks",e),remove:(e,t)=>Se.delete(`/networks/${t}`,{params:{host_id:e}})},ot={list:e=>Se.get("/compose/projects",{params:{host_id:e}}),get:e=>Se.get(`/compose/projects/${e}`),create:e=>Se.post("/compose/projects",e),update:(e,t)=>Se.put(`/compose/projects/${e}`,t),delete:e=>Se.delete(`/compose/projects/${e}`),up:(e,t={})=>Se.post(`/compose/projects/${e}/up`,t),down:(e,t={})=>Se.post(`/compose/projects/${e}/down`,t),start:(e,t=[])=>Se.post(`/compose/projects/${e}/start`,{services:t}),stop:(e,t,s=[])=>Se.post(`/compose/projects/${e}/stop`,{timeout:t,services:s}),restart:(e,t,s=[])=>Se.post(`/compose/projects/${e}/restart`,{timeout:t,services:s}),logs:(e,t)=>Se.get(`/compose/projects/${e}/logs`,{params:t}),ps:e=>Se.get(`/compose/projects/${e}/ps`),browseDir:(e,t="/")=>Se.get("/compose/browse",{params:{host_id:e,path:t}}),scanComposeFiles:(e,t)=>Se.get("/compose/scan",{params:{host_id:e,path:t}}),uploadDirectory:(e,t,s)=>{const i=new FormData;i.append("host_id",e),i.append("target_path",t);for(let n=0;n<s.length;n++){const d=s[n];d&&i.append("files",d)}return Se.post("/compose/upload",i,{headers:{"Content-Type":"multipart/form-data"}})}},yi=Ql("host",()=>{const e=he([]),t=he(""),s=he(!1),i=Oe(()=>e.value.find(o=>o.id===t.value)),n=Oe(()=>e.value.find(o=>o.is_default)||e.value[0]);async function d(){s.value=!0;try{const o=await As.list();e.value=o.data.data,!t.value&&e.value.length>0&&(t.value=n.value?.id||e.value[0].id)}finally{s.value=!1}}function p(o){t.value=o,localStorage.setItem("currentHostId",o)}function r(){const o=localStorage.getItem("currentHostId");o&&(t.value=o),d()}return{hosts:e,currentHostId:t,currentHost:i,defaultHost:n,loading:s,loadHosts:d,setCurrentHost:p,init:r}}),os=Ql("resource",()=>{const e=he(null),t=he(new Set),s=he(new Set),i=he(new Map),n=Oe(()=>e.value?.hostId||null);function d(m){e.value=m}function p(){e.value=null}function r(m){t.value.has(m)?(t.value.delete(m),i.value.delete(m)):(t.value.add(m),g(m))}function o(m){s.value.has(m)?s.value.delete(m):s.value.add(m)}function l(m){return t.value.has(m)}function f(m){return s.value.has(m)}function a(m){return i.value.get(m)}async function g(m){let h=i.value.get(m);if(h||(h={containers:[],images:[],volumes:[],networks:[],composeProjects:[],loading:!1,loaded:!1},i.value.set(m,h)),!(h.loading||h.loaded)){h.loading=!0;try{const[c,u,_,b,w]=await Promise.all([Ht.list(m,!0),an.list(m),ln.list(m),cn.list(m),ot.list(m)]);h.containers=c.data.data||[],h.images=u.data.data||[],h.volumes=_.data.data||[],h.networks=b.data.data||[],h.composeProjects=w.data.data||[],h.loaded=!0}catch(c){console.error("Failed to load host resources:",c)}finally{h.loading=!1}}}async function v(m){const h=i.value.get(m);h&&(h.loaded=!1,h.loading=!1),await g(m)}function S(){i.value.clear(),t.value.clear(),s.value.clear(),e.value=null}return{selection:e,expandedHosts:t,expandedGroups:s,resourcesCache:i,selectedHostId:n,setSelection:d,clearSelection:p,toggleHostExpand:r,toggleGroupExpand:o,isHostExpanded:l,isGroupExpanded:f,getHostCache:a,loadHostResources:g,refreshHostResources:v,clearAllCache:S}}),wc=/^[a-z0-9]+(-[a-z0-9]+)*$/,gr=(e,t,s,i="")=>{const n=e.split(":");if(e.slice(0,1)==="@"){if(n.length<2||n.length>3)return null;i=n.shift().slice(1)}if(n.length>3||!n.length)return null;if(n.length>1){const r=n.pop(),o=n.pop(),l={provider:n.length>0?n[0]:i,prefix:o,name:r};return t&&!Bi(l)?null:l}const d=n[0],p=d.split("-");if(p.length>1){const r={provider:i,prefix:p.shift(),name:p.join("-")};return t&&!Bi(r)?null:r}if(s&&i===""){const r={provider:i,prefix:"",name:d};return t&&!Bi(r,s)?null:r}return null},Bi=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1,Cc=Object.freeze({left:0,top:0,width:16,height:16}),Yi=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),mr=Object.freeze({...Cc,...Yi}),hn=Object.freeze({...mr,body:"",hidden:!1});function u_(e,t){const s={};!e.hFlip!=!t.hFlip&&(s.hFlip=!0),!e.vFlip!=!t.vFlip&&(s.vFlip=!0);const i=((e.rotate||0)+(t.rotate||0))%4;return i&&(s.rotate=i),s}function ea(e,t){const s=u_(e,t);for(const i in hn)i in Yi?i in e&&!(i in s)&&(s[i]=Yi[i]):i in t?s[i]=t[i]:i in e&&(s[i]=e[i]);return s}function d_(e,t){const s=e.icons,i=e.aliases||Object.create(null),n=Object.create(null);function d(p){if(s[p])return n[p]=[];if(!(p in n)){n[p]=null;const r=i[p]&&i[p].parent,o=r&&d(r);o&&(n[p]=[r].concat(o))}return n[p]}return Object.keys(s).concat(Object.keys(i)).forEach(d),n}function f_(e,t,s){const i=e.icons,n=e.aliases||Object.create(null);let d={};function p(r){d=ea(i[r]||n[r],d)}return p(t),s.forEach(p),ea(e,d)}function Ec(e,t){const s=[];if(typeof e!="object"||typeof e.icons!="object")return s;e.not_found instanceof Array&&e.not_found.forEach(n=>{t(n,null),s.push(n)});const i=d_(e);for(const n in i){const d=i[n];d&&(t(n,f_(e,n,d)),s.push(n))}return s}const __={provider:"",aliases:{},not_found:{},...Cc};function Pr(e,t){for(const s in t)if(s in e&&typeof e[s]!=typeof t[s])return!1;return!0}function xc(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!Pr(e,__))return null;const s=t.icons;for(const n in s){const d=s[n];if(!n||typeof d.body!="string"||!Pr(d,hn))return null}const i=t.aliases||Object.create(null);for(const n in i){const d=i[n],p=d.parent;if(!n||typeof p!="string"||!s[p]&&!i[p]||!Pr(d,hn))return null}return t}const ta=Object.create(null);function p_(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function Ps(e,t){const s=ta[e]||(ta[e]=Object.create(null));return s[t]||(s[t]=p_(e,t))}function kc(e,t){return xc(t)?Ec(t,(s,i)=>{i?e.icons[s]=i:e.missing.add(s)}):[]}function g_(e,t,s){try{if(typeof s.body=="string")return e.icons[t]={...s},!0}catch{}return!1}let hi=!1;function Rc(e){return typeof e=="boolean"&&(hi=e),hi}function m_(e){const t=typeof e=="string"?gr(e,!0,hi):e;if(t){const s=Ps(t.provider,t.prefix),i=t.name;return s.icons[i]||(s.missing.has(i)?null:void 0)}}function v_(e,t){const s=gr(e,!0,hi);if(!s)return!1;const i=Ps(s.provider,s.prefix);return t?g_(i,s.name,t):(i.missing.add(s.name),!0)}function b_(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),hi&&!t&&!e.prefix){let n=!1;return xc(e)&&(e.prefix="",Ec(e,(d,p)=>{v_(d,p)&&(n=!0)})),n}const s=e.prefix;if(!Bi({prefix:s,name:"a"}))return!1;const i=Ps(t,s);return!!kc(i,e)}const Ac=Object.freeze({width:null,height:null}),Dc=Object.freeze({...Ac,...Yi}),S_=/(-?[0-9.]*[0-9]+[0-9.]*)/g,y_=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function sa(e,t,s){if(t===1)return e;if(s=s||100,typeof e=="number")return Math.ceil(e*t*s)/s;if(typeof e!="string")return e;const i=e.split(S_);if(i===null||!i.length)return e;const n=[];let d=i.shift(),p=y_.test(d);for(;;){if(p){const r=parseFloat(d);isNaN(r)?n.push(d):n.push(Math.ceil(r*t*s)/s)}else n.push(d);if(d=i.shift(),d===void 0)return n.join("");p=!p}}function w_(e,t="defs"){let s="";const i=e.indexOf("<"+t);for(;i>=0;){const n=e.indexOf(">",i),d=e.indexOf("</"+t);if(n===-1||d===-1)break;const p=e.indexOf(">",d);if(p===-1)break;s+=e.slice(n+1,d).trim(),e=e.slice(0,i).trim()+e.slice(p+1)}return{defs:s,content:e}}function C_(e,t){return e?"<defs>"+e+"</defs>"+t:t}function E_(e,t,s){const i=w_(e);return C_(i.defs,t+i.content+s)}const x_=e=>e==="unset"||e==="undefined"||e==="none";function k_(e,t){const s={...mr,...e},i={...Dc,...t},n={left:s.left,top:s.top,width:s.width,height:s.height};let d=s.body;[s,i].forEach(m=>{const h=[],c=m.hFlip,u=m.vFlip;let _=m.rotate;c?u?_+=2:(h.push("translate("+(n.width+n.left).toString()+" "+(0-n.top).toString()+")"),h.push("scale(-1 1)"),n.top=n.left=0):u&&(h.push("translate("+(0-n.left).toString()+" "+(n.height+n.top).toString()+")"),h.push("scale(1 -1)"),n.top=n.left=0);let b;switch(_<0&&(_-=Math.floor(_/4)*4),_=_%4,_){case 1:b=n.height/2+n.top,h.unshift("rotate(90 "+b.toString()+" "+b.toString()+")");break;case 2:h.unshift("rotate(180 "+(n.width/2+n.left).toString()+" "+(n.height/2+n.top).toString()+")");break;case 3:b=n.width/2+n.left,h.unshift("rotate(-90 "+b.toString()+" "+b.toString()+")");break}_%2===1&&(n.left!==n.top&&(b=n.left,n.left=n.top,n.top=b),n.width!==n.height&&(b=n.width,n.width=n.height,n.height=b)),h.length&&(d=E_(d,'<g transform="'+h.join(" ")+'">',"</g>"))});const p=i.width,r=i.height,o=n.width,l=n.height;let f,a;p===null?(a=r===null?"1em":r==="auto"?l:r,f=sa(a,o/l)):(f=p==="auto"?o:p,a=r===null?sa(f,l/o):r==="auto"?l:r);const g={},v=(m,h)=>{x_(h)||(g[m]=h.toString())};v("width",f),v("height",a);const S=[n.left,n.top,o,l];return g.viewBox=S.join(" "),{attributes:g,viewBox:S,body:d}}const R_=/\sid="(\S+)"/g,A_="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let D_=0;function L_(e,t=A_){const s=[];let i;for(;i=R_.exec(e);)s.push(i[1]);if(!s.length)return e;const n="suffix"+(Math.random()*16777216|Date.now()).toString(16);return s.forEach(d=>{const p=typeof t=="function"?t(d):t+(D_++).toString(),r=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+r+')([")]|\\.[a-z])',"g"),"$1"+p+n+"$3")}),e=e.replace(new RegExp(n,"g"),""),e}const un=Object.create(null);function T_(e,t){un[e]=t}function dn(e){return un[e]||un[""]}function Nn(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const Un=Object.create(null),Vs=["https://api.simplesvg.com","https://api.unisvg.com"],Mi=[];for(;Vs.length>0;)Vs.length===1||Math.random()>.5?Mi.push(Vs.shift()):Mi.push(Vs.pop());Un[""]=Nn({resources:["https://api.iconify.design"].concat(Mi)});function O_(e,t){const s=Nn(t);return s===null?!1:(Un[e]=s,!0)}function jn(e){return Un[e]}const I_=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let ia=I_();function P_(e,t){const s=jn(e);if(!s)return 0;let i;if(!s.maxURL)i=0;else{let n=0;s.resources.forEach(p=>{n=Math.max(n,p.length)});const d=t+".json?icons=";i=s.maxURL-n-s.path.length-d.length}return i}function B_(e){return e===404}const M_=(e,t,s)=>{const i=[],n=P_(e,t),d="icons";let p={type:d,provider:e,prefix:t,icons:[]},r=0;return s.forEach((o,l)=>{r+=o.length+1,r>=n&&l>0&&(i.push(p),p={type:d,provider:e,prefix:t,icons:[]},r=o.length),p.icons.push(o)}),i.push(p),i};function H_(e){if(typeof e=="string"){const t=jn(e);if(t)return t.path}return"/"}const $_=(e,t,s)=>{if(!ia){s("abort",424);return}let i=H_(t.provider);switch(t.type){case"icons":{const d=t.prefix,r=t.icons.join(","),o=new URLSearchParams({icons:r});i+=d+".json?"+o.toString();break}case"custom":{const d=t.uri;i+=d.slice(0,1)==="/"?d.slice(1):d;break}default:s("abort",400);return}let n=503;ia(e+i).then(d=>{const p=d.status;if(p!==200){setTimeout(()=>{s(B_(p)?"abort":"next",p)});return}return n=501,d.json()}).then(d=>{if(typeof d!="object"||d===null){setTimeout(()=>{d===404?s("abort",d):s("next",n)});return}setTimeout(()=>{s("success",d)})}).catch(()=>{s("next",n)})},F_={prepare:M_,send:$_};function N_(e){const t={loaded:[],missing:[],pending:[]},s=Object.create(null);e.sort((n,d)=>n.provider!==d.provider?n.provider.localeCompare(d.provider):n.prefix!==d.prefix?n.prefix.localeCompare(d.prefix):n.name.localeCompare(d.name));let i={provider:"",prefix:"",name:""};return e.forEach(n=>{if(i.name===n.name&&i.prefix===n.prefix&&i.provider===n.provider)return;i=n;const d=n.provider,p=n.prefix,r=n.name,o=s[d]||(s[d]=Object.create(null)),l=o[p]||(o[p]=Ps(d,p));let f;r in l.icons?f=t.loaded:p===""||l.missing.has(r)?f=t.missing:f=t.pending;const a={provider:d,prefix:p,name:r};f.push(a)}),t}function Lc(e,t){e.forEach(s=>{const i=s.loaderCallbacks;i&&(s.loaderCallbacks=i.filter(n=>n.id!==t))})}function U_(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let s=!1;const i=e.provider,n=e.prefix;t.forEach(d=>{const p=d.icons,r=p.pending.length;p.pending=p.pending.filter(o=>{if(o.prefix!==n)return!0;const l=o.name;if(e.icons[l])p.loaded.push({provider:i,prefix:n,name:l});else if(e.missing.has(l))p.missing.push({provider:i,prefix:n,name:l});else return s=!0,!0;return!1}),p.pending.length!==r&&(s||Lc([e],d.id),d.callback(p.loaded.slice(0),p.missing.slice(0),p.pending.slice(0),d.abort))})}))}let j_=0;function W_(e,t,s){const i=j_++,n=Lc.bind(null,s,i);if(!t.pending.length)return n;const d={id:i,icons:t,callback:e,abort:n};return s.forEach(p=>{(p.loaderCallbacks||(p.loaderCallbacks=[])).push(d)}),n}function V_(e,t=!0,s=!1){const i=[];return e.forEach(n=>{const d=typeof n=="string"?gr(n,t,s):n;d&&i.push(d)}),i}var K_={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function z_(e,t,s,i){const n=e.resources.length,d=e.random?Math.floor(Math.random()*n):e.index;let p;if(e.random){let C=e.resources.slice(0);for(p=[];C.length>1;){const x=Math.floor(Math.random()*C.length);p.push(C[x]),C=C.slice(0,x).concat(C.slice(x+1))}p=p.concat(C)}else p=e.resources.slice(d).concat(e.resources.slice(0,d));const r=Date.now();let o="pending",l=0,f,a=null,g=[],v=[];typeof i=="function"&&v.push(i);function S(){a&&(clearTimeout(a),a=null)}function m(){o==="pending"&&(o="aborted"),S(),g.forEach(C=>{C.status==="pending"&&(C.status="aborted")}),g=[]}function h(C,x){x&&(v=[]),typeof C=="function"&&v.push(C)}function c(){return{startTime:r,payload:t,status:o,queriesSent:l,queriesPending:g.length,subscribe:h,abort:m}}function u(){o="failed",v.forEach(C=>{C(void 0,f)})}function _(){g.forEach(C=>{C.status==="pending"&&(C.status="aborted")}),g=[]}function b(C,x,y){const k=x!=="success";switch(g=g.filter(O=>O!==C),o){case"pending":break;case"failed":if(k||!e.dataAfterTimeout)return;break;default:return}if(x==="abort"){f=y,u();return}if(k){f=y,g.length||(p.length?w():u());return}if(S(),_(),!e.random){const O=e.resources.indexOf(C.resource);O!==-1&&O!==e.index&&(e.index=O)}o="completed",v.forEach(O=>{O(y)})}function w(){if(o!=="pending")return;S();const C=p.shift();if(C===void 0){if(g.length){a=setTimeout(()=>{S(),o==="pending"&&(_(),u())},e.timeout);return}u();return}const x={status:"pending",resource:C,callback:(y,k)=>{b(x,y,k)}};g.push(x),l++,a=setTimeout(w,e.rotate),s(C,t,x.callback)}return setTimeout(w),c}function Tc(e){const t={...K_,...e};let s=[];function i(){s=s.filter(r=>r().status==="pending")}function n(r,o,l){const f=z_(t,r,o,(a,g)=>{i(),l&&l(a,g)});return s.push(f),f}function d(r){return s.find(o=>r(o))||null}return{query:n,find:d,setIndex:r=>{t.index=r},getIndex:()=>t.index,cleanup:i}}function ra(){}const Br=Object.create(null);function q_(e){if(!Br[e]){const t=jn(e);if(!t)return;const s=Tc(t),i={config:t,redundancy:s};Br[e]=i}return Br[e]}function G_(e,t,s){let i,n;if(typeof e=="string"){const d=dn(e);if(!d)return s(void 0,424),ra;n=d.send;const p=q_(e);p&&(i=p.redundancy)}else{const d=Nn(e);if(d){i=Tc(d);const p=e.resources?e.resources[0]:"",r=dn(p);r&&(n=r.send)}}return!i||!n?(s(void 0,424),ra):i.query(t,n,s)().abort}function na(){}function J_(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,U_(e)}))}function X_(e){const t=[],s=[];return e.forEach(i=>{(i.match(wc)?t:s).push(i)}),{valid:t,invalid:s}}function Ks(e,t,s){function i(){const n=e.pendingIcons;t.forEach(d=>{n&&n.delete(d),e.icons[d]||e.missing.add(d)})}if(s&&typeof s=="object")try{if(!kc(e,s).length){i();return}}catch(n){console.error(n)}i(),J_(e)}function oa(e,t){e instanceof Promise?e.then(s=>{t(s)}).catch(()=>{t(null)}):t(e)}function Y_(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:s,prefix:i}=e,n=e.iconsToLoad;if(delete e.iconsToLoad,!n||!n.length)return;const d=e.loadIcon;if(e.loadIcons&&(n.length>1||!d)){oa(e.loadIcons(n,i,s),f=>{Ks(e,n,f)});return}if(d){n.forEach(f=>{const a=d(f,i,s);oa(a,g=>{const v=g?{prefix:i,icons:{[f]:g}}:null;Ks(e,[f],v)})});return}const{valid:p,invalid:r}=X_(n);if(r.length&&Ks(e,r,null),!p.length)return;const o=i.match(wc)?dn(s):null;if(!o){Ks(e,p,null);return}o.prepare(s,i,p).forEach(f=>{G_(s,f,a=>{Ks(e,f.icons,a)})})}))}const Z_=(e,t)=>{const s=V_(e,!0,Rc()),i=N_(s);if(!i.pending.length){let o=!0;return t&&setTimeout(()=>{o&&t(i.loaded,i.missing,i.pending,na)}),()=>{o=!1}}const n=Object.create(null),d=[];let p,r;return i.pending.forEach(o=>{const{provider:l,prefix:f}=o;if(f===r&&l===p)return;p=l,r=f,d.push(Ps(l,f));const a=n[l]||(n[l]=Object.create(null));a[f]||(a[f]=[])}),i.pending.forEach(o=>{const{provider:l,prefix:f,name:a}=o,g=Ps(l,f),v=g.pendingIcons||(g.pendingIcons=new Set);v.has(a)||(v.add(a),n[l][f].push(a))}),d.forEach(o=>{const l=n[o.provider][o.prefix];l.length&&Y_(o,l)}),t?W_(t,i,d):na};function Q_(e,t){const s={...e};for(const i in t){const n=t[i],d=typeof n;i in Ac?(n===null||n&&(d==="string"||d==="number"))&&(s[i]=n):d===typeof s[i]&&(s[i]=i==="rotate"?n%4:n)}return s}const ep=/[\s,]+/;function tp(e,t){t.split(ep).forEach(s=>{switch(s.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function sp(e,t=0){const s=e.replace(/^-?[0-9.]*/,"");function i(n){for(;n<0;)n+=4;return n%4}if(s===""){const n=parseInt(e);return isNaN(n)?0:i(n)}else if(s!==e){let n=0;switch(s){case"%":n=25;break;case"deg":n=90}if(n){let d=parseFloat(e.slice(0,e.length-s.length));return isNaN(d)?0:(d=d/n,d%1===0?i(d):0)}}return t}function ip(e,t){let s=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const i in t)s+=" "+i+'="'+t[i]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+s+">"+e+"</svg>"}function rp(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function np(e){return"data:image/svg+xml,"+rp(e)}function op(e){return'url("'+np(e)+'")'}const aa={...Dc,inline:!1},ap={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},lp={display:"inline-block"},fn={backgroundColor:"currentColor"},Oc={backgroundColor:"transparent"},la={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},ca={webkitMask:fn,mask:fn,background:Oc};for(const e in ca){const t=ca[e];for(const s in la)t[e+s]=la[s]}const Hi={};["horizontal","vertical"].forEach(e=>{const t=e.slice(0,1)+"Flip";Hi[e+"-flip"]=t,Hi[e.slice(0,1)+"-flip"]=t,Hi[e+"Flip"]=t});function ha(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const ua=(e,t)=>{const s=Q_(aa,t),i={...ap},n=t.mode||"svg",d={},p=t.style,r=typeof p=="object"&&!(p instanceof Array)?p:{};for(let m in t){const h=t[m];if(h!==void 0)switch(m){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":s[m]=h===!0||h==="true"||h===1;break;case"flip":typeof h=="string"&&tp(s,h);break;case"color":d.color=h;break;case"rotate":typeof h=="string"?s[m]=sp(h):typeof h=="number"&&(s[m]=h);break;case"ariaHidden":case"aria-hidden":h!==!0&&h!=="true"&&delete i["aria-hidden"];break;default:{const c=Hi[m];c?(h===!0||h==="true"||h===1)&&(s[c]=!0):aa[m]===void 0&&(i[m]=h)}}}const o=k_(e,s),l=o.attributes;if(s.inline&&(d.verticalAlign="-0.125em"),n==="svg"){i.style={...d,...r},Object.assign(i,l);let m=0,h=t.id;return typeof h=="string"&&(h=h.replace(/-/g,"_")),i.innerHTML=L_(o.body,h?()=>h+"ID"+m++:"iconifyVue"),qi("svg",i)}const{body:f,width:a,height:g}=e,v=n==="mask"||(n==="bg"?!1:f.indexOf("currentColor")!==-1),S=ip(f,{...l,width:a+"",height:g+""});return i.style={...d,"--svg":op(S),width:ha(l.width),height:ha(l.height),...lp,...v?fn:Oc,...r},qi("span",i)};Rc(!0);T_("",F_);if(typeof document<"u"&&typeof window<"u"){const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,s="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(i=>{try{(typeof i!="object"||i===null||i instanceof Array||typeof i.icons!="object"||typeof i.prefix!="string"||!b_(i))&&console.error(s)}catch{console.error(s)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let s in t){const i="IconifyProviders["+s+"] is invalid.";try{const n=t[s];if(typeof n!="object"||!n||n.resources===void 0)continue;O_(s,n)||console.error(i)}catch{console.error(i)}}}}const cp={...mr,body:""},ue=Be({inheritAttrs:!1,data(){return{_name:"",_loadingIcon:null,iconMounted:!1,counter:0}},mounted(){this.iconMounted=!0},unmounted(){this.abortLoading()},methods:{abortLoading(){this._loadingIcon&&(this._loadingIcon.abort(),this._loadingIcon=null)},getIcon(e,t,s){if(typeof e=="object"&&e!==null&&typeof e.body=="string")return this._name="",this.abortLoading(),{data:e};let i;if(typeof e!="string"||(i=gr(e,!1,!0))===null)return this.abortLoading(),null;let n=m_(i);if(!n)return(!this._loadingIcon||this._loadingIcon.name!==e)&&(this.abortLoading(),this._name="",n!==null&&(this._loadingIcon={name:e,abort:Z_([i],()=>{this.counter++})})),null;if(this.abortLoading(),this._name!==e&&(this._name=e,t&&t(e)),s){n=Object.assign({},n);const p=s(n.body,i.name,i.prefix,i.provider);typeof p=="string"&&(n.body=p)}const d=["iconify"];return i.prefix!==""&&d.push("iconify--"+i.prefix),i.provider!==""&&d.push("iconify--"+i.provider),{data:n,classes:d}}},render(){this.counter;const e=this.$attrs,t=this.iconMounted||e.ssr?this.getIcon(e.icon,e.onLoad,e.customise):null;if(!t)return ua(cp,e);let s=e;return t.classes&&(s={...e,class:(typeof e.class=="string"?e.class+" ":"")+t.classes.join(" ")}),ua({...mr,...t.data},s)}}),hp={class:"toast toast-top toast-center z-50"},up=Be({__name:"Toast",setup(e,{expose:t}){const s=he([]);let i=0;const n=(l,f,a=3e3)=>{const g=++i;s.value.push({id:g,message:l,type:f}),setTimeout(()=>{d(g)},a)},d=l=>{const f=s.value.findIndex(a=>a.id===l);f>-1&&s.value.splice(f,1)},p=l=>({success:"alert-success",error:"alert-error",warning:"alert-warning",info:"alert-info"})[l]||"alert-info",r=l=>({success:"mdi:check-circle",error:"mdi:alert-circle",warning:"mdi:alert",info:"mdi:information"})[l]||"mdi:information",o={success:(l,f)=>n(l,"success",f),error:(l,f)=>n(l,"error",f),warning:(l,f)=>n(l,"warning",f),info:(l,f)=>n(l,"info",f)};return ct(()=>{window.toast=o}),_i(()=>{delete window.toast}),t({toast:o}),(l,f)=>(N(),j("div",hp,[ie(fd,{name:"toast"},{default:ul(()=>[(N(!0),j(me,null,Ue(s.value,a=>(N(),j("div",{key:a.id,class:ye(["alert",p(a.type)])},[ie(ce(ue),{icon:r(a.type),class:"text-xl"},null,8,["icon"]),E("span",null,te(a.message),1)],2))),128))]),_:1})]))}}),Kt=(e,t)=>{const s=e.__vccOpts||e;for(const[i,n]of t)s[i]=n;return s},dp=Kt(up,[["__scopeId","data-v-e33a0025"]]),fp={class:"modal-box"},_p={class:"flex items-start gap-4"},pp={class:"flex-1"},gp={class:"font-bold text-lg mb-2"},mp={class:"py-2 text-base-content/80"},vp={key:0,class:"mt-4 space-y-2"},bp=["onUpdate:modelValue"],Sp={class:"text-sm"},yp={class:"modal-action"},bs=Be({__name:"Confirm",setup(e,{expose:t}){const s=he(!1),i=he({title:"",message:"",confirmText:"",cancelText:"",type:"info",options:[]}),n=Wt({});let d=null;const p=g=>(i.value={title:g.title||"",message:g.message,confirmText:g.confirmText||"",cancelText:g.cancelText||"",type:g.type||"info",options:g.options||[]},Object.keys(n).forEach(v=>delete n[v]),g.options?.forEach(v=>{n[v.key]=v.default||!1}),s.value=!0,new Promise(v=>{d=v})),r=()=>{s.value=!1;const g={confirmed:!0};i.value.options&&i.value.options.length>0&&(g.options={...n}),d?.(g),d=null},o=()=>{s.value=!1,d?.({confirmed:!1}),d=null},l=()=>({danger:"text-error",warning:"text-warning",info:"text-info"})[i.value.type||"info"],f=()=>({danger:"mdi:alert-circle",warning:"mdi:alert",info:"mdi:information"})[i.value.type||"info"]||"mdi:information",a=()=>({danger:"btn-error",warning:"btn-warning",info:"btn-primary"})[i.value.type||"info"];return typeof window<"u"&&(window.confirm=p),t({confirm:p}),(g,v)=>(N(),j("dialog",{class:ye(["modal",{"modal-open":s.value}])},[E("div",fp,[E("div",_p,[ie(ce(ue),{icon:f(),class:ye(["text-3xl shrink-0",l()])},null,8,["icon","class"]),E("div",pp,[E("h3",gp,te(i.value.title),1),E("p",mp,te(i.value.message),1),i.value.options&&i.value.options.length>0?(N(),j("div",vp,[(N(!0),j(me,null,Ue(i.value.options,S=>(N(),j("label",{key:S.key,class:"flex items-center gap-2 cursor-pointer"},[Me(E("input",{type:"checkbox","onUpdate:modelValue":m=>n[S.key]=m,class:"checkbox checkbox-sm"},null,8,bp),[[bd,n[S.key]]]),E("span",Sp,te(S.label),1)]))),128))])):we("",!0)])]),E("div",yp,[E("button",{class:"btn btn-ghost",onClick:o},te(i.value.cancelText),1),E("button",{class:ye(["btn",a()]),onClick:r},te(i.value.confirmText),3)])]),E("div",{class:"modal-backdrop",onClick:o})],2))}});function ke(e,t){const s=window.toast;s&&s[t]?s[t](e):console.log(`[${t.toUpperCase()}] ${e}`)}const wp={class:"modal-box w-full max-w-lg"},Cp={class:"font-bold text-lg mb-4"},Ep={class:"form-control mb-4"},xp={class:"form-control mb-4"},kp=["disabled"],Rp={class:"form-control mb-4"},Ap={class:"form-control mb-4"},Dp={class:"form-control mb-4"},Lp={class:"form-control mb-4"},Tp={class:"form-control mb-4"},Op={key:0,class:"form-control mb-4"},Ip=["placeholder"],Pp={key:1,class:"form-control mb-4"},Bp=["placeholder"],Mp={class:"form-control mb-4"},Hp={class:"modal-action"},$p=["disabled"],Fp={key:0,class:"loading loading-spinner loading-sm"},Np=Be({__name:"HostFormDialog",props:{visible:{type:Boolean},host:{}},emits:["update:visible","saved"],setup(e,{emit:t}){const s=e,i=t,n=yi(),d=he(!1),p=he(null),r=Wt({name:"",type:"local",host:"",ssh_user:"",ssh_auth_type:"password",ssh_password:"",ssh_private_key:"",ssh_port:22,docker_port:2375,description:""});function o(){p.value=null,Object.assign(r,{name:"",type:"local",host:"",ssh_user:"",ssh_auth_type:"password",ssh_password:"",ssh_private_key:"",ssh_port:22,docker_port:2375,description:""})}Ke(()=>s.visible,a=>{a&&(s.host?(p.value=s.host,Object.assign(r,{id:s.host.id,name:s.host.name,type:s.host.type,host:s.host.host||"",ssh_user:s.host.ssh_user||"",ssh_auth_type:s.host.ssh_auth_type||"password",ssh_password:"",ssh_private_key:"",ssh_port:s.host.ssh_port||22,docker_port:s.host.docker_port||2375,description:s.host.description||""})):o())});function l(){i("update:visible",!1),o()}async function f(){if(!r.name){ke("","warning");return}if(!p.value&&r.type==="ssh"&&r.ssh_auth_type==="password"&&!r.ssh_password){ke(" SSH ","warning");return}d.value=!0;try{if(p.value){const a={...r};r.ssh_auth_type==="password"&&!r.ssh_password&&delete a.ssh_password,r.ssh_auth_type==="key"&&!r.ssh_private_key&&delete a.ssh_private_key,await As.update(p.value.id,a),ke("","success")}else await As.create(r),ke("","success");i("update:visible",!1),i("saved"),n.loadHosts()}finally{d.value=!1}}return(a,g)=>(N(),j("dialog",{class:ye(["modal",{"modal-open":e.visible}])},[E("div",wp,[E("h3",Cp,te(p.value?"":""),1),E("div",Ep,[g[10]||(g[10]=E("label",{class:"label"},[E("span",{class:"label-text"},[Pe(" "),E("span",{class:"text-error"},"*")])],-1)),Me(E("input",{"onUpdate:modelValue":g[0]||(g[0]=v=>r.name=v),type:"text",placeholder:"",class:"input input-bordered w-full"},null,512),[[nt,r.name]])]),E("div",xp,[g[12]||(g[12]=E("label",{class:"label"},[E("span",{class:"label-text"},[Pe(" "),E("span",{class:"text-error"},"*")])],-1)),Me(E("select",{"onUpdate:modelValue":g[1]||(g[1]=v=>r.type=v),class:"select select-bordered w-full",disabled:!!p.value},[...g[11]||(g[11]=[E("option",{value:"local"},"",-1),E("option",{value:"tcp"},"TCP",-1),E("option",{value:"ssh"},"SSH",-1)])],8,kp),[[Ts,r.type]])]),r.type!=="local"?(N(),j(me,{key:0},[E("div",Rp,[g[13]||(g[13]=E("label",{class:"label"},[E("span",{class:"label-text"},"")],-1)),Me(E("input",{"onUpdate:modelValue":g[2]||(g[2]=v=>r.host=v),type:"text",placeholder:"IP ",class:"input input-bordered w-full"},null,512),[[nt,r.host]])]),E("div",Ap,[g[14]||(g[14]=E("label",{class:"label"},[E("span",{class:"label-text"},"Docker ")],-1)),Me(E("input",{"onUpdate:modelValue":g[3]||(g[3]=v=>r.docker_port=v),type:"number",min:"1",max:"65535",class:"input input-bordered w-full"},null,512),[[nt,r.docker_port,void 0,{number:!0}]])])],64)):we("",!0),r.type==="ssh"?(N(),j(me,{key:1},[E("div",Dp,[g[15]||(g[15]=E("label",{class:"label"},[E("span",{class:"label-text"},"SSH ")],-1)),Me(E("input",{"onUpdate:modelValue":g[4]||(g[4]=v=>r.ssh_user=v),type:"text",placeholder:"root",class:"input input-bordered w-full"},null,512),[[nt,r.ssh_user]])]),E("div",Lp,[g[16]||(g[16]=E("label",{class:"label"},[E("span",{class:"label-text"},"SSH ")],-1)),Me(E("input",{"onUpdate:modelValue":g[5]||(g[5]=v=>r.ssh_port=v),type:"number",min:"1",max:"65535",class:"input input-bordered w-full"},null,512),[[nt,r.ssh_port,void 0,{number:!0}]])]),E("div",Tp,[g[18]||(g[18]=E("label",{class:"label"},[E("span",{class:"label-text"},"")],-1)),Me(E("select",{"onUpdate:modelValue":g[6]||(g[6]=v=>r.ssh_auth_type=v),class:"select select-bordered w-full"},[...g[17]||(g[17]=[E("option",{value:"password"},"",-1),E("option",{value:"key"},"",-1)])],512),[[Ts,r.ssh_auth_type]])]),r.ssh_auth_type==="password"?(N(),j("div",Op,[g[19]||(g[19]=E("label",{class:"label"},[E("span",{class:"label-text"},"")],-1)),Me(E("input",{"onUpdate:modelValue":g[7]||(g[7]=v=>r.ssh_password=v),type:"password",placeholder:p.value?"":"",class:"input input-bordered w-full"},null,8,Ip),[[nt,r.ssh_password]])])):(N(),j("div",Pp,[g[20]||(g[20]=E("label",{class:"label"},[E("span",{class:"label-text"},"")],-1)),Me(E("textarea",{"onUpdate:modelValue":g[8]||(g[8]=v=>r.ssh_private_key=v),class:"textarea textarea-bordered h-24 w-full",placeholder:p.value?"":""},null,8,Bp),[[nt,r.ssh_private_key]])]))],64)):we("",!0),E("div",Mp,[g[21]||(g[21]=E("label",{class:"label"},[E("span",{class:"label-text"},"")],-1)),Me(E("textarea",{"onUpdate:modelValue":g[9]||(g[9]=v=>r.description=v),class:"textarea textarea-bordered h-16 w-full"},null,512),[[nt,r.description]])]),E("div",Hp,[E("button",{class:"btn btn-ghost",onClick:l},""),E("button",{class:"btn btn-primary",onClick:f,disabled:d.value},[d.value?(N(),j("span",Fp)):we("",!0),g[22]||(g[22]=Pe("  ",-1))],8,$p)])]),E("form",{method:"dialog",class:"modal-backdrop"},[E("button",{onClick:l},"close")])],2))}}),Up={class:"modal-box w-full max-w-2xl"},jp={class:"browser-container"},Wp={class:"breadcrumb mb-4"},Vp={class:"flex items-center gap-1 flex-wrap"},Kp=["onClick"],zp={key:0,class:"text-base-content/40"},qp={class:"join w-full mb-4"},Gp=["disabled"],Jp={key:0,class:"flex justify-center py-8"},Xp={key:1,class:"table table-zebra w-full"},Yp=["onDblclick"],Zp={class:"w-12"},Qp={class:"w-24 text-right text-sm text-base-content/60"},eg={class:"modal-action"},tg={method:"dialog",class:"modal-backdrop"},sg=Be({__name:"DirBrowser",props:{modelValue:{type:Boolean},hostId:{}},emits:["update:modelValue","select"],setup(e,{emit:t}){const s=e,i=t,n=Oe({get:()=>s.modelValue,set:S=>i("update:modelValue",S)}),d=he("/"),p=he([]),r=he(!1),o=Oe(()=>d.value.split("/").filter(S=>S||d.value==="/"));Ke(n,S=>{S&&p.value.length===0&&l()});async function l(){if(!s.hostId){ke("","warning");return}r.value=!0;try{const S=await ot.browseDir(s.hostId,d.value);d.value=S.data.data.path,p.value=S.data.data.files}catch(S){ke(S.response?.data?.message||"","error")}finally{r.value=!1}}function f(S){const h="/"+d.value.split("/").filter(Boolean).slice(0,S+1).join("/");d.value=h||"/",l()}function a(S){S.is_dir&&(d.value=S.path,l())}function g(){i("select",d.value),n.value=!1}function v(S){if(S===0)return"0 B";const m=1024,h=["B","KB","MB","GB","TB"],c=Math.floor(Math.log(S)/Math.log(m));return parseFloat((S/Math.pow(m,c)).toFixed(2))+" "+h[c]}return Ke(()=>s.hostId,()=>{n.value&&l()}),(S,m)=>(N(),j("dialog",{class:ye(["modal",{"modal-open":n.value}])},[E("div",Up,[m[4]||(m[4]=E("h3",{class:"font-bold text-lg mb-4"},"",-1)),E("div",jp,[E("div",Wp,[E("div",Vp,[(N(!0),j(me,null,Ue(o.value,(h,c)=>(N(),j(me,{key:c},[E("a",{class:"link link-primary text-sm",onClick:u=>f(c)},te(h||"/"),9,Kp),c<o.value.length-1?(N(),j("span",zp,"/")):we("",!0)],64))),128))])]),E("div",qp,[Me(E("input",{"onUpdate:modelValue":m[0]||(m[0]=h=>d.value=h),type:"text",placeholder:"",class:"input input-bordered join-item flex-1",onKeyup:Cd(l,["enter"])},null,544),[[nt,d.value]]),E("button",{class:"btn join-item",disabled:r.value,onClick:l},"",8,Gp)]),r.value?(N(),j("div",Jp,[...m[3]||(m[3]=[E("span",{class:"loading loading-spinner loading-lg"},null,-1)])])):(N(),j("table",Xp,[E("tbody",null,[(N(!0),j(me,null,Ue(p.value,h=>(N(),j("tr",{key:h.path,class:"hover cursor-pointer",onDblclick:c=>a(h)},[E("td",Zp,[h.is_dir?(N(),Je(ce(ue),{key:0,icon:"mdi:folder",class:"text-2xl text-primary"})):(N(),Je(ce(ue),{key:1,icon:"mdi:file-document-outline",class:"text-2xl text-base-content/60"}))]),E("td",null,te(h.name),1),E("td",Qp,te(h.is_dir?"-":v(h.size)),1)],40,Yp))),128))])]))]),E("div",eg,[E("button",{class:"btn btn-ghost",onClick:m[1]||(m[1]=h=>n.value=!1)},""),E("button",{class:"btn btn-primary",onClick:g},"")])]),E("form",tg,[E("button",{onClick:m[2]||(m[2]=h=>n.value=!1)},"close")])],2))}}),ig=Kt(sg,[["__scopeId","data-v-ad95d5c4"]]),rg={class:"upload-container border border-base-300 rounded-lg p-4"},ng={key:0,class:"mt-4"},og={class:"flex justify-between items-center py-2 border-b border-base-300"},ag={class:"max-h-52 overflow-auto"},lg=["title"],cg={class:"text-sm text-base-content/60"},hg={key:0,class:"text-center py-2 text-base-content/60 text-sm"},ug={class:"mt-4"},dg={class:"join w-full"},fg=["disabled"],_g={class:"mt-4 text-right"},pg=["disabled"],gg={key:0,class:"loading loading-spinner loading-sm"},mg=Be({__name:"DirectoryUpload",props:{hostId:{},initialPath:{}},emits:["browse","success"],setup(e,{expose:t,emit:s}){const i=e,n=s,d=he(),p=he([]),r=he(i.initialPath||""),o=he(!1),l=he(!1),f=Oe(()=>p.value.slice(0,10));function a(){d.value?.click()}function g(_){const b=_.target;if(b.files&&b.files.length>0){p.value=Array.from(b.files);const w=p.value[0];if(w&&w.webkitRelativePath){const x=w.webkitRelativePath.split("/")[0];r.value||(r.value=`/opt/${x}`)}}}function v(_){o.value=!1;const b=_.dataTransfer?.items;if(b){const w=[];for(let C=0;C<b.length;C++){const x=b[C];if(x&&x.kind==="file"){const y=x.webkitGetAsEntry?.();y&&S(y,w).then(()=>{p.value=w})}}}}async function S(_,b){if(_.isFile){const w=_,C=await new Promise(y=>{w.file(y)}),x=new File([C],C.name,{type:C.type});Object.defineProperty(x,"webkitRelativePath",{value:w.fullPath.startsWith("/")?w.fullPath.slice(1):w.fullPath}),b.push(x)}else if(_.isDirectory){const C=_.createReader(),x=await new Promise(y=>{C.readEntries(y)});for(const y of x)await S(y,b)}}function m(){p.value=[],d.value&&(d.value.value="")}async function h(){if(!i.hostId){ke("","warning");return}if(p.value.length===0){ke("","warning");return}if(!r.value){ke("","warning");return}l.value=!0;try{const _=new DataTransfer;for(const b of p.value)_.items.add(b);await ot.uploadDirectory(i.hostId,r.value,_.files),ke("","success"),n("success",r.value),m()}catch(_){ke(_.response?.data?.message||"","error")}finally{l.value=!1}}function c(_){if(_===0)return"0 B";const b=1024,w=["B","KB","MB","GB","TB"],C=Math.floor(Math.log(_)/Math.log(b));return parseFloat((_/Math.pow(b,C)).toFixed(2))+" "+w[C]}function u(_){r.value=_}return t({setTargetPath:u}),(_,b)=>(N(),j("div",rg,[E("div",{class:ye(["upload-dropzone border-2 border-dashed border-base-300 rounded-lg p-10 text-center cursor-pointer transition-all",{"border-primary bg-primary/5":o.value}]),onDragover:b[0]||(b[0]=Ti(w=>o.value=!0,["prevent"])),onDragleave:b[1]||(b[1]=Ti(w=>o.value=!1,["prevent"])),onDrop:Ti(v,["prevent"]),onClick:a},[E("input",{ref_key:"fileInput",ref:d,type:"file",webkitdirectory:"",directory:"",multiple:"",class:"hidden",onChange:g},null,544),ie(ce(ue),{icon:"mdi:cloud-upload",class:"text-5xl text-base-content/40 mb-4"}),b[4]||(b[4]=E("div",{class:"upload-text"},[E("p",null,""),E("p",{class:"text-sm text-base-content/60 mt-2"}," webkitdirectory ")],-1))],34),p.value.length>0?(N(),j("div",ng,[E("div",og,[E("span",null," "+te(p.value.length)+" ",1),E("button",{class:"btn btn-sm btn-error",onClick:m},"")]),E("div",ag,[(N(!0),j(me,null,Ue(f.value,(w,C)=>(N(),j("div",{class:"file-item",key:C},[ie(ce(ue),{icon:"mdi:file-document-outline",class:"text-xl text-base-content/60"}),E("span",{class:"file-name",title:w.webkitRelativePath||w.name},te(w.webkitRelativePath||w.name),9,lg),E("span",cg,te(c(w.size)),1)]))),128)),p.value.length>10?(N(),j("div",hg,"  "+te(p.value.length-10)+" ... ",1)):we("",!0)])])):we("",!0),E("div",ug,[E("div",dg,[b[5]||(b[5]=E("span",{class:"btn join-item pointer-events-none"},"",-1)),Me(E("input",{"onUpdate:modelValue":b[2]||(b[2]=w=>r.value=w),type:"text",placeholder:" /opt/myapp",class:"input input-bordered join-item flex-1"},null,512),[[nt,r.value]]),E("button",{class:"btn join-item",disabled:!e.hostId,onClick:b[3]||(b[3]=w=>n("browse"))},"",8,fg)])]),E("div",_g,[E("button",{class:"btn btn-primary",disabled:p.value.length===0||!r.value,onClick:h},[l.value?(N(),j("span",gg)):we("",!0),b[6]||(b[6]=Pe("  ",-1))],8,pg)])]))}}),vg=Kt(mg,[["__scopeId","data-v-9b3680ee"]]),bg={class:"modal-box w-full max-w-2xl"},Sg={class:"form-control mb-4"},yg={class:"form-control mb-4"},wg={class:"flex gap-4"},Cg={class:"label cursor-pointer gap-2"},Eg={class:"label cursor-pointer gap-2"},xg={key:0,class:"form-control mb-4"},kg={class:"form-control mb-4"},Rg={class:"join w-full"},Ag=["disabled"],Dg={class:"form-control mb-4"},Lg=["disabled"],Tg=["value"],Og={class:"form-control mb-4"},Ig=["disabled"],Pg=["value"],Bg={class:"form-control mb-4"},Mg={class:"modal-action"},Hg=["disabled"],$g={key:0,class:"loading loading-spinner loading-sm"},Fg=Be({__name:"ComposeFormDialog",props:{visible:{type:Boolean},hostId:{}},emits:["update:visible","saved"],setup(e,{emit:t}){const s=e,i=t,n=he(!1),d=he(!1),p=he(),r=he([]),o=he([]),l=Wt({name:"",source_type:"content",content:"",work_dir:"",compose_file:"",env_file:""});function f(){Object.assign(l,{name:"",source_type:"content",content:"",work_dir:"",compose_file:"",env_file:""}),r.value=[],o.value=[]}Ke(()=>s.visible,h=>{h&&f()});async function a(){if(!(!s.hostId||!l.work_dir))try{const h=await ot.scanComposeFiles(s.hostId,l.work_dir);r.value=h.data.data.compose_files,o.value=h.data.data.env_files,r.value.length===0&&ke(" compose ","warning")}catch(h){ke(h.response?.data?.message||"","error")}}function g(h){l.work_dir=h,p.value&&p.value.setTargetPath(h),a()}function v(h){l.work_dir=h,a()}function S(){i("update:visible",!1),f()}async function m(){if(!l.name){ke("","warning");return}if(l.source_type==="content"){if(!l.content){ke(" Compose ","warning");return}}else if(l.source_type==="directory"&&!l.work_dir){ke("","warning");return}n.value=!0;try{const h={name:l.name,host_id:s.hostId,source_type:l.source_type,content:l.source_type==="content"?l.content:void 0,work_dir:l.source_type==="directory"?l.work_dir:void 0,compose_file:l.source_type==="directory"&&l.compose_file?l.compose_file:void 0,env_file:l.source_type==="directory"&&l.env_file?l.env_file:void 0};await ot.create(h),ke("","success"),i("update:visible",!1),i("saved")}catch(h){ke(h.response?.data?.message||"","error")}finally{n.value=!1}}return(h,c)=>(N(),j("dialog",{class:ye(["modal",{"modal-open":e.visible}])},[E("div",bg,[c[24]||(c[24]=E("h3",{class:"font-bold text-lg mb-4"}," Compose ",-1)),E("div",Sg,[c[10]||(c[10]=E("label",{class:"label"},[E("span",{class:"label-text"},[Pe(" "),E("span",{class:"text-error"},"*")])],-1)),Me(E("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>l.name=u),type:"text",placeholder:"my-project",class:"input input-bordered w-full"},null,512),[[nt,l.name]])]),E("div",yg,[c[13]||(c[13]=E("label",{class:"label"},[E("span",{class:"label-text"},[Pe(" "),E("span",{class:"text-error"},"*")])],-1)),E("div",wg,[E("label",Cg,[Me(E("input",{type:"radio","onUpdate:modelValue":c[1]||(c[1]=u=>l.source_type=u),value:"content",class:"radio radio-primary"},null,512),[[Oo,l.source_type]]),c[11]||(c[11]=E("span",{class:"label-text"},"",-1))]),E("label",Eg,[Me(E("input",{type:"radio","onUpdate:modelValue":c[2]||(c[2]=u=>l.source_type=u),value:"directory",class:"radio radio-primary"},null,512),[[Oo,l.source_type]]),c[12]||(c[12]=E("span",{class:"label-text"},"",-1))])])]),l.source_type==="content"?(N(),j("div",xg,[c[14]||(c[14]=E("label",{class:"label"},[E("span",{class:"label-text"},[Pe("Compose  "),E("span",{class:"text-error"},"*")])],-1)),Me(E("textarea",{"onUpdate:modelValue":c[3]||(c[3]=u=>l.content=u),class:"textarea textarea-bordered h-64 w-full font-mono text-sm",placeholder:`version: '3'
services:
  web:
    image: nginx
    ports:
      - '80:80'`},null,512),[[nt,l.content]])])):l.source_type==="directory"?(N(),j(me,{key:1},[E("div",kg,[c[15]||(c[15]=E("label",{class:"label"},[E("span",{class:"label-text"},[Pe(" "),E("span",{class:"text-error"},"*")])],-1)),E("div",Rg,[Me(E("input",{"onUpdate:modelValue":c[4]||(c[4]=u=>l.work_dir=u),type:"text",placeholder:"/path/to/project",class:"input input-bordered join-item flex-1"},null,512),[[nt,l.work_dir]]),E("button",{class:"btn join-item",disabled:!e.hostId,onClick:c[5]||(c[5]=u=>d.value=!0)},"",8,Ag)])]),E("div",Dg,[c[17]||(c[17]=E("label",{class:"label"},[E("span",{class:"label-text"},"Compose ")],-1)),Me(E("select",{"onUpdate:modelValue":c[6]||(c[6]=u=>l.compose_file=u),class:"select select-bordered w-full",disabled:!l.work_dir,onFocus:a},[c[16]||(c[16]=E("option",{value:""}," compose ",-1)),(N(!0),j(me,null,Ue(r.value,u=>(N(),j("option",{key:u,value:u},te(u),9,Tg))),128))],40,Lg),[[Ts,l.compose_file]]),c[18]||(c[18]=E("label",{class:"label"},[E("span",{class:"label-text-alt text-base-content/60"}," docker-compose.yml")],-1))]),E("div",Og,[c[20]||(c[20]=E("label",{class:"label"},[E("span",{class:"label-text"},"")],-1)),Me(E("select",{"onUpdate:modelValue":c[7]||(c[7]=u=>l.env_file=u),class:"select select-bordered w-full",disabled:!l.work_dir,onFocus:a},[c[19]||(c[19]=E("option",{value:""},"",-1)),(N(!0),j(me,null,Ue(o.value,u=>(N(),j("option",{key:u,value:u},te(u),9,Pg))),128))],40,Ig),[[Ts,l.env_file]])]),c[22]||(c[22]=E("div",{class:"divider"},"",-1)),E("div",Bg,[c[21]||(c[21]=E("label",{class:"label"},[E("span",{class:"label-text"},"")],-1)),ie(vg,{ref_key:"uploadRef",ref:p,"host-id":e.hostId,"initial-path":l.work_dir,onBrowse:c[8]||(c[8]=u=>d.value=!0),onSuccess:v},null,8,["host-id","initial-path"])])],64)):we("",!0),E("div",Mg,[E("button",{class:"btn btn-ghost",onClick:S},""),E("button",{class:"btn btn-primary",onClick:m,disabled:n.value},[n.value?(N(),j("span",$g)):we("",!0),c[23]||(c[23]=Pe("  ",-1))],8,Hg)])]),E("form",{method:"dialog",class:"modal-backdrop"},[E("button",{onClick:S},"close")]),ie(ig,{modelValue:d.value,"onUpdate:modelValue":c[9]||(c[9]=u=>d.value=u),"host-id":e.hostId,onSelect:g},null,8,["modelValue","host-id"])],2))}}),Ng={class:"resource-group"},Ug={class:"text-sm text-base-content/80"},jg={class:"text-xs text-base-content/50 ml-auto"},Wg={class:"ml-4 mt-0.5 space-y-0.5"},Vg=["onClick"],Kg={class:"text-sm text-base-content/70"},zg={class:"text-xs text-base-content/40 ml-auto"},qg={class:"ml-4 space-y-0.5"},Gg=["onClick"],Jg={class:"text-sm truncate flex-1"},Xg={class:"text-xs text-base-content/40 ml-auto"},Yg={class:"ml-4 space-y-0.5"},Zg=["onClick"],Qg={class:"text-sm truncate flex-1"},em={key:1,class:"px-2 py-1 text-xs text-base-content/40"},tm=["onClick"],sm={class:"text-sm truncate flex-1"},im={key:0,class:"px-2 py-1 text-xs text-base-content/40"},zs=Be({__name:"ResourceGroup",props:{hostId:{},type:{},items:{},expanded:{type:Boolean}},emits:["toggle","select","create"],setup(e,{emit:t}){const s=e,i=t,n=he(new Set),d=Oe(()=>{if(s.type!=="container")return[];const m=s.items,h=new Map;return m.forEach(c=>{const u=c.labels?.["com.docker.compose.project"];u&&(h.has(u)||h.set(u,[]),h.get(u).push(c))}),Array.from(h.entries()).map(([c,u])=>({name:c,containers:u})).sort((c,u)=>c.name.localeCompare(u.name))}),p=Oe(()=>s.type!=="container"?[]:s.items.filter(h=>!h.labels?.["com.docker.compose.project"]));function r(m){n.value.has(m)?n.value.delete(m):n.value.add(m)}function o(){switch(s.type){case"container":return"mdi:cube-outline";case"image":return"mdi:image-outline";case"volume":return"mdi:folder-outline";case"network":return"mdi:lan";case"compose":return"mdi:file-document-outline";default:return"mdi:file-outline"}}function l(){switch(s.type){case"container":return"text-info";case"image":return"text-warning";case"volume":return"text-success";case"network":return"text-primary";case"compose":return"text-secondary";default:return"text-base-content/60"}}function f(){switch(s.type){case"container":return"";case"image":return"";case"volume":return"";case"network":return"";case"compose":return"Compose ";default:return""}}function a(m){if(s.type==="container")return m.name;if(s.type==="image"){const h=m.repo_tags;return h&&h.length>0&&h[0]?h[0]:m.id.substring(0,12)}return s.type==="volume"||s.type==="network"||s.type==="compose"?m.name:"Unknown"}function g(m){return s.type==="volume"?m.name:s.type==="container"||s.type==="image"||s.type==="network"||s.type==="compose"?m.id:"unknown"}function v(m){return s.type==="container"?m.state==="running"?"mdi:cube":"mdi:cube-outline":s.type==="compose"?m.status==="running"?"mdi:file-document":"mdi:file-document-outline":o()}function S(m){let h;s.type==="volume"?h=m.name:(s.type==="container"||s.type==="image"||s.type,h=m.id),i("select",{hostId:s.hostId,type:s.type,id:h,name:a(m)})}return(m,h)=>(N(),j("div",Ng,[E("div",{class:ye(["flex items-center gap-2 px-2 py-1 rounded cursor-pointer transition-colors",e.expanded?"bg-base-200/50":"hover:bg-base-200/30"]),onClick:h[1]||(h[1]=c=>m.$emit("toggle"))},[ie(ce(ue),{icon:e.expanded?"mdi:chevron-down":"mdi:chevron-right",class:"text-sm text-base-content/50"},null,8,["icon"]),ie(ce(ue),{icon:o(),class:ye(["text-base",l()])},null,8,["icon","class"]),E("span",Ug,te(f()),1),E("span",jg,te(e.items.length),1),e.type==="compose"?(N(),j("button",{key:0,class:"btn btn-xs btn-ghost btn-circle",onClick:h[0]||(h[0]=Ti(c=>m.$emit("create",e.hostId),["stop"])),title:""},[ie(ce(ue),{icon:"mdi:plus",class:"text-base"})])):we("",!0)],2),Me(E("div",Wg,[e.type==="container"?(N(),j(me,{key:0},[(N(!0),j(me,null,Ue(d.value,c=>(N(),j(me,{key:c.name},[E("div",{class:ye(["flex items-center gap-2 px-2 py-1 rounded cursor-pointer transition-colors","hover:bg-base-200/50"]),onClick:u=>r(c.name)},[ie(ce(ue),{icon:n.value.has(c.name)?"mdi:chevron-down":"mdi:chevron-right",class:"text-sm text-base-content/40"},null,8,["icon"]),ie(ce(ue),{icon:"mdi:file-document-outline",class:"text-sm text-secondary"}),E("span",Kg,te(c.name),1),E("span",zg,te(c.containers.length),1)],8,Vg),Me(E("div",qg,[(N(!0),j(me,null,Ue(c.containers,u=>(N(),j("div",{key:u.id,class:ye(["flex items-center gap-2 px-2 py-1 rounded cursor-pointer transition-colors","hover:bg-primary/10 hover:text-primary"]),onClick:_=>S(u)},[E("span",{class:ye(["w-1.5 h-1.5 rounded-full shrink-0",u.state==="running"?"bg-success":"bg-error"])},null,2),E("span",Jg,te(u.name),1)],8,Gg))),128))],512),[[Di,n.value.has(c.name)]])],64))),128)),p.value.length>0?(N(),j(me,{key:0},[E("div",{class:ye(["flex items-center gap-2 px-2 py-1 rounded cursor-pointer transition-colors","hover:bg-base-200/50"]),onClick:h[2]||(h[2]=c=>r("__standalone__"))},[ie(ce(ue),{icon:n.value.has("__standalone__")?"mdi:chevron-down":"mdi:chevron-right",class:"text-sm text-base-content/40"},null,8,["icon"]),ie(ce(ue),{icon:"mdi:cube-outline",class:"text-sm text-base-content/50"}),h[3]||(h[3]=E("span",{class:"text-sm text-base-content/60"},"",-1)),E("span",Xg,te(p.value.length),1)]),Me(E("div",Yg,[(N(!0),j(me,null,Ue(p.value,c=>(N(),j("div",{key:c.id,class:ye(["flex items-center gap-2 px-2 py-1 rounded cursor-pointer transition-colors","hover:bg-primary/10 hover:text-primary"]),onClick:u=>S(c)},[E("span",{class:ye(["w-1.5 h-1.5 rounded-full shrink-0",c.state==="running"?"bg-success":"bg-error"])},null,2),E("span",Qg,te(c.name),1)],8,Zg))),128))],512),[[Di,n.value.has("__standalone__")]])],64)):we("",!0),e.items.length===0?(N(),j("div",em,"  ")):we("",!0)],64)):(N(),j(me,{key:1},[(N(!0),j(me,null,Ue(e.items,c=>(N(),j("div",{key:g(c),class:ye(["flex items-center gap-2 px-2 py-1 rounded cursor-pointer transition-colors","hover:bg-primary/10 hover:text-primary"]),onClick:u=>S(c)},[ie(ce(ue),{icon:v(c),class:"text-sm text-base-content/50 shrink-0"},null,8,["icon"]),E("span",sm,te(a(c)),1)],8,tm))),128)),e.items.length===0?(N(),j("div",im,"  ")):we("",!0)],64))],512),[[Di,e.expanded]])]))}}),rm={class:"host-tree-node"},nm={class:"flex-1 truncate text-sm"},om={key:0,class:"loading loading-spinner loading-xs"},am={key:1,class:"w-2 h-2 rounded-full bg-success",title:""},lm={key:2,class:"w-2 h-2 rounded-full bg-error",title:""},cm={key:0,class:"ml-4 mt-1 space-y-0.5"},hm=Be({__name:"HostTreeNode",props:{host:{}},emits:["select","create-compose"],setup(e){const t=e,s=os(),i=Oe(()=>s.isHostExpanded(t.host.id)),n=Oe(()=>s.getHostCache(t.host.id));function d(){switch(t.host.type){case"local":return"mdi:desktop-classic";case"tcp":return"mdi:server-network";case"ssh":return"mdi:server";default:return"mdi:server"}}function p(){s.toggleHostExpand(t.host.id)}function r(l){return s.isGroupExpanded(`${t.host.id}:${l}`)}function o(l){s.toggleGroupExpand(`${t.host.id}:${l}`)}return(l,f)=>(N(),j("div",rm,[E("div",{class:ye(["flex items-center gap-2 px-2 py-1.5 rounded-lg cursor-pointer transition-colors",i.value?"bg-base-200":"hover:bg-base-200/50"]),onClick:p},[ie(ce(ue),{icon:i.value?"mdi:chevron-down":"mdi:chevron-right",class:"text-lg text-base-content/60"},null,8,["icon"]),ie(ce(ue),{icon:d(),class:ye(["text-lg",e.host.is_active?"text-success":"text-error"])},null,8,["icon","class"]),E("span",nm,te(e.host.name),1),n.value?.loading?(N(),j("span",om)):e.host.is_active?(N(),j("span",am)):(N(),j("span",lm))],2),i.value&&n.value?(N(),j("div",cm,[ie(zs,{"host-id":e.host.id,type:"container",items:n.value.containers,expanded:r("container"),onToggle:f[0]||(f[0]=a=>o("container")),onSelect:f[1]||(f[1]=a=>l.$emit("select",a))},null,8,["host-id","items","expanded"]),ie(zs,{"host-id":e.host.id,type:"image",items:n.value.images,expanded:r("image"),onToggle:f[2]||(f[2]=a=>o("image")),onSelect:f[3]||(f[3]=a=>l.$emit("select",a))},null,8,["host-id","items","expanded"]),ie(zs,{"host-id":e.host.id,type:"volume",items:n.value.volumes,expanded:r("volume"),onToggle:f[4]||(f[4]=a=>o("volume")),onSelect:f[5]||(f[5]=a=>l.$emit("select",a))},null,8,["host-id","items","expanded"]),ie(zs,{"host-id":e.host.id,type:"network",items:n.value.networks,expanded:r("network"),onToggle:f[6]||(f[6]=a=>o("network")),onSelect:f[7]||(f[7]=a=>l.$emit("select",a))},null,8,["host-id","items","expanded"]),ie(zs,{"host-id":e.host.id,type:"compose",items:n.value.composeProjects,expanded:r("compose"),onToggle:f[8]||(f[8]=a=>o("compose")),onSelect:f[9]||(f[9]=a=>l.$emit("select",a)),onCreate:f[10]||(f[10]=a=>l.$emit("create-compose",a))},null,8,["host-id","items","expanded"])])):we("",!0)]))}}),um={class:"host-tree"},dm={key:0,class:"flex justify-center py-8"},fm={key:1,class:"text-center py-8 text-base-content/50"},_m={key:2,class:"space-y-1"},pm=Be({__name:"HostTree",emits:["select","create-compose"],setup(e){const t=yi();return(s,i)=>(N(),j("div",um,[ce(t).loading?(N(),j("div",dm,[...i[2]||(i[2]=[E("span",{class:"loading loading-spinner loading-md"},null,-1)])])):ce(t).hosts.length===0?(N(),j("div",fm,[ie(ce(ue),{icon:"mdi:server-off",class:"text-4xl mb-2"}),i[3]||(i[3]=E("p",null,"",-1)),i[4]||(i[4]=E("p",{class:"text-sm"},"",-1))])):(N(),j("div",_m,[(N(!0),j(me,null,Ue(ce(t).hosts,n=>(N(),Je(hm,{key:n.id,host:n,onSelect:i[0]||(i[0]=d=>s.$emit("select",d)),onCreateCompose:i[1]||(i[1]=d=>s.$emit("create-compose",d))},null,8,["host"]))),128))]))]))}}),gm={class:"w-[280px] shrink-0 bg-base-300 flex flex-col h-full border-r border-base-content/10"},mm={class:"h-[60px] flex items-center justify-between px-4 border-b border-base-content/10"},vm={class:"flex-1 overflow-y-auto p-2"},bm=Be({__name:"SidebarLeft",emits:["add-host","select","create-compose"],setup(e){return(t,s)=>(N(),j("aside",gm,[E("div",mm,[s[4]||(s[4]=E("h1",{class:"text-xl font-bold text-base-content"},"Rubick",-1)),E("button",{class:"btn btn-sm btn-primary",onClick:s[0]||(s[0]=i=>t.$emit("add-host"))},[ie(ce(ue),{icon:"mdi:plus",class:"text-lg"}),s[3]||(s[3]=Pe("  ",-1))])]),E("div",vm,[ie(pm,{onSelect:s[1]||(s[1]=i=>t.$emit("select",i)),onCreateCompose:s[2]||(s[2]=i=>t.$emit("create-compose",i))})]),s[5]||(s[5]=E("div",{class:"h-[40px] flex items-center justify-center border-t border-base-content/10 text-xs text-base-content/50"}," v1.0.0 ",-1))]))}}),Sm={class:"tab-switcher flex items-center gap-1 px-4 py-2 bg-base-100 border-b border-base-content/10"},ym=Be({__name:"TabSwitcher",props:{modelValue:{},type:{}},emits:["update:modelValue"],setup(e){return(t,s)=>(N(),j("div",Sm,[e.type==="container"?(N(),j(me,{key:0},[E("button",{class:ye(["tab-btn",{active:e.modelValue==="detail"}]),onClick:s[0]||(s[0]=i=>t.$emit("update:modelValue","detail"))},[ie(ce(ue),{icon:"mdi:information-outline",class:"text-lg"}),s[7]||(s[7]=E("span",null,"",-1))],2),E("button",{class:ye(["tab-btn",{active:e.modelValue==="logs"}]),onClick:s[1]||(s[1]=i=>t.$emit("update:modelValue","logs"))},[ie(ce(ue),{icon:"mdi:text-box-outline",class:"text-lg"}),s[8]||(s[8]=E("span",null,"",-1))],2),E("button",{class:ye(["tab-btn",{active:e.modelValue==="terminal"}]),onClick:s[2]||(s[2]=i=>t.$emit("update:modelValue","terminal"))},[ie(ce(ue),{icon:"mdi:console",class:"text-lg"}),s[9]||(s[9]=E("span",null,"",-1))],2)],64)):e.type==="compose"?(N(),j(me,{key:1},[E("button",{class:ye(["tab-btn",{active:e.modelValue==="detail"}]),onClick:s[3]||(s[3]=i=>t.$emit("update:modelValue","detail"))},[ie(ce(ue),{icon:"mdi:information-outline",class:"text-lg"}),s[10]||(s[10]=E("span",null,"",-1))],2),E("button",{class:ye(["tab-btn",{active:e.modelValue==="logs"}]),onClick:s[4]||(s[4]=i=>t.$emit("update:modelValue","logs"))},[ie(ce(ue),{icon:"mdi:text-box-outline",class:"text-lg"}),s[11]||(s[11]=E("span",null,"",-1))],2)],64)):e.type==="host"?(N(),j("button",{key:2,class:ye(["tab-btn",{active:e.modelValue==="detail"}]),onClick:s[5]||(s[5]=i=>t.$emit("update:modelValue","detail"))},[ie(ce(ue),{icon:"mdi:information-outline",class:"text-lg"}),s[12]||(s[12]=E("span",null,"",-1))],2)):(N(),j("button",{key:3,class:ye(["tab-btn",{active:e.modelValue==="detail"}]),onClick:s[6]||(s[6]=i=>t.$emit("update:modelValue","detail"))},[ie(ce(ue),{icon:"mdi:information-outline",class:"text-lg"}),s[13]||(s[13]=E("span",null,"",-1))],2))]))}}),wm=Kt(ym,[["__scopeId","data-v-e56c7d6b"]]),Cm={class:"container-detail"},Em={key:0,class:"flex justify-center py-8"},xm={class:"flex items-center gap-2 mb-4"},km=["disabled"],Rm=["disabled"],Am=["disabled"],Dm=["disabled"],Lm={class:"card bg-base-100 shadow"},Tm={class:"card-body"},Om={class:"overflow-x-auto"},Im={class:"table table-sm"},Pm={class:"font-mono text-sm"},Bm={key:0,class:"text-sm text-base-content/60 ml-2"},Mm={key:0,class:"card bg-base-100 shadow mt-4"},Hm={class:"card-body"},$m={class:"overflow-x-auto"},Fm={class:"table table-sm"},Nm=["onClick"],Um={key:1,class:"card bg-base-100 shadow mt-4"},jm={class:"card-body"},Wm={class:"flex flex-wrap gap-2"},Vm={key:2,class:"text-center py-8 text-base-content/50"},Km=Be({__name:"ContainerDetail",props:{hostId:{},containerId:{}},emits:["refresh"],setup(e,{emit:t}){const s=e,i=t,n=os(),d=he(null),p=he(!1),r=he(!1),o=he(null);async function l(){p.value=!0;try{const h=await Ht.get(s.hostId,s.containerId);d.value=h.data.data}catch{d.value=null}finally{p.value=!1}}async function f(){r.value=!0;try{await Ht.start(s.hostId,s.containerId),ke("","success"),await l(),n.refreshHostResources(s.hostId)}finally{r.value=!1}}async function a(){r.value=!0;try{await Ht.stop(s.hostId,s.containerId),ke("","success"),await l(),n.refreshHostResources(s.hostId)}finally{r.value=!1}}async function g(){r.value=!0;try{await Ht.restart(s.hostId,s.containerId),ke("","success"),await l(),n.refreshHostResources(s.hostId)}finally{r.value=!1}}async function v(){const h=await o.value?.confirm({title:"",message:` "${d.value?.name}"?`,type:"danger",options:[{key:"removeImage",label:"",default:!1}]});if(h&&h.confirmed){r.value=!0;try{const c=h.options?.removeImage||!1;await Ht.remove(s.hostId,s.containerId,!0,!1,c),ke(c?"":"","success"),n.refreshHostResources(s.hostId),i("refresh")}finally{r.value=!1}}}function S(h){return new Date(h*1e3).toLocaleString()}function m(h,c){const u=`${h}:${c}`;navigator.clipboard.writeText(u).then(()=>{ke(`: ${u}`,"success")}).catch(()=>{ke("","error")})}return Ke(()=>s.containerId,l),ct(l),(h,c)=>(N(),j("div",Cm,[p.value?(N(),j("div",Em,[...c[0]||(c[0]=[E("span",{class:"loading loading-spinner loading-lg"},null,-1)])])):d.value?(N(),j(me,{key:1},[E("div",xm,[d.value.state!=="running"?(N(),j("button",{key:0,class:"btn btn-sm btn-success",onClick:f,disabled:r.value},[ie(ce(ue),{icon:"mdi:play",class:"text-lg"}),c[1]||(c[1]=Pe("  ",-1))],8,km)):we("",!0),d.value.state==="running"?(N(),j("button",{key:1,class:"btn btn-sm btn-warning",onClick:a,disabled:r.value},[ie(ce(ue),{icon:"mdi:stop",class:"text-lg"}),c[2]||(c[2]=Pe("  ",-1))],8,Rm)):we("",!0),d.value.state==="running"?(N(),j("button",{key:2,class:"btn btn-sm btn-info",onClick:g,disabled:r.value},[ie(ce(ue),{icon:"mdi:restart",class:"text-lg"}),c[3]||(c[3]=Pe("  ",-1))],8,Am)):we("",!0),E("button",{class:"btn btn-sm btn-error",onClick:v,disabled:r.value},[ie(ce(ue),{icon:"mdi:delete",class:"text-lg"}),c[4]||(c[4]=Pe("  ",-1))],8,Dm)]),E("div",Lm,[E("div",Tm,[c[10]||(c[10]=E("h3",{class:"card-title text-base mb-4"},"",-1)),E("div",Om,[E("table",Im,[E("tbody",null,[E("tr",null,[c[5]||(c[5]=E("td",{class:"font-medium w-32"},"ID",-1)),E("td",Pm,te(d.value.id),1)]),E("tr",null,[c[6]||(c[6]=E("td",{class:"font-medium"},"",-1)),E("td",null,te(d.value.name),1)]),E("tr",null,[c[7]||(c[7]=E("td",{class:"font-medium"},"",-1)),E("td",null,te(d.value.image),1)]),E("tr",null,[c[8]||(c[8]=E("td",{class:"font-medium"},"",-1)),E("td",null,[E("span",{class:ye(["badge",d.value.state==="running"?"badge-success":"badge-error"])},te(d.value.state),3),d.value.status?(N(),j("span",Bm,te(d.value.status),1)):we("",!0)])]),E("tr",null,[c[9]||(c[9]=E("td",{class:"font-medium"},"",-1)),E("td",null,te(S(d.value.created)),1)])])])])])]),d.value.ports?.length?(N(),j("div",Mm,[E("div",Hm,[c[12]||(c[12]=E("h3",{class:"card-title text-base mb-4"},"",-1)),E("div",$m,[E("table",Fm,[c[11]||(c[11]=E("thead",null,[E("tr",null,[E("th",null,""),E("th",null,""),E("th",null,""),E("th")])],-1)),E("tbody",null,[(N(!0),j(me,null,Ue(d.value.ports,(u,_)=>(N(),j("tr",{key:_},[E("td",null,te(u.private_port),1),E("td",null,te(u.public_port||"-")+" ("+te(u.ip||"0.0.0.0")+")",1),E("td",null,te(u.type),1),E("td",null,[u.public_port?(N(),j("button",{key:0,class:"btn btn-xs btn-ghost",onClick:b=>m(u.ip||"0.0.0.0",u.public_port),title:""},[ie(ce(ue),{icon:"mdi:content-copy",class:"text-base"})],8,Nm)):we("",!0)])]))),128))])])])])])):we("",!0),Object.keys(d.value.labels||{}).length?(N(),j("div",Um,[E("div",jm,[c[13]||(c[13]=E("h3",{class:"card-title text-base mb-4"},"",-1)),E("div",Wm,[(N(!0),j(me,null,Ue(d.value.labels,(u,_)=>(N(),j("span",{key:_,class:"badge badge-outline"},te(_)+"="+te(u),1))),128))])])])):we("",!0)],64)):(N(),j("div",Vm,[ie(ce(ue),{icon:"mdi:cube-off-outline",class:"text-4xl mb-2"}),c[14]||(c[14]=E("p",null,"",-1))])),ie(bs,{ref_key:"confirmRef",ref:o},null,512)]))}}),zm={class:"log-viewer"},qm={class:"log-toolbar"},Gm={class:"log-status flex items-center gap-2"},Jm={key:0,class:"text-xs text-base-content/60"},Xm={class:"log-actions flex items-center gap-2"},Ym={class:"join"},Zm={key:0,class:"log-empty"},Qm={key:1,class:"log-content"},ev=Be({__name:"LogViewer",props:{wsUrl:{},autoScroll:{type:Boolean}},emits:["status-change"],setup(e,{expose:t,emit:s}){const i=e,n=s,d=he(null),p=he([]),r=he(!1),o=he(i.autoScroll??!0),l=he("disconnected"),f=he("100"),a=Oe(()=>p.value.length);let g=null,v=[];const S=Oe(()=>{switch(l.value){case"connected":return"";case"connecting":return"...";default:return""}});function m(){if(i.wsUrl){l.value="connecting",n("status-change","connecting");try{g=new WebSocket(i.wsUrl),g.onopen=()=>{l.value="connected",n("status-change","connected"),v.length>0&&!r.value&&(p.value.push(...v),v=[],o.value&&b())},g.onmessage=C=>{try{const x=JSON.parse(C.data);if(x.type==="log"){const y={content:x.content,type:x.stream==="stderr"?"stderr":"stdout"};r.value?v.push(y):(p.value.push(y),o.value&&ts(()=>b()))}else x.type==="ping"||(x.type==="end"?(l.value="disconnected",n("status-change","disconnected")):x.type==="error"&&p.value.push({content:`[] ${x.content}`,type:"system"}))}catch{r.value||(p.value.push({content:C.data,type:"stdout"}),o.value&&ts(()=>b()))}},g.onerror=()=>{l.value="disconnected",n("status-change","disconnected"),p.value.push({content:"[] WebSocket ",type:"system"})},g.onclose=()=>{l.value="disconnected",n("status-change","disconnected")}}catch(C){l.value="disconnected",n("status-change","disconnected"),p.value.push({content:`[] : ${C}`,type:"system"})}}}function h(){g&&(g.close(),g=null)}function c(){h(),p.value=[],v=[],m()}function u(){r.value=!r.value,!r.value&&v.length>0&&(p.value.push(...v),v=[],o.value&&ts(()=>b()))}function _(){d.value&&(d.value.scrollTop=0,o.value=!1)}function b(){d.value&&(d.value.scrollTop=d.value.scrollHeight)}function w(){p.value=[],v=[]}return Ke(()=>i.wsUrl,(C,x)=>{C&&C!==x&&c()}),ct(()=>{i.wsUrl&&m()}),_i(()=>{h()}),t({reconnect:c,clearLogs:w,scrollToTop:_,scrollToBottom:b}),(C,x)=>(N(),j("div",zm,[E("div",qm,[E("div",Gm,[E("span",{class:ye(["badge badge-sm",{"badge-success":l.value==="connected","badge-warning":l.value==="connecting","badge-info":l.value==="disconnected"}])},te(S.value),3),a.value>0?(N(),j("span",Jm,te(a.value)+" ",1)):we("",!0)]),E("div",Xm,[E("div",Ym,[E("button",{class:"btn btn-sm join-item",onClick:u},[ie(ce(ue),{icon:r.value?"mdi:play":"mdi:pause",class:"text-lg"},null,8,["icon"]),Pe(" "+te(r.value?"":""),1)]),E("button",{class:"btn btn-sm join-item",onClick:_},[ie(ce(ue),{icon:"mdi:arrow-up",class:"text-lg"})]),E("button",{class:"btn btn-sm join-item",onClick:b},[ie(ce(ue),{icon:"mdi:arrow-down",class:"text-lg"})]),E("button",{class:"btn btn-sm join-item",onClick:w},[ie(ce(ue),{icon:"mdi:delete",class:"text-lg"})])]),Me(E("select",{"onUpdate:modelValue":x[0]||(x[0]=y=>f.value=y),class:"select select-sm select-bordered w-24",onChange:c},[...x[1]||(x[1]=[E("option",{value:"100"},"100",-1),E("option",{value:"500"},"500",-1),E("option",{value:"1000"},"1000",-1),E("option",{value:"all"},"",-1)])],544),[[Ts,f.value]])])]),E("div",{ref_key:"logContainer",ref:d,class:"log-container"},[p.value.length===0&&l.value!=="connecting"?(N(),j("div",Zm,"  ")):(N(),j("div",Qm,[(N(!0),j(me,null,Ue(p.value,(y,k)=>(N(),j("div",{key:k,class:ye(["log-line",y.type])},te(y.content),3))),128))]))],512)]))}}),Ic=Kt(ev,[["__scopeId","data-v-d61a40f6"]]),tv={class:"container-logs flex flex-col h-full"},sv={key:0,class:"flex justify-center py-8"},iv={key:0,class:"flex-1 flex flex-col items-center justify-center text-base-content/40"},rv=Be({__name:"ContainerLogs",props:{hostId:{},containerId:{}},setup(e){const t=e,s=he(null),i=he(!0),n=Oe(()=>s.value?.state==="running"),d=Oe(()=>{if(!t.hostId||!t.containerId||!n.value)return"";const r=window.location.protocol==="https:"?"wss:":"ws:",o=window.location.host;return`${r}//${o}/api/v1/ws/containers/${t.containerId}/logs?host_id=${t.hostId}`});async function p(){i.value=!0;try{const r=await Ht.get(t.hostId,t.containerId);s.value=r.data.data}catch{s.value=null}finally{i.value=!1}}return Ke(()=>t.containerId,p),ct(p),(r,o)=>(N(),j("div",tv,[i.value?(N(),j("div",sv,[...o[0]||(o[0]=[E("span",{class:"loading loading-spinner loading-lg"},null,-1)])])):(N(),j(me,{key:1},[n.value?d.value?(N(),Je(Ic,{key:1,"ws-url":d.value,"auto-scroll":!0,class:"flex-1"},null,8,["ws-url"])):we("",!0):(N(),j("div",iv,[ie(ce(ue),{icon:"mdi:text-box-outline",class:"text-6xl mb-4"}),o[1]||(o[1]=E("p",{class:"text-base-content/60 mb-4"},"",-1))]))],64))]))}}),nv=Kt(rv,[["__scopeId","data-v-6bd4533b"]]);var Mr={exports:{}},da;function ov(){return da||(da=1,(function(e,t){(function(s,i){e.exports=i()})(globalThis,(()=>(()=>{var s={4567:function(p,r,o){var l=this&&this.__decorate||function(u,_,b,w){var C,x=arguments.length,y=x<3?_:w===null?w=Object.getOwnPropertyDescriptor(_,b):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(u,_,b,w);else for(var k=u.length-1;k>=0;k--)(C=u[k])&&(y=(x<3?C(y):x>3?C(_,b,y):C(_,b))||y);return x>3&&y&&Object.defineProperty(_,b,y),y},f=this&&this.__param||function(u,_){return function(b,w){_(b,w,u)}};Object.defineProperty(r,"__esModule",{value:!0}),r.AccessibilityManager=void 0;const a=o(9042),g=o(9924),v=o(844),S=o(4725),m=o(2585),h=o(3656);let c=r.AccessibilityManager=class extends v.Disposable{constructor(u,_,b,w){super(),this._terminal=u,this._coreBrowserService=b,this._renderService=w,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let C=0;C<this._terminal.rows;C++)this._rowElements[C]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[C]);if(this._topBoundaryFocusListener=C=>this._handleBoundaryFocus(C,0),this._bottomBoundaryFocusListener=C=>this._handleBoundaryFocus(C,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new g.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((C=>this._handleResize(C.rows)))),this.register(this._terminal.onRender((C=>this._refreshRows(C.start,C.end)))),this.register(this._terminal.onScroll((()=>this._refreshRows()))),this.register(this._terminal.onA11yChar((C=>this._handleChar(C)))),this.register(this._terminal.onLineFeed((()=>this._handleChar(`
`)))),this.register(this._terminal.onA11yTab((C=>this._handleTab(C)))),this.register(this._terminal.onKey((C=>this._handleKey(C.key)))),this.register(this._terminal.onBlur((()=>this._clearLiveRegion()))),this.register(this._renderService.onDimensionsChange((()=>this._refreshRowsDimensions()))),this.register((0,h.addDisposableDomListener)(document,"selectionchange",(()=>this._handleSelectionChange()))),this.register(this._coreBrowserService.onDprChange((()=>this._refreshRowsDimensions()))),this._refreshRows(),this.register((0,v.toDisposable)((()=>{this._accessibilityContainer.remove(),this._rowElements.length=0})))}_handleTab(u){for(let _=0;_<u;_++)this._handleChar(" ")}_handleChar(u){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==u&&(this._charsToAnnounce+=u):this._charsToAnnounce+=u,u===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=a.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(u){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(u)||this._charsToConsume.push(u)}_refreshRows(u,_){this._liveRegionDebouncer.refresh(u,_,this._terminal.rows)}_renderRows(u,_){const b=this._terminal.buffer,w=b.lines.length.toString();for(let C=u;C<=_;C++){const x=b.lines.get(b.ydisp+C),y=[],k=x?.translateToString(!0,void 0,void 0,y)||"",O=(b.ydisp+C+1).toString(),M=this._rowElements[C];M&&(k.length===0?(M.innerText="",this._rowColumns.set(M,[0,1])):(M.textContent=k,this._rowColumns.set(M,y)),M.setAttribute("aria-posinset",O),M.setAttribute("aria-setsize",w))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(u,_){const b=u.target,w=this._rowElements[_===0?1:this._rowElements.length-2];if(b.getAttribute("aria-posinset")===(_===0?"1":`${this._terminal.buffer.lines.length}`)||u.relatedTarget!==w)return;let C,x;if(_===0?(C=b,x=this._rowElements.pop(),this._rowContainer.removeChild(x)):(C=this._rowElements.shift(),x=b,this._rowContainer.removeChild(C)),C.removeEventListener("focus",this._topBoundaryFocusListener),x.removeEventListener("focus",this._bottomBoundaryFocusListener),_===0){const y=this._createAccessibilityTreeNode();this._rowElements.unshift(y),this._rowContainer.insertAdjacentElement("afterbegin",y)}else{const y=this._createAccessibilityTreeNode();this._rowElements.push(y),this._rowContainer.appendChild(y)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(_===0?-1:1),this._rowElements[_===0?1:this._rowElements.length-2].focus(),u.preventDefault(),u.stopImmediatePropagation()}_handleSelectionChange(){if(this._rowElements.length===0)return;const u=document.getSelection();if(!u)return;if(u.isCollapsed)return void(this._rowContainer.contains(u.anchorNode)&&this._terminal.clearSelection());if(!u.anchorNode||!u.focusNode)return void console.error("anchorNode and/or focusNode are null");let _={node:u.anchorNode,offset:u.anchorOffset},b={node:u.focusNode,offset:u.focusOffset};if((_.node.compareDocumentPosition(b.node)&Node.DOCUMENT_POSITION_PRECEDING||_.node===b.node&&_.offset>b.offset)&&([_,b]=[b,_]),_.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(_={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(_.node))return;const w=this._rowElements.slice(-1)[0];if(b.node.compareDocumentPosition(w)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(b={node:w,offset:w.textContent?.length??0}),!this._rowContainer.contains(b.node))return;const C=({node:k,offset:O})=>{const M=k instanceof Text?k.parentNode:k;let B=parseInt(M?.getAttribute("aria-posinset"),10)-1;if(isNaN(B))return console.warn("row is invalid. Race condition?"),null;const L=this._rowColumns.get(M);if(!L)return console.warn("columns is null. Race condition?"),null;let V=O<L.length?L[O]:L.slice(-1)[0]+1;return V>=this._terminal.cols&&(++B,V=0),{row:B,column:V}},x=C(_),y=C(b);if(x&&y){if(x.row>y.row||x.row===y.row&&x.column>=y.column)throw new Error("invalid range");this._terminal.select(x.column,x.row,(y.row-x.row)*this._terminal.cols-x.column+y.column)}}_handleResize(u){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let _=this._rowContainer.children.length;_<this._terminal.rows;_++)this._rowElements[_]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[_]);for(;this._rowElements.length>u;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const u=this._coreBrowserService.mainDocument.createElement("div");return u.setAttribute("role","listitem"),u.tabIndex=-1,this._refreshRowDimensions(u),u}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let u=0;u<this._terminal.rows;u++)this._refreshRowDimensions(this._rowElements[u])}}_refreshRowDimensions(u){u.style.height=`${this._renderService.dimensions.css.cell.height}px`}};r.AccessibilityManager=c=l([f(1,m.IInstantiationService),f(2,S.ICoreBrowserService),f(3,S.IRenderService)],c)},3614:(p,r)=>{function o(g){return g.replace(/\r?\n/g,"\r")}function l(g,v){return v?"\x1B[200~"+g+"\x1B[201~":g}function f(g,v,S,m){g=l(g=o(g),S.decPrivateModes.bracketedPasteMode&&m.rawOptions.ignoreBracketedPasteMode!==!0),S.triggerDataEvent(g,!0),v.value=""}function a(g,v,S){const m=S.getBoundingClientRect(),h=g.clientX-m.left-10,c=g.clientY-m.top-10;v.style.width="20px",v.style.height="20px",v.style.left=`${h}px`,v.style.top=`${c}px`,v.style.zIndex="1000",v.focus()}Object.defineProperty(r,"__esModule",{value:!0}),r.rightClickHandler=r.moveTextAreaUnderMouseCursor=r.paste=r.handlePasteEvent=r.copyHandler=r.bracketTextForPaste=r.prepareTextForTerminal=void 0,r.prepareTextForTerminal=o,r.bracketTextForPaste=l,r.copyHandler=function(g,v){g.clipboardData&&g.clipboardData.setData("text/plain",v.selectionText),g.preventDefault()},r.handlePasteEvent=function(g,v,S,m){g.stopPropagation(),g.clipboardData&&f(g.clipboardData.getData("text/plain"),v,S,m)},r.paste=f,r.moveTextAreaUnderMouseCursor=a,r.rightClickHandler=function(g,v,S,m,h){a(g,v,S),h&&m.rightClickSelect(g),v.value=m.selectionText,v.select()}},7239:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ColorContrastCache=void 0;const l=o(1505);r.ColorContrastCache=class{constructor(){this._color=new l.TwoKeyMap,this._css=new l.TwoKeyMap}setCss(f,a,g){this._css.set(f,a,g)}getCss(f,a){return this._css.get(f,a)}setColor(f,a,g){this._color.set(f,a,g)}getColor(f,a){return this._color.get(f,a)}clear(){this._color.clear(),this._css.clear()}}},3656:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.addDisposableDomListener=void 0,r.addDisposableDomListener=function(o,l,f,a){o.addEventListener(l,f,a);let g=!1;return{dispose:()=>{g||(g=!0,o.removeEventListener(l,f,a))}}}},3551:function(p,r,o){var l=this&&this.__decorate||function(c,u,_,b){var w,C=arguments.length,x=C<3?u:b===null?b=Object.getOwnPropertyDescriptor(u,_):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(c,u,_,b);else for(var y=c.length-1;y>=0;y--)(w=c[y])&&(x=(C<3?w(x):C>3?w(u,_,x):w(u,_))||x);return C>3&&x&&Object.defineProperty(u,_,x),x},f=this&&this.__param||function(c,u){return function(_,b){u(_,b,c)}};Object.defineProperty(r,"__esModule",{value:!0}),r.Linkifier=void 0;const a=o(3656),g=o(8460),v=o(844),S=o(2585),m=o(4725);let h=r.Linkifier=class extends v.Disposable{get currentLink(){return this._currentLink}constructor(c,u,_,b,w){super(),this._element=c,this._mouseService=u,this._renderService=_,this._bufferService=b,this._linkProviderService=w,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new g.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new g.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,v.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,v.toDisposable)((()=>{this._lastMouseEvent=void 0,this._activeProviderReplies?.clear()}))),this.register(this._bufferService.onResize((()=>{this._clearCurrentLink(),this._wasResized=!0}))),this.register((0,a.addDisposableDomListener)(this._element,"mouseleave",(()=>{this._isMouseOut=!0,this._clearCurrentLink()}))),this.register((0,a.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,a.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,a.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(c){this._lastMouseEvent=c;const u=this._positionFromMouseEvent(c,this._element,this._mouseService);if(!u)return;this._isMouseOut=!1;const _=c.composedPath();for(let b=0;b<_.length;b++){const w=_[b];if(w.classList.contains("xterm"))break;if(w.classList.contains("xterm-hover"))return}this._lastBufferCell&&u.x===this._lastBufferCell.x&&u.y===this._lastBufferCell.y||(this._handleHover(u),this._lastBufferCell=u)}_handleHover(c){if(this._activeLine!==c.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(c,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,c)||(this._clearCurrentLink(),this._askForLink(c,!0))}_askForLink(c,u){this._activeProviderReplies&&u||(this._activeProviderReplies?.forEach((b=>{b?.forEach((w=>{w.link.dispose&&w.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=c.y);let _=!1;for(const[b,w]of this._linkProviderService.linkProviders.entries())u?this._activeProviderReplies?.get(b)&&(_=this._checkLinkProviderResult(b,c,_)):w.provideLinks(c.y,(C=>{if(this._isMouseOut)return;const x=C?.map((y=>({link:y})));this._activeProviderReplies?.set(b,x),_=this._checkLinkProviderResult(b,c,_),this._activeProviderReplies?.size===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(c.y,this._activeProviderReplies)}))}_removeIntersectingLinks(c,u){const _=new Set;for(let b=0;b<u.size;b++){const w=u.get(b);if(w)for(let C=0;C<w.length;C++){const x=w[C],y=x.link.range.start.y<c?0:x.link.range.start.x,k=x.link.range.end.y>c?this._bufferService.cols:x.link.range.end.x;for(let O=y;O<=k;O++){if(_.has(O)){w.splice(C--,1);break}_.add(O)}}}}_checkLinkProviderResult(c,u,_){if(!this._activeProviderReplies)return _;const b=this._activeProviderReplies.get(c);let w=!1;for(let C=0;C<c;C++)this._activeProviderReplies.has(C)&&!this._activeProviderReplies.get(C)||(w=!0);if(!w&&b){const C=b.find((x=>this._linkAtPosition(x.link,u)));C&&(_=!0,this._handleNewLink(C))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!_)for(let C=0;C<this._activeProviderReplies.size;C++){const x=this._activeProviderReplies.get(C)?.find((y=>this._linkAtPosition(y.link,u)));if(x){_=!0,this._handleNewLink(x);break}}return _}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(c){if(!this._currentLink)return;const u=this._positionFromMouseEvent(c,this._element,this._mouseService);u&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,u)&&this._currentLink.link.activate(c,this._currentLink.link.text)}_clearCurrentLink(c,u){this._currentLink&&this._lastMouseEvent&&(!c||!u||this._currentLink.link.range.start.y>=c&&this._currentLink.link.range.end.y<=u)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,v.disposeArray)(this._linkCacheDisposables))}_handleNewLink(c){if(!this._lastMouseEvent)return;const u=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);u&&this._linkAtPosition(c.link,u)&&(this._currentLink=c,this._currentLink.state={decorations:{underline:c.link.decorations===void 0||c.link.decorations.underline,pointerCursor:c.link.decorations===void 0||c.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,c.link,this._lastMouseEvent),c.link.decorations={},Object.defineProperties(c.link.decorations,{pointerCursor:{get:()=>this._currentLink?.state?.decorations.pointerCursor,set:_=>{this._currentLink?.state&&this._currentLink.state.decorations.pointerCursor!==_&&(this._currentLink.state.decorations.pointerCursor=_,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",_))}},underline:{get:()=>this._currentLink?.state?.decorations.underline,set:_=>{this._currentLink?.state&&this._currentLink?.state?.decorations.underline!==_&&(this._currentLink.state.decorations.underline=_,this._currentLink.state.isHovered&&this._fireUnderlineEvent(c.link,_))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((_=>{if(!this._currentLink)return;const b=_.start===0?0:_.start+1+this._bufferService.buffer.ydisp,w=this._bufferService.buffer.ydisp+1+_.end;if(this._currentLink.link.range.start.y>=b&&this._currentLink.link.range.end.y<=w&&(this._clearCurrentLink(b,w),this._lastMouseEvent)){const C=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);C&&this._askForLink(C,!1)}}))))}_linkHover(c,u,_){this._currentLink?.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(u,!0),this._currentLink.state.decorations.pointerCursor&&c.classList.add("xterm-cursor-pointer")),u.hover&&u.hover(_,u.text)}_fireUnderlineEvent(c,u){const _=c.range,b=this._bufferService.buffer.ydisp,w=this._createLinkUnderlineEvent(_.start.x-1,_.start.y-b-1,_.end.x,_.end.y-b-1,void 0);(u?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(w)}_linkLeave(c,u,_){this._currentLink?.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(u,!1),this._currentLink.state.decorations.pointerCursor&&c.classList.remove("xterm-cursor-pointer")),u.leave&&u.leave(_,u.text)}_linkAtPosition(c,u){const _=c.range.start.y*this._bufferService.cols+c.range.start.x,b=c.range.end.y*this._bufferService.cols+c.range.end.x,w=u.y*this._bufferService.cols+u.x;return _<=w&&w<=b}_positionFromMouseEvent(c,u,_){const b=_.getCoords(c,u,this._bufferService.cols,this._bufferService.rows);if(b)return{x:b[0],y:b[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(c,u,_,b,w){return{x1:c,y1:u,x2:_,y2:b,cols:this._bufferService.cols,fg:w}}};r.Linkifier=h=l([f(1,m.IMouseService),f(2,m.IRenderService),f(3,S.IBufferService),f(4,m.ILinkProviderService)],h)},9042:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.tooMuchOutput=r.promptLabel=void 0,r.promptLabel="Terminal input",r.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(p,r,o){var l=this&&this.__decorate||function(m,h,c,u){var _,b=arguments.length,w=b<3?h:u===null?u=Object.getOwnPropertyDescriptor(h,c):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(m,h,c,u);else for(var C=m.length-1;C>=0;C--)(_=m[C])&&(w=(b<3?_(w):b>3?_(h,c,w):_(h,c))||w);return b>3&&w&&Object.defineProperty(h,c,w),w},f=this&&this.__param||function(m,h){return function(c,u){h(c,u,m)}};Object.defineProperty(r,"__esModule",{value:!0}),r.OscLinkProvider=void 0;const a=o(511),g=o(2585);let v=r.OscLinkProvider=class{constructor(m,h,c){this._bufferService=m,this._optionsService=h,this._oscLinkService=c}provideLinks(m,h){const c=this._bufferService.buffer.lines.get(m-1);if(!c)return void h(void 0);const u=[],_=this._optionsService.rawOptions.linkHandler,b=new a.CellData,w=c.getTrimmedLength();let C=-1,x=-1,y=!1;for(let k=0;k<w;k++)if(x!==-1||c.hasContent(k)){if(c.loadCell(k,b),b.hasExtendedAttrs()&&b.extended.urlId){if(x===-1){x=k,C=b.extended.urlId;continue}y=b.extended.urlId!==C}else x!==-1&&(y=!0);if(y||x!==-1&&k===w-1){const O=this._oscLinkService.getLinkData(C)?.uri;if(O){const M={start:{x:x+1,y:m},end:{x:k+(y||k!==w-1?0:1),y:m}};let B=!1;if(!_?.allowNonHttpProtocols)try{const L=new URL(O);["http:","https:"].includes(L.protocol)||(B=!0)}catch{B=!0}B||u.push({text:O,range:M,activate:(L,V)=>_?_.activate(L,V,M):S(0,V),hover:(L,V)=>_?.hover?.(L,V,M),leave:(L,V)=>_?.leave?.(L,V,M)})}y=!1,b.hasExtendedAttrs()&&b.extended.urlId?(x=k,C=b.extended.urlId):(x=-1,C=-1)}}h(u)}};function S(m,h){if(confirm(`Do you want to navigate to ${h}?

WARNING: This link could potentially be dangerous`)){const c=window.open();if(c){try{c.opener=null}catch{}c.location.href=h}else console.warn("Opening link blocked as opener could not be cleared")}}r.OscLinkProvider=v=l([f(0,g.IBufferService),f(1,g.IOptionsService),f(2,g.IOscLinkService)],v)},6193:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.RenderDebouncer=void 0,r.RenderDebouncer=class{constructor(o,l){this._renderCallback=o,this._coreBrowserService=l,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(o){return this._refreshCallbacks.push(o),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh()))),this._animationFrame}refresh(o,l,f){this._rowCount=f,o=o!==void 0?o:0,l=l!==void 0?l:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,o):o,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,l):l,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const o=Math.max(this._rowStart,0),l=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(o,l),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const o of this._refreshCallbacks)o(0);this._refreshCallbacks=[]}}},3236:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Terminal=void 0;const l=o(3614),f=o(3656),a=o(3551),g=o(9042),v=o(3730),S=o(1680),m=o(3107),h=o(5744),c=o(2950),u=o(1296),_=o(428),b=o(4269),w=o(5114),C=o(8934),x=o(3230),y=o(9312),k=o(4725),O=o(6731),M=o(8055),B=o(8969),L=o(8460),V=o(844),Z=o(6114),J=o(8437),Y=o(2584),X=o(7399),R=o(5941),P=o(9074),H=o(2585),$=o(5435),Q=o(4567),re=o(779);class de extends B.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(T={}){super(T),this.browser=Z,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new V.MutableDisposable),this._onCursorMove=this.register(new L.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new L.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new L.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new L.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new L.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new L.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new L.EventEmitter),this._onBlur=this.register(new L.EventEmitter),this._onA11yCharEmitter=this.register(new L.EventEmitter),this._onA11yTabEmitter=this.register(new L.EventEmitter),this._onWillOpen=this.register(new L.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(P.DecorationService),this._instantiationService.setService(H.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(re.LinkProviderService),this._instantiationService.setService(k.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(v.OscLinkProvider)),this.register(this._inputHandler.onRequestBell((()=>this._onBell.fire()))),this.register(this._inputHandler.onRequestRefreshRows(((A,U)=>this.refresh(A,U)))),this.register(this._inputHandler.onRequestSendFocus((()=>this._reportFocus()))),this.register(this._inputHandler.onRequestReset((()=>this.reset()))),this.register(this._inputHandler.onRequestWindowsOptionsReport((A=>this._reportWindowsOptions(A)))),this.register(this._inputHandler.onColor((A=>this._handleColorEvent(A)))),this.register((0,L.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,L.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,L.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,L.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((A=>this._afterResize(A.cols,A.rows)))),this.register((0,V.toDisposable)((()=>{this._customKeyEventHandler=void 0,this.element?.parentNode?.removeChild(this.element)})))}_handleColorEvent(T){if(this._themeService)for(const A of T){let U,K="";switch(A.index){case 256:U="foreground",K="10";break;case 257:U="background",K="11";break;case 258:U="cursor",K="12";break;default:U="ansi",K="4;"+A.index}switch(A.type){case 0:const ee=M.color.toColorRGB(U==="ansi"?this._themeService.colors.ansi[A.index]:this._themeService.colors[U]);this.coreService.triggerDataEvent(`${Y.C0.ESC}]${K};${(0,R.toRgbString)(ee)}${Y.C1_ESCAPED.ST}`);break;case 1:if(U==="ansi")this._themeService.modifyColors((D=>D.ansi[A.index]=M.channels.toColor(...A.color)));else{const D=U;this._themeService.modifyColors((I=>I[D]=M.channels.toColor(...A.color)))}break;case 2:this._themeService.restoreColor(A.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(T){T?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(Q.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(T){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(Y.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){return this.textarea?.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(Y.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const T=this.buffer.ybase+this.buffer.y,A=this.buffer.lines.get(T);if(!A)return;const U=Math.min(this.buffer.x,this.cols-1),K=this._renderService.dimensions.css.cell.height,ee=A.getWidth(U),D=this._renderService.dimensions.css.cell.width*ee,I=this.buffer.y*this._renderService.dimensions.css.cell.height,F=U*this._renderService.dimensions.css.cell.width;this.textarea.style.left=F+"px",this.textarea.style.top=I+"px",this.textarea.style.width=D+"px",this.textarea.style.height=K+"px",this.textarea.style.lineHeight=K+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,f.addDisposableDomListener)(this.element,"copy",(A=>{this.hasSelection()&&(0,l.copyHandler)(A,this._selectionService)})));const T=A=>(0,l.handlePasteEvent)(A,this.textarea,this.coreService,this.optionsService);this.register((0,f.addDisposableDomListener)(this.textarea,"paste",T)),this.register((0,f.addDisposableDomListener)(this.element,"paste",T)),Z.isFirefox?this.register((0,f.addDisposableDomListener)(this.element,"mousedown",(A=>{A.button===2&&(0,l.rightClickHandler)(A,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))):this.register((0,f.addDisposableDomListener)(this.element,"contextmenu",(A=>{(0,l.rightClickHandler)(A,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))),Z.isLinux&&this.register((0,f.addDisposableDomListener)(this.element,"auxclick",(A=>{A.button===1&&(0,l.moveTextAreaUnderMouseCursor)(A,this.textarea,this.screenElement)})))}_bindKeys(){this.register((0,f.addDisposableDomListener)(this.textarea,"keyup",(T=>this._keyUp(T)),!0)),this.register((0,f.addDisposableDomListener)(this.textarea,"keydown",(T=>this._keyDown(T)),!0)),this.register((0,f.addDisposableDomListener)(this.textarea,"keypress",(T=>this._keyPress(T)),!0)),this.register((0,f.addDisposableDomListener)(this.textarea,"compositionstart",(()=>this._compositionHelper.compositionstart()))),this.register((0,f.addDisposableDomListener)(this.textarea,"compositionupdate",(T=>this._compositionHelper.compositionupdate(T)))),this.register((0,f.addDisposableDomListener)(this.textarea,"compositionend",(()=>this._compositionHelper.compositionend()))),this.register((0,f.addDisposableDomListener)(this.textarea,"input",(T=>this._inputEvent(T)),!0)),this.register(this.onRender((()=>this._compositionHelper.updateCompositionElements())))}open(T){if(!T)throw new Error("Terminal requires a parent element.");if(T.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this.element?.ownerDocument.defaultView&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=T.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),T.appendChild(this.element);const A=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),A.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,f.addDisposableDomListener)(this.screenElement,"mousemove",(U=>this.updateCursorStyle(U)))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),A.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",g.promptLabel),Z.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(w.CoreBrowserService,this.textarea,T.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(k.ICoreBrowserService,this._coreBrowserService),this.register((0,f.addDisposableDomListener)(this.textarea,"focus",(U=>this._handleTextAreaFocus(U)))),this.register((0,f.addDisposableDomListener)(this.textarea,"blur",(()=>this._handleTextAreaBlur()))),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(_.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(k.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(O.ThemeService),this._instantiationService.setService(k.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(b.CharacterJoinerService),this._instantiationService.setService(k.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(x.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(k.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((U=>this._onRender.fire(U)))),this.onResize((U=>this._renderService.resize(U.cols,U.rows))),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(c.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(C.MouseService),this._instantiationService.setService(k.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(a.Linkifier,this.screenElement)),this.element.appendChild(A);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(S.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((U=>this.scrollLines(U.amount,U.suppressScrollEvent,1))),this.register(this._inputHandler.onRequestSyncScrollBar((()=>this.viewport.syncScrollArea()))),this.register(this.viewport),this.register(this.onCursorMove((()=>{this._renderService.handleCursorMove(),this._syncTextArea()}))),this.register(this.onResize((()=>this._renderService.handleResize(this.cols,this.rows)))),this.register(this.onBlur((()=>this._renderService.handleBlur()))),this.register(this.onFocus((()=>this._renderService.handleFocus()))),this.register(this._renderService.onDimensionsChange((()=>this.viewport.syncScrollArea()))),this._selectionService=this.register(this._instantiationService.createInstance(y.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(k.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((U=>this.scrollLines(U.amount,U.suppressScrollEvent)))),this.register(this._selectionService.onSelectionChange((()=>this._onSelectionChange.fire()))),this.register(this._selectionService.onRequestRedraw((U=>this._renderService.handleSelectionChanged(U.start,U.end,U.columnSelectMode)))),this.register(this._selectionService.onLinuxMouseSelection((U=>{this.textarea.value=U,this.textarea.focus(),this.textarea.select()}))),this.register(this._onScroll.event((U=>{this.viewport.syncScrollArea(),this._selectionService.refresh()}))),this.register((0,f.addDisposableDomListener)(this._viewportElement,"scroll",(()=>this._selectionService.refresh()))),this.register(this._instantiationService.createInstance(m.BufferDecorationRenderer,this.screenElement)),this.register((0,f.addDisposableDomListener)(this.element,"mousedown",(U=>this._selectionService.handleMouseDown(U)))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(Q.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(U=>this._handleScreenReaderModeOptionChange(U)))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(h.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(U=>{!this._overviewRulerRenderer&&U&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(h.OverviewRulerRenderer,this._viewportElement,this.screenElement)))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(u.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const T=this,A=this.element;function U(D){const I=T._mouseService.getMouseReportCoords(D,T.screenElement);if(!I)return!1;let F,q;switch(D.overrideType||D.type){case"mousemove":q=32,D.buttons===void 0?(F=3,D.button!==void 0&&(F=D.button<3?D.button:3)):F=1&D.buttons?0:4&D.buttons?1:2&D.buttons?2:3;break;case"mouseup":q=0,F=D.button<3?D.button:3;break;case"mousedown":q=1,F=D.button<3?D.button:3;break;case"wheel":if(T._customWheelEventHandler&&T._customWheelEventHandler(D)===!1||T.viewport.getLinesScrolled(D)===0)return!1;q=D.deltaY<0?0:1,F=4;break;default:return!1}return!(q===void 0||F===void 0||F>4)&&T.coreMouseService.triggerMouseEvent({col:I.col,row:I.row,x:I.x,y:I.y,button:F,action:q,ctrl:D.ctrlKey,alt:D.altKey,shift:D.shiftKey})}const K={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ee={mouseup:D=>(U(D),D.buttons||(this._document.removeEventListener("mouseup",K.mouseup),K.mousedrag&&this._document.removeEventListener("mousemove",K.mousedrag)),this.cancel(D)),wheel:D=>(U(D),this.cancel(D,!0)),mousedrag:D=>{D.buttons&&U(D)},mousemove:D=>{D.buttons||U(D)}};this.register(this.coreMouseService.onProtocolChange((D=>{D?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(D)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&D?K.mousemove||(A.addEventListener("mousemove",ee.mousemove),K.mousemove=ee.mousemove):(A.removeEventListener("mousemove",K.mousemove),K.mousemove=null),16&D?K.wheel||(A.addEventListener("wheel",ee.wheel,{passive:!1}),K.wheel=ee.wheel):(A.removeEventListener("wheel",K.wheel),K.wheel=null),2&D?K.mouseup||(K.mouseup=ee.mouseup):(this._document.removeEventListener("mouseup",K.mouseup),K.mouseup=null),4&D?K.mousedrag||(K.mousedrag=ee.mousedrag):(this._document.removeEventListener("mousemove",K.mousedrag),K.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,f.addDisposableDomListener)(A,"mousedown",(D=>{if(D.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(D))return U(D),K.mouseup&&this._document.addEventListener("mouseup",K.mouseup),K.mousedrag&&this._document.addEventListener("mousemove",K.mousedrag),this.cancel(D)}))),this.register((0,f.addDisposableDomListener)(A,"wheel",(D=>{if(!K.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(D)===!1)return!1;if(!this.buffer.hasScrollback){const I=this.viewport.getLinesScrolled(D);if(I===0)return;const F=Y.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(D.deltaY<0?"A":"B");let q="";for(let G=0;G<Math.abs(I);G++)q+=F;return this.coreService.triggerDataEvent(q,!0),this.cancel(D,!0)}return this.viewport.handleWheel(D)?this.cancel(D):void 0}}),{passive:!1})),this.register((0,f.addDisposableDomListener)(A,"touchstart",(D=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(D),this.cancel(D)}),{passive:!0})),this.register((0,f.addDisposableDomListener)(A,"touchmove",(D=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(D)?void 0:this.cancel(D)}),{passive:!1}))}refresh(T,A){this._renderService?.refreshRows(T,A)}updateCursorStyle(T){this._selectionService?.shouldColumnSelect(T)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(T,A,U=0){U===1?(super.scrollLines(T,A,U),this.refresh(0,this.rows-1)):this.viewport?.scrollLines(T)}paste(T){(0,l.paste)(T,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(T){this._customKeyEventHandler=T}attachCustomWheelEventHandler(T){this._customWheelEventHandler=T}registerLinkProvider(T){return this._linkProviderService.registerLinkProvider(T)}registerCharacterJoiner(T){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const A=this._characterJoinerService.register(T);return this.refresh(0,this.rows-1),A}deregisterCharacterJoiner(T){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(T)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(T){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+T)}registerDecoration(T){return this._decorationService.registerDecoration(T)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(T,A,U){this._selectionService.setSelection(T,A,U)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){this._selectionService?.clearSelection()}selectAll(){this._selectionService?.selectAll()}selectLines(T,A){this._selectionService?.selectLines(T,A)}_keyDown(T){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(T)===!1)return!1;const A=this.browser.isMac&&this.options.macOptionIsMeta&&T.altKey;if(!A&&!this._compositionHelper.keydown(T))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;A||T.key!=="Dead"&&T.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const U=(0,X.evaluateKeyboardEvent)(T,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(T),U.type===3||U.type===2){const K=this.rows-1;return this.scrollLines(U.type===2?-K:K),this.cancel(T,!0)}return U.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,T)||(U.cancel&&this.cancel(T,!0),!U.key||!!(T.key&&!T.ctrlKey&&!T.altKey&&!T.metaKey&&T.key.length===1&&T.key.charCodeAt(0)>=65&&T.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(U.key!==Y.C0.ETX&&U.key!==Y.C0.CR||(this.textarea.value=""),this._onKey.fire({key:U.key,domEvent:T}),this._showCursor(),this.coreService.triggerDataEvent(U.key,!0),!this.optionsService.rawOptions.screenReaderMode||T.altKey||T.ctrlKey?this.cancel(T,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(T,A){const U=T.isMac&&!this.options.macOptionIsMeta&&A.altKey&&!A.ctrlKey&&!A.metaKey||T.isWindows&&A.altKey&&A.ctrlKey&&!A.metaKey||T.isWindows&&A.getModifierState("AltGraph");return A.type==="keypress"?U:U&&(!A.keyCode||A.keyCode>47)}_keyUp(T){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(T)===!1||((function(A){return A.keyCode===16||A.keyCode===17||A.keyCode===18})(T)||this.focus(),this.updateCursorStyle(T),this._keyPressHandled=!1)}_keyPress(T){let A;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(T)===!1)return!1;if(this.cancel(T),T.charCode)A=T.charCode;else if(T.which===null||T.which===void 0)A=T.keyCode;else{if(T.which===0||T.charCode===0)return!1;A=T.which}return!(!A||(T.altKey||T.ctrlKey||T.metaKey)&&!this._isThirdLevelShift(this.browser,T)||(A=String.fromCharCode(A),this._onKey.fire({key:A,domEvent:T}),this._showCursor(),this.coreService.triggerDataEvent(A,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(T){if(T.data&&T.inputType==="insertText"&&(!T.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const A=T.data;return this.coreService.triggerDataEvent(A,!0),this.cancel(T),!0}return!1}resize(T,A){T!==this.cols||A!==this.rows?super.resize(T,A):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(T,A){this._charSizeService?.measure(),this.viewport?.syncScrollArea(!0)}clear(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let T=1;T<this.rows;T++)this.buffer.lines.push(this.buffer.getBlankLine(J.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),this.viewport?.reset(),this.refresh(0,this.rows-1)}}reset(){this.options.rows=this.rows,this.options.cols=this.cols;const T=this._customKeyEventHandler;this._setup(),super.reset(),this._selectionService?.reset(),this._decorationService.reset(),this.viewport?.reset(),this._customKeyEventHandler=T,this.refresh(0,this.rows-1)}clearTextureAtlas(){this._renderService?.clearTextureAtlas()}_reportFocus(){this.element?.classList.contains("focus")?this.coreService.triggerDataEvent(Y.C0.ESC+"[I"):this.coreService.triggerDataEvent(Y.C0.ESC+"[O")}_reportWindowsOptions(T){if(this._renderService)switch(T){case $.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const A=this._renderService.dimensions.css.canvas.width.toFixed(0),U=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${Y.C0.ESC}[4;${U};${A}t`);break;case $.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const K=this._renderService.dimensions.css.cell.width.toFixed(0),ee=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${Y.C0.ESC}[6;${ee};${K}t`)}}cancel(T,A){if(this.options.cancelEvents||A)return T.preventDefault(),T.stopPropagation(),!1}}r.Terminal=de},9924:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TimeBasedDebouncer=void 0,r.TimeBasedDebouncer=class{constructor(o,l=1e3){this._renderCallback=o,this._debounceThresholdMS=l,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(o,l,f){this._rowCount=f,o=o!==void 0?o:0,l=l!==void 0?l:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,o):o,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,l):l;const a=Date.now();if(a-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=a,this._innerRefresh();else if(!this._additionalRefreshRequested){const g=a-this._lastRefreshMs,v=this._debounceThresholdMS-g;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0}),v)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const o=Math.max(this._rowStart,0),l=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(o,l)}}},1680:function(p,r,o){var l=this&&this.__decorate||function(c,u,_,b){var w,C=arguments.length,x=C<3?u:b===null?b=Object.getOwnPropertyDescriptor(u,_):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(c,u,_,b);else for(var y=c.length-1;y>=0;y--)(w=c[y])&&(x=(C<3?w(x):C>3?w(u,_,x):w(u,_))||x);return C>3&&x&&Object.defineProperty(u,_,x),x},f=this&&this.__param||function(c,u){return function(_,b){u(_,b,c)}};Object.defineProperty(r,"__esModule",{value:!0}),r.Viewport=void 0;const a=o(3656),g=o(4725),v=o(8460),S=o(844),m=o(2585);let h=r.Viewport=class extends S.Disposable{constructor(c,u,_,b,w,C,x,y){super(),this._viewportElement=c,this._scrollArea=u,this._bufferService=_,this._optionsService=b,this._charSizeService=w,this._renderService=C,this._coreBrowserService=x,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new v.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,a.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((k=>this._activeBuffer=k.activeBuffer))),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((k=>this._renderDimensions=k))),this._handleThemeChange(y.colors),this.register(y.onChangeColors((k=>this._handleThemeChange(k)))),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.syncScrollArea()))),setTimeout((()=>this.syncScrollArea()))}_handleThemeChange(c){this._viewportElement.style.backgroundColor=c.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame((()=>this.syncScrollArea()))}_refresh(c){if(c)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const u=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==u&&(this._lastRecordedBufferHeight=u,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const c=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==c&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=c),this._refreshAnimationFrame=null}syncScrollArea(c=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(c);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(c)}_handleScroll(c){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const u=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:u,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const c=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(c*(this._smoothScrollState.target-this._smoothScrollState.origin)),c<1?this._coreBrowserService.window.requestAnimationFrame((()=>this._smoothScroll())):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(c,u){const _=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(u<0&&this._viewportElement.scrollTop!==0||u>0&&_<this._lastRecordedBufferHeight)||(c.cancelable&&c.preventDefault(),!1)}handleWheel(c){const u=this._getPixelsScrolled(c);return u!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+u:this._smoothScrollState.target+=u,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=u,this._bubbleScroll(c,u))}scrollLines(c){if(c!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const u=c*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+u,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:c,suppressScrollEvent:!1})}_getPixelsScrolled(c){if(c.deltaY===0||c.shiftKey)return 0;let u=this._applyScrollModifier(c.deltaY,c);return c.deltaMode===WheelEvent.DOM_DELTA_LINE?u*=this._currentRowHeight:c.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(u*=this._currentRowHeight*this._bufferService.rows),u}getBufferElements(c,u){let _,b="";const w=[],C=u??this._bufferService.buffer.lines.length,x=this._bufferService.buffer.lines;for(let y=c;y<C;y++){const k=x.get(y);if(!k)continue;const O=x.get(y+1)?.isWrapped;if(b+=k.translateToString(!O),!O||y===x.length-1){const M=document.createElement("div");M.textContent=b,w.push(M),b.length>0&&(_=M),b=""}}return{bufferElements:w,cursorElement:_}}getLinesScrolled(c){if(c.deltaY===0||c.shiftKey)return 0;let u=this._applyScrollModifier(c.deltaY,c);return c.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(u/=this._currentRowHeight+0,this._wheelPartialScroll+=u,u=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):c.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(u*=this._bufferService.rows),u}_applyScrollModifier(c,u){const _=this._optionsService.rawOptions.fastScrollModifier;return _==="alt"&&u.altKey||_==="ctrl"&&u.ctrlKey||_==="shift"&&u.shiftKey?c*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:c*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(c){this._lastTouchY=c.touches[0].pageY}handleTouchMove(c){const u=this._lastTouchY-c.touches[0].pageY;return this._lastTouchY=c.touches[0].pageY,u!==0&&(this._viewportElement.scrollTop+=u,this._bubbleScroll(c,u))}};r.Viewport=h=l([f(2,m.IBufferService),f(3,m.IOptionsService),f(4,g.ICharSizeService),f(5,g.IRenderService),f(6,g.ICoreBrowserService),f(7,g.IThemeService)],h)},3107:function(p,r,o){var l=this&&this.__decorate||function(m,h,c,u){var _,b=arguments.length,w=b<3?h:u===null?u=Object.getOwnPropertyDescriptor(h,c):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(m,h,c,u);else for(var C=m.length-1;C>=0;C--)(_=m[C])&&(w=(b<3?_(w):b>3?_(h,c,w):_(h,c))||w);return b>3&&w&&Object.defineProperty(h,c,w),w},f=this&&this.__param||function(m,h){return function(c,u){h(c,u,m)}};Object.defineProperty(r,"__esModule",{value:!0}),r.BufferDecorationRenderer=void 0;const a=o(4725),g=o(844),v=o(2585);let S=r.BufferDecorationRenderer=class extends g.Disposable{constructor(m,h,c,u,_){super(),this._screenElement=m,this._bufferService=h,this._coreBrowserService=c,this._decorationService=u,this._renderService=_,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange((()=>this._doRefreshDecorations()))),this.register(this._renderService.onDimensionsChange((()=>{this._dimensionsChanged=!0,this._queueRefresh()}))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt}))),this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh()))),this.register(this._decorationService.onDecorationRemoved((b=>this._removeDecoration(b)))),this.register((0,g.toDisposable)((()=>{this._container.remove(),this._decorationElements.clear()})))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback((()=>{this._doRefreshDecorations(),this._animationFrame=void 0})))}_doRefreshDecorations(){for(const m of this._decorationService.decorations)this._renderDecoration(m);this._dimensionsChanged=!1}_renderDecoration(m){this._refreshStyle(m),this._dimensionsChanged&&this._refreshXPosition(m)}_createElement(m){const h=this._coreBrowserService.mainDocument.createElement("div");h.classList.add("xterm-decoration"),h.classList.toggle("xterm-decoration-top-layer",m?.options?.layer==="top"),h.style.width=`${Math.round((m.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,h.style.height=(m.options.height||1)*this._renderService.dimensions.css.cell.height+"px",h.style.top=(m.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",h.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const c=m.options.x??0;return c&&c>this._bufferService.cols&&(h.style.display="none"),this._refreshXPosition(m,h),h}_refreshStyle(m){const h=m.marker.line-this._bufferService.buffers.active.ydisp;if(h<0||h>=this._bufferService.rows)m.element&&(m.element.style.display="none",m.onRenderEmitter.fire(m.element));else{let c=this._decorationElements.get(m);c||(c=this._createElement(m),m.element=c,this._decorationElements.set(m,c),this._container.appendChild(c),m.onDispose((()=>{this._decorationElements.delete(m),c.remove()}))),c.style.top=h*this._renderService.dimensions.css.cell.height+"px",c.style.display=this._altBufferIsActive?"none":"block",m.onRenderEmitter.fire(c)}}_refreshXPosition(m,h=m.element){if(!h)return;const c=m.options.x??0;(m.options.anchor||"left")==="right"?h.style.right=c?c*this._renderService.dimensions.css.cell.width+"px":"":h.style.left=c?c*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(m){this._decorationElements.get(m)?.remove(),this._decorationElements.delete(m),m.dispose()}};r.BufferDecorationRenderer=S=l([f(1,v.IBufferService),f(2,a.ICoreBrowserService),f(3,v.IDecorationService),f(4,a.IRenderService)],S)},5871:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ColorZoneStore=void 0,r.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(o){if(o.options.overviewRulerOptions){for(const l of this._zones)if(l.color===o.options.overviewRulerOptions.color&&l.position===o.options.overviewRulerOptions.position){if(this._lineIntersectsZone(l,o.marker.line))return;if(this._lineAdjacentToZone(l,o.marker.line,o.options.overviewRulerOptions.position))return void this._addLineToZone(l,o.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=o.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=o.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=o.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=o.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:o.options.overviewRulerOptions.color,position:o.options.overviewRulerOptions.position,startBufferLine:o.marker.line,endBufferLine:o.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(o){this._linePadding=o}_lineIntersectsZone(o,l){return l>=o.startBufferLine&&l<=o.endBufferLine}_lineAdjacentToZone(o,l,f){return l>=o.startBufferLine-this._linePadding[f||"full"]&&l<=o.endBufferLine+this._linePadding[f||"full"]}_addLineToZone(o,l){o.startBufferLine=Math.min(o.startBufferLine,l),o.endBufferLine=Math.max(o.endBufferLine,l)}}},5744:function(p,r,o){var l=this&&this.__decorate||function(_,b,w,C){var x,y=arguments.length,k=y<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,w):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(_,b,w,C);else for(var O=_.length-1;O>=0;O--)(x=_[O])&&(k=(y<3?x(k):y>3?x(b,w,k):x(b,w))||k);return y>3&&k&&Object.defineProperty(b,w,k),k},f=this&&this.__param||function(_,b){return function(w,C){b(w,C,_)}};Object.defineProperty(r,"__esModule",{value:!0}),r.OverviewRulerRenderer=void 0;const a=o(5871),g=o(4725),v=o(844),S=o(2585),m={full:0,left:0,center:0,right:0},h={full:0,left:0,center:0,right:0},c={full:0,left:0,center:0,right:0};let u=r.OverviewRulerRenderer=class extends v.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(_,b,w,C,x,y,k){super(),this._viewportElement=_,this._screenElement=b,this._bufferService=w,this._decorationService=C,this._renderService=x,this._optionsService=y,this._coreBrowserService=k,this._colorZoneStore=new a.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),this._viewportElement.parentElement?.insertBefore(this._canvas,this._viewportElement);const O=this._canvas.getContext("2d");if(!O)throw new Error("Ctx cannot be null");this._ctx=O,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,v.toDisposable)((()=>{this._canvas?.remove()})))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh(void 0,!0)))),this.register(this._decorationService.onDecorationRemoved((()=>this._queueRefresh(void 0,!0))))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender((()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)}))),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",(()=>this._queueRefresh(!0)))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh(!0)))),this._queueRefresh(!0)}_refreshDrawConstants(){const _=Math.floor(this._canvas.width/3),b=Math.ceil(this._canvas.width/3);h.full=this._canvas.width,h.left=_,h.center=b,h.right=_,this._refreshDrawHeightConstants(),c.full=0,c.left=0,c.center=h.left,c.right=h.left+h.center}_refreshDrawHeightConstants(){m.full=Math.round(2*this._coreBrowserService.dpr);const _=this._canvas.height/this._bufferService.buffer.lines.length,b=Math.round(Math.max(Math.min(_,12),6)*this._coreBrowserService.dpr);m.left=b,m.center=b,m.right=b}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const b of this._decorationService.decorations)this._colorZoneStore.addDecoration(b);this._ctx.lineWidth=1;const _=this._colorZoneStore.zones;for(const b of _)b.position!=="full"&&this._renderColorZone(b);for(const b of _)b.position==="full"&&this._renderColorZone(b);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(_){this._ctx.fillStyle=_.color,this._ctx.fillRect(c[_.position||"full"],Math.round((this._canvas.height-1)*(_.startBufferLine/this._bufferService.buffers.active.lines.length)-m[_.position||"full"]/2),h[_.position||"full"],Math.round((this._canvas.height-1)*((_.endBufferLine-_.startBufferLine)/this._bufferService.buffers.active.lines.length)+m[_.position||"full"]))}_queueRefresh(_,b){this._shouldUpdateDimensions=_||this._shouldUpdateDimensions,this._shouldUpdateAnchor=b||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>{this._refreshDecorations(),this._animationFrame=void 0})))}};r.OverviewRulerRenderer=u=l([f(2,S.IBufferService),f(3,S.IDecorationService),f(4,g.IRenderService),f(5,S.IOptionsService),f(6,g.ICoreBrowserService)],u)},2950:function(p,r,o){var l=this&&this.__decorate||function(m,h,c,u){var _,b=arguments.length,w=b<3?h:u===null?u=Object.getOwnPropertyDescriptor(h,c):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(m,h,c,u);else for(var C=m.length-1;C>=0;C--)(_=m[C])&&(w=(b<3?_(w):b>3?_(h,c,w):_(h,c))||w);return b>3&&w&&Object.defineProperty(h,c,w),w},f=this&&this.__param||function(m,h){return function(c,u){h(c,u,m)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CompositionHelper=void 0;const a=o(4725),g=o(2585),v=o(2584);let S=r.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(m,h,c,u,_,b){this._textarea=m,this._compositionView=h,this._bufferService=c,this._optionsService=u,this._coreService=_,this._renderService=b,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(m){this._compositionView.textContent=m.data,this.updateCompositionElements(),setTimeout((()=>{this._compositionPosition.end=this._textarea.value.length}),0)}compositionend(){this._finalizeComposition(!0)}keydown(m){if(this._isComposing||this._isSendingComposition){if(m.keyCode===229||m.keyCode===16||m.keyCode===17||m.keyCode===18)return!1;this._finalizeComposition(!1)}return m.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(m){if(this._compositionView.classList.remove("active"),this._isComposing=!1,m){const h={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((()=>{if(this._isSendingComposition){let c;this._isSendingComposition=!1,h.start+=this._dataAlreadySent.length,c=this._isComposing?this._textarea.value.substring(h.start,h.end):this._textarea.value.substring(h.start),c.length>0&&this._coreService.triggerDataEvent(c,!0)}}),0)}else{this._isSendingComposition=!1;const h=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(h,!0)}}_handleAnyTextareaChanges(){const m=this._textarea.value;setTimeout((()=>{if(!this._isComposing){const h=this._textarea.value,c=h.replace(m,"");this._dataAlreadySent=c,h.length>m.length?this._coreService.triggerDataEvent(c,!0):h.length<m.length?this._coreService.triggerDataEvent(`${v.C0.DEL}`,!0):h.length===m.length&&h!==m&&this._coreService.triggerDataEvent(h,!0)}}),0)}updateCompositionElements(m){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const h=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),c=this._renderService.dimensions.css.cell.height,u=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,_=h*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=_+"px",this._compositionView.style.top=u+"px",this._compositionView.style.height=c+"px",this._compositionView.style.lineHeight=c+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const b=this._compositionView.getBoundingClientRect();this._textarea.style.left=_+"px",this._textarea.style.top=u+"px",this._textarea.style.width=Math.max(b.width,1)+"px",this._textarea.style.height=Math.max(b.height,1)+"px",this._textarea.style.lineHeight=b.height+"px"}m||setTimeout((()=>this.updateCompositionElements(!0)),0)}}};r.CompositionHelper=S=l([f(2,g.IBufferService),f(3,g.IOptionsService),f(4,g.ICoreService),f(5,a.IRenderService)],S)},9806:(p,r)=>{function o(l,f,a){const g=a.getBoundingClientRect(),v=l.getComputedStyle(a),S=parseInt(v.getPropertyValue("padding-left")),m=parseInt(v.getPropertyValue("padding-top"));return[f.clientX-g.left-S,f.clientY-g.top-m]}Object.defineProperty(r,"__esModule",{value:!0}),r.getCoords=r.getCoordsRelativeToElement=void 0,r.getCoordsRelativeToElement=o,r.getCoords=function(l,f,a,g,v,S,m,h,c){if(!S)return;const u=o(l,f,a);return u?(u[0]=Math.ceil((u[0]+(c?m/2:0))/m),u[1]=Math.ceil(u[1]/h),u[0]=Math.min(Math.max(u[0],1),g+(c?1:0)),u[1]=Math.min(Math.max(u[1],1),v),u):void 0}},9504:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.moveToCellSequence=void 0;const l=o(2584);function f(h,c,u,_){const b=h-a(h,u),w=c-a(c,u),C=Math.abs(b-w)-(function(x,y,k){let O=0;const M=x-a(x,k),B=y-a(y,k);for(let L=0;L<Math.abs(M-B);L++){const V=g(x,y)==="A"?-1:1;k.buffer.lines.get(M+V*L)?.isWrapped&&O++}return O})(h,c,u);return m(C,S(g(h,c),_))}function a(h,c){let u=0,_=c.buffer.lines.get(h),b=_?.isWrapped;for(;b&&h>=0&&h<c.rows;)u++,_=c.buffer.lines.get(--h),b=_?.isWrapped;return u}function g(h,c){return h>c?"A":"B"}function v(h,c,u,_,b,w){let C=h,x=c,y="";for(;C!==u||x!==_;)C+=b?1:-1,b&&C>w.cols-1?(y+=w.buffer.translateBufferLineToString(x,!1,h,C),C=0,h=0,x++):!b&&C<0&&(y+=w.buffer.translateBufferLineToString(x,!1,0,h+1),C=w.cols-1,h=C,x--);return y+w.buffer.translateBufferLineToString(x,!1,h,C)}function S(h,c){const u=c?"O":"[";return l.C0.ESC+u+h}function m(h,c){h=Math.floor(h);let u="";for(let _=0;_<h;_++)u+=c;return u}r.moveToCellSequence=function(h,c,u,_){const b=u.buffer.x,w=u.buffer.y;if(!u.buffer.hasScrollback)return(function(y,k,O,M,B,L){return f(k,M,B,L).length===0?"":m(v(y,k,y,k-a(k,B),!1,B).length,S("D",L))})(b,w,0,c,u,_)+f(w,c,u,_)+(function(y,k,O,M,B,L){let V;V=f(k,M,B,L).length>0?M-a(M,B):k;const Z=M,J=(function(Y,X,R,P,H,$){let Q;return Q=f(R,P,H,$).length>0?P-a(P,H):X,Y<R&&Q<=P||Y>=R&&Q<P?"C":"D"})(y,k,O,M,B,L);return m(v(y,V,O,Z,J==="C",B).length,S(J,L))})(b,w,h,c,u,_);let C;if(w===c)return C=b>h?"D":"C",m(Math.abs(b-h),S(C,_));C=w>c?"D":"C";const x=Math.abs(w-c);return m((function(y,k){return k.cols-y})(w>c?h:b,u)+(x-1)*u.cols+1+((w>c?b:h)-1),S(C,_))}},1296:function(p,r,o){var l=this&&this.__decorate||function(L,V,Z,J){var Y,X=arguments.length,R=X<3?V:J===null?J=Object.getOwnPropertyDescriptor(V,Z):J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(L,V,Z,J);else for(var P=L.length-1;P>=0;P--)(Y=L[P])&&(R=(X<3?Y(R):X>3?Y(V,Z,R):Y(V,Z))||R);return X>3&&R&&Object.defineProperty(V,Z,R),R},f=this&&this.__param||function(L,V){return function(Z,J){V(Z,J,L)}};Object.defineProperty(r,"__esModule",{value:!0}),r.DomRenderer=void 0;const a=o(3787),g=o(2550),v=o(2223),S=o(6171),m=o(6052),h=o(4725),c=o(8055),u=o(8460),_=o(844),b=o(2585),w="xterm-dom-renderer-owner-",C="xterm-rows",x="xterm-fg-",y="xterm-bg-",k="xterm-focus",O="xterm-selection";let M=1,B=r.DomRenderer=class extends _.Disposable{constructor(L,V,Z,J,Y,X,R,P,H,$,Q,re,de){super(),this._terminal=L,this._document=V,this._element=Z,this._screenElement=J,this._viewportElement=Y,this._helperContainer=X,this._linkifier2=R,this._charSizeService=H,this._optionsService=$,this._bufferService=Q,this._coreBrowserService=re,this._themeService=de,this._terminalClass=M++,this._rowElements=[],this._selectionRenderModel=(0,m.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new u.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(C),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(O),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,S.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._themeService.onChangeColors((fe=>this._injectCss(fe)))),this._injectCss(this._themeService.colors),this._rowFactory=P.createInstance(a.DomRendererRowFactory,document),this._element.classList.add(w+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((fe=>this._handleLinkHover(fe)))),this.register(this._linkifier2.onHideLinkUnderline((fe=>this._handleLinkLeave(fe)))),this.register((0,_.toDisposable)((()=>{this._element.classList.remove(w+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))),this._widthCache=new g.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const L=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*L,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*L),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/L),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/L),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const Z of this._rowElements)Z.style.width=`${this.dimensions.css.canvas.width}px`,Z.style.height=`${this.dimensions.css.cell.height}px`,Z.style.lineHeight=`${this.dimensions.css.cell.height}px`,Z.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const V=`${this._terminalSelector} .${C} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=V,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(L){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let V=`${this._terminalSelector} .${C} { color: ${L.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;V+=`${this._terminalSelector} .${C} .xterm-dim { color: ${c.color.multiplyOpacity(L.foreground,.5).css};}`,V+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const Z=`blink_underline_${this._terminalClass}`,J=`blink_bar_${this._terminalClass}`,Y=`blink_block_${this._terminalClass}`;V+=`@keyframes ${Z} { 50% {  border-bottom-style: hidden; }}`,V+=`@keyframes ${J} { 50% {  box-shadow: none; }}`,V+=`@keyframes ${Y} { 0% {  background-color: ${L.cursor.css};  color: ${L.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${L.cursor.css}; }}`,V+=`${this._terminalSelector} .${C}.${k} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${Z} 1s step-end infinite;}${this._terminalSelector} .${C}.${k} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${J} 1s step-end infinite;}${this._terminalSelector} .${C}.${k} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${Y} 1s step-end infinite;}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-block { background-color: ${L.cursor.css}; color: ${L.cursorAccent.css};}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${L.cursor.css} !important; color: ${L.cursorAccent.css} !important;}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${L.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${L.cursor.css} inset;}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${L.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,V+=`${this._terminalSelector} .${O} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${O} div { position: absolute; background-color: ${L.selectionBackgroundOpaque.css};}${this._terminalSelector} .${O} div { position: absolute; background-color: ${L.selectionInactiveBackgroundOpaque.css};}`;for(const[X,R]of L.ansi.entries())V+=`${this._terminalSelector} .${x}${X} { color: ${R.css}; }${this._terminalSelector} .${x}${X}.xterm-dim { color: ${c.color.multiplyOpacity(R,.5).css}; }${this._terminalSelector} .${y}${X} { background-color: ${R.css}; }`;V+=`${this._terminalSelector} .${x}${v.INVERTED_DEFAULT_COLOR} { color: ${c.color.opaque(L.background).css}; }${this._terminalSelector} .${x}${v.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${c.color.multiplyOpacity(c.color.opaque(L.background),.5).css}; }${this._terminalSelector} .${y}${v.INVERTED_DEFAULT_COLOR} { background-color: ${L.foreground.css}; }`,this._themeStyleElement.textContent=V}_setDefaultSpacing(){const L=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${L}px`,this._rowFactory.defaultSpacing=L}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(L,V){for(let Z=this._rowElements.length;Z<=V;Z++){const J=this._document.createElement("div");this._rowContainer.appendChild(J),this._rowElements.push(J)}for(;this._rowElements.length>V;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(L,V){this._refreshRowElements(L,V),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(k),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(k),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(L,V,Z){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(L,V,Z),this.renderRows(0,this._bufferService.rows-1),!L||!V)return;this._selectionRenderModel.update(this._terminal,L,V,Z);const J=this._selectionRenderModel.viewportStartRow,Y=this._selectionRenderModel.viewportEndRow,X=this._selectionRenderModel.viewportCappedStartRow,R=this._selectionRenderModel.viewportCappedEndRow;if(X>=this._bufferService.rows||R<0)return;const P=this._document.createDocumentFragment();if(Z){const H=L[0]>V[0];P.appendChild(this._createSelectionElement(X,H?V[0]:L[0],H?L[0]:V[0],R-X+1))}else{const H=J===X?L[0]:0,$=X===Y?V[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(X,H,$));const Q=R-X-1;if(P.appendChild(this._createSelectionElement(X+1,0,this._bufferService.cols,Q)),X!==R){const re=Y===R?V[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(R,0,re))}}this._selectionContainer.appendChild(P)}_createSelectionElement(L,V,Z,J=1){const Y=this._document.createElement("div"),X=V*this.dimensions.css.cell.width;let R=this.dimensions.css.cell.width*(Z-V);return X+R>this.dimensions.css.canvas.width&&(R=this.dimensions.css.canvas.width-X),Y.style.height=J*this.dimensions.css.cell.height+"px",Y.style.top=L*this.dimensions.css.cell.height+"px",Y.style.left=`${X}px`,Y.style.width=`${R}px`,Y}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const L of this._rowElements)L.replaceChildren()}renderRows(L,V){const Z=this._bufferService.buffer,J=Z.ybase+Z.y,Y=Math.min(Z.x,this._bufferService.cols-1),X=this._optionsService.rawOptions.cursorBlink,R=this._optionsService.rawOptions.cursorStyle,P=this._optionsService.rawOptions.cursorInactiveStyle;for(let H=L;H<=V;H++){const $=H+Z.ydisp,Q=this._rowElements[H],re=Z.lines.get($);if(!Q||!re)break;Q.replaceChildren(...this._rowFactory.createRow(re,$,$===J,R,P,Y,X,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${w}${this._terminalClass}`}_handleLinkHover(L){this._setCellUnderline(L.x1,L.x2,L.y1,L.y2,L.cols,!0)}_handleLinkLeave(L){this._setCellUnderline(L.x1,L.x2,L.y1,L.y2,L.cols,!1)}_setCellUnderline(L,V,Z,J,Y,X){Z<0&&(L=0),J<0&&(V=0);const R=this._bufferService.rows-1;Z=Math.max(Math.min(Z,R),0),J=Math.max(Math.min(J,R),0),Y=Math.min(Y,this._bufferService.cols);const P=this._bufferService.buffer,H=P.ybase+P.y,$=Math.min(P.x,Y-1),Q=this._optionsService.rawOptions.cursorBlink,re=this._optionsService.rawOptions.cursorStyle,de=this._optionsService.rawOptions.cursorInactiveStyle;for(let fe=Z;fe<=J;++fe){const T=fe+P.ydisp,A=this._rowElements[fe],U=P.lines.get(T);if(!A||!U)break;A.replaceChildren(...this._rowFactory.createRow(U,T,T===H,re,de,$,Q,this.dimensions.css.cell.width,this._widthCache,X?fe===Z?L:0:-1,X?(fe===J?V:Y)-1:-1))}}};r.DomRenderer=B=l([f(7,b.IInstantiationService),f(8,h.ICharSizeService),f(9,b.IOptionsService),f(10,b.IBufferService),f(11,h.ICoreBrowserService),f(12,h.IThemeService)],B)},3787:function(p,r,o){var l=this&&this.__decorate||function(C,x,y,k){var O,M=arguments.length,B=M<3?x:k===null?k=Object.getOwnPropertyDescriptor(x,y):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(C,x,y,k);else for(var L=C.length-1;L>=0;L--)(O=C[L])&&(B=(M<3?O(B):M>3?O(x,y,B):O(x,y))||B);return M>3&&B&&Object.defineProperty(x,y,B),B},f=this&&this.__param||function(C,x){return function(y,k){x(y,k,C)}};Object.defineProperty(r,"__esModule",{value:!0}),r.DomRendererRowFactory=void 0;const a=o(2223),g=o(643),v=o(511),S=o(2585),m=o(8055),h=o(4725),c=o(4269),u=o(6171),_=o(3734);let b=r.DomRendererRowFactory=class{constructor(C,x,y,k,O,M,B){this._document=C,this._characterJoinerService=x,this._optionsService=y,this._coreBrowserService=k,this._coreService=O,this._decorationService=M,this._themeService=B,this._workCell=new v.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(C,x,y){this._selectionStart=C,this._selectionEnd=x,this._columnSelectMode=y}createRow(C,x,y,k,O,M,B,L,V,Z,J){const Y=[],X=this._characterJoinerService.getJoinedCharacters(x),R=this._themeService.colors;let P,H=C.getNoBgTrimmedLength();y&&H<M+1&&(H=M+1);let $=0,Q="",re=0,de=0,fe=0,T=!1,A=0,U=!1,K=0;const ee=[],D=Z!==-1&&J!==-1;for(let I=0;I<H;I++){C.loadCell(I,this._workCell);let F=this._workCell.getWidth();if(F===0)continue;let q=!1,G=I,W=this._workCell;if(X.length>0&&I===X[0][0]){q=!0;const Re=X.shift();W=new c.JoinedCellData(this._workCell,C.translateToString(!0,Re[0],Re[1]),Re[1]-Re[0]),G=Re[1]-1,F=W.getWidth()}const le=this._isCellInSelection(I,x),ae=y&&I===M,ne=D&&I>=Z&&I<=J;let se=!1;this._decorationService.forEachDecorationAtCell(I,x,void 0,(Re=>{se=!0}));let ge=W.getChars()||g.WHITESPACE_CELL_CHAR;if(ge===" "&&(W.isUnderline()||W.isOverline())&&(ge=""),K=F*L-V.get(ge,W.isBold(),W.isItalic()),P){if($&&(le&&U||!le&&!U&&W.bg===re)&&(le&&U&&R.selectionForeground||W.fg===de)&&W.extended.ext===fe&&ne===T&&K===A&&!ae&&!q&&!se){W.isInvisible()?Q+=g.WHITESPACE_CELL_CHAR:Q+=ge,$++;continue}$&&(P.textContent=Q),P=this._document.createElement("span"),$=0,Q=""}else P=this._document.createElement("span");if(re=W.bg,de=W.fg,fe=W.extended.ext,T=ne,A=K,U=le,q&&M>=I&&M<=G&&(M=I),!this._coreService.isCursorHidden&&ae&&this._coreService.isCursorInitialized){if(ee.push("xterm-cursor"),this._coreBrowserService.isFocused)B&&ee.push("xterm-cursor-blink"),ee.push(k==="bar"?"xterm-cursor-bar":k==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(O)switch(O){case"outline":ee.push("xterm-cursor-outline");break;case"block":ee.push("xterm-cursor-block");break;case"bar":ee.push("xterm-cursor-bar");break;case"underline":ee.push("xterm-cursor-underline")}}if(W.isBold()&&ee.push("xterm-bold"),W.isItalic()&&ee.push("xterm-italic"),W.isDim()&&ee.push("xterm-dim"),Q=W.isInvisible()?g.WHITESPACE_CELL_CHAR:W.getChars()||g.WHITESPACE_CELL_CHAR,W.isUnderline()&&(ee.push(`xterm-underline-${W.extended.underlineStyle}`),Q===" "&&(Q=""),!W.isUnderlineColorDefault()))if(W.isUnderlineColorRGB())P.style.textDecorationColor=`rgb(${_.AttributeData.toColorRGB(W.getUnderlineColor()).join(",")})`;else{let Re=W.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&W.isBold()&&Re<8&&(Re+=8),P.style.textDecorationColor=R.ansi[Re].css}W.isOverline()&&(ee.push("xterm-overline"),Q===" "&&(Q="")),W.isStrikethrough()&&ee.push("xterm-strikethrough"),ne&&(P.style.textDecoration="underline");let oe=W.getFgColor(),_e=W.getFgColorMode(),pe=W.getBgColor(),Ee=W.getBgColorMode();const De=!!W.isInverse();if(De){const Re=oe;oe=pe,pe=Re;const as=_e;_e=Ee,Ee=as}let xe,qe,Fe,Xe=!1;switch(this._decorationService.forEachDecorationAtCell(I,x,void 0,(Re=>{Re.options.layer!=="top"&&Xe||(Re.backgroundColorRGB&&(Ee=50331648,pe=Re.backgroundColorRGB.rgba>>8&16777215,xe=Re.backgroundColorRGB),Re.foregroundColorRGB&&(_e=50331648,oe=Re.foregroundColorRGB.rgba>>8&16777215,qe=Re.foregroundColorRGB),Xe=Re.options.layer==="top")})),!Xe&&le&&(xe=this._coreBrowserService.isFocused?R.selectionBackgroundOpaque:R.selectionInactiveBackgroundOpaque,pe=xe.rgba>>8&16777215,Ee=50331648,Xe=!0,R.selectionForeground&&(_e=50331648,oe=R.selectionForeground.rgba>>8&16777215,qe=R.selectionForeground)),Xe&&ee.push("xterm-decoration-top"),Ee){case 16777216:case 33554432:Fe=R.ansi[pe],ee.push(`xterm-bg-${pe}`);break;case 50331648:Fe=m.channels.toColor(pe>>16,pe>>8&255,255&pe),this._addStyle(P,`background-color:#${w((pe>>>0).toString(16),"0",6)}`);break;default:De?(Fe=R.foreground,ee.push(`xterm-bg-${a.INVERTED_DEFAULT_COLOR}`)):Fe=R.background}switch(xe||W.isDim()&&(xe=m.color.multiplyOpacity(Fe,.5)),_e){case 16777216:case 33554432:W.isBold()&&oe<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(oe+=8),this._applyMinimumContrast(P,Fe,R.ansi[oe],W,xe,void 0)||ee.push(`xterm-fg-${oe}`);break;case 50331648:const Re=m.channels.toColor(oe>>16&255,oe>>8&255,255&oe);this._applyMinimumContrast(P,Fe,Re,W,xe,qe)||this._addStyle(P,`color:#${w(oe.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(P,Fe,R.foreground,W,xe,qe)||De&&ee.push(`xterm-fg-${a.INVERTED_DEFAULT_COLOR}`)}ee.length&&(P.className=ee.join(" "),ee.length=0),ae||q||se?P.textContent=Q:$++,K!==this.defaultSpacing&&(P.style.letterSpacing=`${K}px`),Y.push(P),I=G}return P&&$&&(P.textContent=Q),Y}_applyMinimumContrast(C,x,y,k,O,M){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,u.treatGlyphAsBackgroundColor)(k.getCode()))return!1;const B=this._getContrastCache(k);let L;if(O||M||(L=B.getColor(x.rgba,y.rgba)),L===void 0){const V=this._optionsService.rawOptions.minimumContrastRatio/(k.isDim()?2:1);L=m.color.ensureContrastRatio(O||x,M||y,V),B.setColor((O||x).rgba,(M||y).rgba,L??null)}return!!L&&(this._addStyle(C,`color:${L.css}`),!0)}_getContrastCache(C){return C.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(C,x){C.setAttribute("style",`${C.getAttribute("style")||""}${x};`)}_isCellInSelection(C,x){const y=this._selectionStart,k=this._selectionEnd;return!(!y||!k)&&(this._columnSelectMode?y[0]<=k[0]?C>=y[0]&&x>=y[1]&&C<k[0]&&x<=k[1]:C<y[0]&&x>=y[1]&&C>=k[0]&&x<=k[1]:x>y[1]&&x<k[1]||y[1]===k[1]&&x===y[1]&&C>=y[0]&&C<k[0]||y[1]<k[1]&&x===k[1]&&C<k[0]||y[1]<k[1]&&x===y[1]&&C>=y[0])}};function w(C,x,y){for(;C.length<y;)C=x+C;return C}r.DomRendererRowFactory=b=l([f(1,h.ICharacterJoinerService),f(2,S.IOptionsService),f(3,h.ICoreBrowserService),f(4,S.ICoreService),f(5,S.IDecorationService),f(6,h.IThemeService)],b)},2550:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.WidthCache=void 0,r.WidthCache=class{constructor(o,l){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=o.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const f=o.createElement("span");f.classList.add("xterm-char-measure-element");const a=o.createElement("span");a.classList.add("xterm-char-measure-element"),a.style.fontWeight="bold";const g=o.createElement("span");g.classList.add("xterm-char-measure-element"),g.style.fontStyle="italic";const v=o.createElement("span");v.classList.add("xterm-char-measure-element"),v.style.fontWeight="bold",v.style.fontStyle="italic",this._measureElements=[f,a,g,v],this._container.appendChild(f),this._container.appendChild(a),this._container.appendChild(g),this._container.appendChild(v),l.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(o,l,f,a){o===this._font&&l===this._fontSize&&f===this._weight&&a===this._weightBold||(this._font=o,this._fontSize=l,this._weight=f,this._weightBold=a,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${f}`,this._measureElements[1].style.fontWeight=`${a}`,this._measureElements[2].style.fontWeight=`${f}`,this._measureElements[3].style.fontWeight=`${a}`,this.clear())}get(o,l,f){let a=0;if(!l&&!f&&o.length===1&&(a=o.charCodeAt(0))<256){if(this._flat[a]!==-9999)return this._flat[a];const S=this._measure(o,0);return S>0&&(this._flat[a]=S),S}let g=o;l&&(g+="B"),f&&(g+="I");let v=this._holey.get(g);if(v===void 0){let S=0;l&&(S|=1),f&&(S|=2),v=this._measure(o,S),v>0&&this._holey.set(g,v)}return v}_measure(o,l){const f=this._measureElements[l];return f.textContent=o.repeat(32),f.offsetWidth/32}}},2223:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TEXT_BASELINE=r.DIM_OPACITY=r.INVERTED_DEFAULT_COLOR=void 0;const l=o(6114);r.INVERTED_DEFAULT_COLOR=257,r.DIM_OPACITY=.5,r.TEXT_BASELINE=l.isFirefox||l.isLegacyEdge?"bottom":"ideographic"},6171:(p,r)=>{function o(f){return 57508<=f&&f<=57558}function l(f){return f>=128512&&f<=128591||f>=127744&&f<=128511||f>=128640&&f<=128767||f>=9728&&f<=9983||f>=9984&&f<=10175||f>=65024&&f<=65039||f>=129280&&f<=129535||f>=127462&&f<=127487}Object.defineProperty(r,"__esModule",{value:!0}),r.computeNextVariantOffset=r.createRenderDimensions=r.treatGlyphAsBackgroundColor=r.allowRescaling=r.isEmoji=r.isRestrictedPowerlineGlyph=r.isPowerlineGlyph=r.throwIfFalsy=void 0,r.throwIfFalsy=function(f){if(!f)throw new Error("value must not be falsy");return f},r.isPowerlineGlyph=o,r.isRestrictedPowerlineGlyph=function(f){return 57520<=f&&f<=57527},r.isEmoji=l,r.allowRescaling=function(f,a,g,v){return a===1&&g>Math.ceil(1.5*v)&&f!==void 0&&f>255&&!l(f)&&!o(f)&&!(function(S){return 57344<=S&&S<=63743})(f)},r.treatGlyphAsBackgroundColor=function(f){return o(f)||(function(a){return 9472<=a&&a<=9631})(f)},r.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},r.computeNextVariantOffset=function(f,a,g=0){return(f-(2*Math.round(a)-g))%(2*Math.round(a))}},6052:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createSelectionRenderModel=void 0;class o{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(f,a,g,v=!1){if(this.selectionStart=a,this.selectionEnd=g,!a||!g||a[0]===g[0]&&a[1]===g[1])return void this.clear();const S=f.buffers.active.ydisp,m=a[1]-S,h=g[1]-S,c=Math.max(m,0),u=Math.min(h,f.rows-1);c>=f.rows||u<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=v,this.viewportStartRow=m,this.viewportEndRow=h,this.viewportCappedStartRow=c,this.viewportCappedEndRow=u,this.startCol=a[0],this.endCol=g[0])}isCellSelected(f,a,g){return!!this.hasSelection&&(g-=f.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?a>=this.startCol&&g>=this.viewportCappedStartRow&&a<this.endCol&&g<=this.viewportCappedEndRow:a<this.startCol&&g>=this.viewportCappedStartRow&&a>=this.endCol&&g<=this.viewportCappedEndRow:g>this.viewportStartRow&&g<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&g===this.viewportStartRow&&a>=this.startCol&&a<this.endCol||this.viewportStartRow<this.viewportEndRow&&g===this.viewportEndRow&&a<this.endCol||this.viewportStartRow<this.viewportEndRow&&g===this.viewportStartRow&&a>=this.startCol)}}r.createSelectionRenderModel=function(){return new o}},456:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.SelectionModel=void 0,r.SelectionModel=class{constructor(o){this._bufferService=o,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const o=this.selectionStart[0]+this.selectionStartLength;return o>this._bufferService.cols?o%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(o/this._bufferService.cols)-1]:[o%this._bufferService.cols,this.selectionStart[1]+Math.floor(o/this._bufferService.cols)]:[o,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const o=this.selectionStart[0]+this.selectionStartLength;return o>this._bufferService.cols?[o%this._bufferService.cols,this.selectionStart[1]+Math.floor(o/this._bufferService.cols)]:[Math.max(o,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const o=this.selectionStart,l=this.selectionEnd;return!(!o||!l)&&(o[1]>l[1]||o[1]===l[1]&&o[0]>l[0])}handleTrim(o){return this.selectionStart&&(this.selectionStart[1]-=o),this.selectionEnd&&(this.selectionEnd[1]-=o),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(p,r,o){var l=this&&this.__decorate||function(u,_,b,w){var C,x=arguments.length,y=x<3?_:w===null?w=Object.getOwnPropertyDescriptor(_,b):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(u,_,b,w);else for(var k=u.length-1;k>=0;k--)(C=u[k])&&(y=(x<3?C(y):x>3?C(_,b,y):C(_,b))||y);return x>3&&y&&Object.defineProperty(_,b,y),y},f=this&&this.__param||function(u,_){return function(b,w){_(b,w,u)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CharSizeService=void 0;const a=o(2585),g=o(8460),v=o(844);let S=r.CharSizeService=class extends v.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(u,_,b){super(),this._optionsService=b,this.width=0,this.height=0,this._onCharSizeChange=this.register(new g.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new c(this._optionsService))}catch{this._measureStrategy=this.register(new h(u,_,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],(()=>this.measure())))}measure(){const u=this._measureStrategy.measure();u.width===this.width&&u.height===this.height||(this.width=u.width,this.height=u.height,this._onCharSizeChange.fire())}};r.CharSizeService=S=l([f(2,a.IOptionsService)],S);class m extends v.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(_,b){_!==void 0&&_>0&&b!==void 0&&b>0&&(this._result.width=_,this._result.height=b)}}class h extends m{constructor(_,b,w){super(),this._document=_,this._parentElement=b,this._optionsService=w,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class c extends m{constructor(_){super(),this._optionsService=_,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const b=this._ctx.measureText("W");if(!("width"in b&&"fontBoundingBoxAscent"in b&&"fontBoundingBoxDescent"in b))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const _=this._ctx.measureText("W");return this._validateAndSet(_.width,_.fontBoundingBoxAscent+_.fontBoundingBoxDescent),this._result}}},4269:function(p,r,o){var l=this&&this.__decorate||function(c,u,_,b){var w,C=arguments.length,x=C<3?u:b===null?b=Object.getOwnPropertyDescriptor(u,_):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(c,u,_,b);else for(var y=c.length-1;y>=0;y--)(w=c[y])&&(x=(C<3?w(x):C>3?w(u,_,x):w(u,_))||x);return C>3&&x&&Object.defineProperty(u,_,x),x},f=this&&this.__param||function(c,u){return function(_,b){u(_,b,c)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterJoinerService=r.JoinedCellData=void 0;const a=o(3734),g=o(643),v=o(511),S=o(2585);class m extends a.AttributeData{constructor(u,_,b){super(),this.content=0,this.combinedData="",this.fg=u.fg,this.bg=u.bg,this.combinedData=_,this._width=b}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(u){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}r.JoinedCellData=m;let h=r.CharacterJoinerService=class Pc{constructor(u){this._bufferService=u,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new v.CellData}register(u){const _={id:this._nextCharacterJoinerId++,handler:u};return this._characterJoiners.push(_),_.id}deregister(u){for(let _=0;_<this._characterJoiners.length;_++)if(this._characterJoiners[_].id===u)return this._characterJoiners.splice(_,1),!0;return!1}getJoinedCharacters(u){if(this._characterJoiners.length===0)return[];const _=this._bufferService.buffer.lines.get(u);if(!_||_.length===0)return[];const b=[],w=_.translateToString(!0);let C=0,x=0,y=0,k=_.getFg(0),O=_.getBg(0);for(let M=0;M<_.getTrimmedLength();M++)if(_.loadCell(M,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==k||this._workCell.bg!==O){if(M-C>1){const B=this._getJoinedRanges(w,y,x,_,C);for(let L=0;L<B.length;L++)b.push(B[L])}C=M,y=x,k=this._workCell.fg,O=this._workCell.bg}x+=this._workCell.getChars().length||g.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-C>1){const M=this._getJoinedRanges(w,y,x,_,C);for(let B=0;B<M.length;B++)b.push(M[B])}return b}_getJoinedRanges(u,_,b,w,C){const x=u.substring(_,b);let y=[];try{y=this._characterJoiners[0].handler(x)}catch(k){console.error(k)}for(let k=1;k<this._characterJoiners.length;k++)try{const O=this._characterJoiners[k].handler(x);for(let M=0;M<O.length;M++)Pc._mergeRanges(y,O[M])}catch(O){console.error(O)}return this._stringRangesToCellRanges(y,w,C),y}_stringRangesToCellRanges(u,_,b){let w=0,C=!1,x=0,y=u[w];if(y){for(let k=b;k<this._bufferService.cols;k++){const O=_.getWidth(k),M=_.getString(k).length||g.WHITESPACE_CELL_CHAR.length;if(O!==0){if(!C&&y[0]<=x&&(y[0]=k,C=!0),y[1]<=x){if(y[1]=k,y=u[++w],!y)break;y[0]<=x?(y[0]=k,C=!0):C=!1}x+=M}}y&&(y[1]=this._bufferService.cols)}}static _mergeRanges(u,_){let b=!1;for(let w=0;w<u.length;w++){const C=u[w];if(b){if(_[1]<=C[0])return u[w-1][1]=_[1],u;if(_[1]<=C[1])return u[w-1][1]=Math.max(_[1],C[1]),u.splice(w,1),u;u.splice(w,1),w--}else{if(_[1]<=C[0])return u.splice(w,0,_),u;if(_[1]<=C[1])return C[0]=Math.min(_[0],C[0]),u;_[0]<C[1]&&(C[0]=Math.min(_[0],C[0]),b=!0)}}return b?u[u.length-1][1]=_[1]:u.push(_),u}};r.CharacterJoinerService=h=l([f(0,S.IBufferService)],h)},5114:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CoreBrowserService=void 0;const l=o(844),f=o(8460),a=o(3656);class g extends l.Disposable{constructor(m,h,c){super(),this._textarea=m,this._window=h,this.mainDocument=c,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new v(this._window),this._onDprChange=this.register(new f.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new f.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange((u=>this._screenDprMonitor.setWindow(u)))),this.register((0,f.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",(()=>this._isFocused=!0)),this._textarea.addEventListener("blur",(()=>this._isFocused=!1))}get window(){return this._window}set window(m){this._window!==m&&(this._window=m,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask((()=>this._cachedIsFocused=void 0))),this._cachedIsFocused}}r.CoreBrowserService=g;class v extends l.Disposable{constructor(m){super(),this._parentWindow=m,this._windowResizeListener=this.register(new l.MutableDisposable),this._onDprChange=this.register(new f.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,l.toDisposable)((()=>this.clearListener())))}setWindow(m){this._parentWindow=m,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,a.addDisposableDomListener)(this._parentWindow,"resize",(()=>this._setDprAndFireIfDiffers()))}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){this._outerListener&&(this._resolutionMediaMatchList?.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.LinkProviderService=void 0;const l=o(844);class f extends l.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,l.toDisposable)((()=>this.linkProviders.length=0)))}registerLinkProvider(g){return this.linkProviders.push(g),{dispose:()=>{const v=this.linkProviders.indexOf(g);v!==-1&&this.linkProviders.splice(v,1)}}}}r.LinkProviderService=f},8934:function(p,r,o){var l=this&&this.__decorate||function(S,m,h,c){var u,_=arguments.length,b=_<3?m:c===null?c=Object.getOwnPropertyDescriptor(m,h):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(S,m,h,c);else for(var w=S.length-1;w>=0;w--)(u=S[w])&&(b=(_<3?u(b):_>3?u(m,h,b):u(m,h))||b);return _>3&&b&&Object.defineProperty(m,h,b),b},f=this&&this.__param||function(S,m){return function(h,c){m(h,c,S)}};Object.defineProperty(r,"__esModule",{value:!0}),r.MouseService=void 0;const a=o(4725),g=o(9806);let v=r.MouseService=class{constructor(S,m){this._renderService=S,this._charSizeService=m}getCoords(S,m,h,c,u){return(0,g.getCoords)(window,S,m,h,c,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,u)}getMouseReportCoords(S,m){const h=(0,g.getCoordsRelativeToElement)(window,S,m);if(this._charSizeService.hasValidSize)return h[0]=Math.min(Math.max(h[0],0),this._renderService.dimensions.css.canvas.width-1),h[1]=Math.min(Math.max(h[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(h[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(h[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(h[0]),y:Math.floor(h[1])}}};r.MouseService=v=l([f(0,a.IRenderService),f(1,a.ICharSizeService)],v)},3230:function(p,r,o){var l=this&&this.__decorate||function(u,_,b,w){var C,x=arguments.length,y=x<3?_:w===null?w=Object.getOwnPropertyDescriptor(_,b):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(u,_,b,w);else for(var k=u.length-1;k>=0;k--)(C=u[k])&&(y=(x<3?C(y):x>3?C(_,b,y):C(_,b))||y);return x>3&&y&&Object.defineProperty(_,b,y),y},f=this&&this.__param||function(u,_){return function(b,w){_(b,w,u)}};Object.defineProperty(r,"__esModule",{value:!0}),r.RenderService=void 0;const a=o(6193),g=o(4725),v=o(8460),S=o(844),m=o(7226),h=o(2585);let c=r.RenderService=class extends S.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(u,_,b,w,C,x,y,k){super(),this._rowCount=u,this._charSizeService=w,this._renderer=this.register(new S.MutableDisposable),this._pausedResizeTask=new m.DebouncedIdleTask,this._observerDisposable=this.register(new S.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new v.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new v.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new v.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new v.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new a.RenderDebouncer(((O,M)=>this._renderRows(O,M)),y),this.register(this._renderDebouncer),this.register(y.onDprChange((()=>this.handleDevicePixelRatioChange()))),this.register(x.onResize((()=>this._fullRefresh()))),this.register(x.buffers.onBufferActivate((()=>this._renderer.value?.clear()))),this.register(b.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._charSizeService.onCharSizeChange((()=>this.handleCharSizeChanged()))),this.register(C.onDecorationRegistered((()=>this._fullRefresh()))),this.register(C.onDecorationRemoved((()=>this._fullRefresh()))),this.register(b.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],(()=>{this.clear(),this.handleResize(x.cols,x.rows),this._fullRefresh()}))),this.register(b.onMultipleOptionChange(["cursorBlink","cursorStyle"],(()=>this.refreshRows(x.buffer.y,x.buffer.y,!0)))),this.register(k.onChangeColors((()=>this._fullRefresh()))),this._registerIntersectionObserver(y.window,_),this.register(y.onWindowChange((O=>this._registerIntersectionObserver(O,_))))}_registerIntersectionObserver(u,_){if("IntersectionObserver"in u){const b=new u.IntersectionObserver((w=>this._handleIntersectionChange(w[w.length-1])),{threshold:0});b.observe(_),this._observerDisposable.value=(0,S.toDisposable)((()=>b.disconnect()))}}_handleIntersectionChange(u){this._isPaused=u.isIntersecting===void 0?u.intersectionRatio===0:!u.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(u,_,b=!1){this._isPaused?this._needsFullRefresh=!0:(b||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(u,_,this._rowCount))}_renderRows(u,_){this._renderer.value&&(u=Math.min(u,this._rowCount-1),_=Math.min(_,this._rowCount-1),this._renderer.value.renderRows(u,_),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:u,end:_}),this._onRender.fire({start:u,end:_}),this._isNextRenderRedrawOnly=!0)}resize(u,_){this._rowCount=_,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(u){this._renderer.value=u,this._renderer.value&&(this._renderer.value.onRequestRedraw((_=>this.refreshRows(_.start,_.end,!0))),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(u){return this._renderDebouncer.addRefreshCallback(u)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){this._renderer.value&&(this._renderer.value.clearTextureAtlas?.(),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(u,_){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set((()=>this._renderer.value?.handleResize(u,_))):this._renderer.value.handleResize(u,_),this._fullRefresh())}handleCharSizeChanged(){this._renderer.value?.handleCharSizeChanged()}handleBlur(){this._renderer.value?.handleBlur()}handleFocus(){this._renderer.value?.handleFocus()}handleSelectionChanged(u,_,b){this._selectionState.start=u,this._selectionState.end=_,this._selectionState.columnSelectMode=b,this._renderer.value?.handleSelectionChanged(u,_,b)}handleCursorMove(){this._renderer.value?.handleCursorMove()}clear(){this._renderer.value?.clear()}};r.RenderService=c=l([f(2,h.IOptionsService),f(3,g.ICharSizeService),f(4,h.IDecorationService),f(5,h.IBufferService),f(6,g.ICoreBrowserService),f(7,g.IThemeService)],c)},9312:function(p,r,o){var l=this&&this.__decorate||function(y,k,O,M){var B,L=arguments.length,V=L<3?k:M===null?M=Object.getOwnPropertyDescriptor(k,O):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(y,k,O,M);else for(var Z=y.length-1;Z>=0;Z--)(B=y[Z])&&(V=(L<3?B(V):L>3?B(k,O,V):B(k,O))||V);return L>3&&V&&Object.defineProperty(k,O,V),V},f=this&&this.__param||function(y,k){return function(O,M){k(O,M,y)}};Object.defineProperty(r,"__esModule",{value:!0}),r.SelectionService=void 0;const a=o(9806),g=o(9504),v=o(456),S=o(4725),m=o(8460),h=o(844),c=o(6114),u=o(4841),_=o(511),b=o(2585),w="",C=new RegExp(w,"g");let x=r.SelectionService=class extends h.Disposable{constructor(y,k,O,M,B,L,V,Z,J){super(),this._element=y,this._screenElement=k,this._linkifier=O,this._bufferService=M,this._coreService=B,this._mouseService=L,this._optionsService=V,this._renderService=Z,this._coreBrowserService=J,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new _.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new m.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new m.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new m.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new m.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=Y=>this._handleMouseMove(Y),this._mouseUpListener=Y=>this._handleMouseUp(Y),this._coreService.onUserInput((()=>{this.hasSelection&&this.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((Y=>this._handleTrim(Y))),this.register(this._bufferService.buffers.onBufferActivate((Y=>this._handleBufferActivate(Y)))),this.enable(),this._model=new v.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,h.toDisposable)((()=>{this._removeMouseDownListeners()})))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const y=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;return!(!y||!k||y[0]===k[0]&&y[1]===k[1])}get selectionText(){const y=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;if(!y||!k)return"";const O=this._bufferService.buffer,M=[];if(this._activeSelectionMode===3){if(y[0]===k[0])return"";const B=y[0]<k[0]?y[0]:k[0],L=y[0]<k[0]?k[0]:y[0];for(let V=y[1];V<=k[1];V++){const Z=O.translateBufferLineToString(V,!0,B,L);M.push(Z)}}else{const B=y[1]===k[1]?k[0]:void 0;M.push(O.translateBufferLineToString(y[1],!0,y[0],B));for(let L=y[1]+1;L<=k[1]-1;L++){const V=O.lines.get(L),Z=O.translateBufferLineToString(L,!0);V?.isWrapped?M[M.length-1]+=Z:M.push(Z)}if(y[1]!==k[1]){const L=O.lines.get(k[1]),V=O.translateBufferLineToString(k[1],!0,0,k[0]);L&&L.isWrapped?M[M.length-1]+=V:M.push(V)}}return M.map((B=>B.replace(C," "))).join(c.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(y){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._refresh()))),c.isLinux&&y&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(y){const k=this._getMouseBufferCoords(y),O=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;return!!(O&&M&&k)&&this._areCoordsInSelection(k,O,M)}isCellInSelection(y,k){const O=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;return!(!O||!M)&&this._areCoordsInSelection([y,k],O,M)}_areCoordsInSelection(y,k,O){return y[1]>k[1]&&y[1]<O[1]||k[1]===O[1]&&y[1]===k[1]&&y[0]>=k[0]&&y[0]<O[0]||k[1]<O[1]&&y[1]===O[1]&&y[0]<O[0]||k[1]<O[1]&&y[1]===k[1]&&y[0]>=k[0]}_selectWordAtCursor(y,k){const O=this._linkifier.currentLink?.link?.range;if(O)return this._model.selectionStart=[O.start.x-1,O.start.y-1],this._model.selectionStartLength=(0,u.getRangeLength)(O,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const M=this._getMouseBufferCoords(y);return!!M&&(this._selectWordAt(M,k),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(y,k){this._model.clearSelection(),y=Math.max(y,0),k=Math.min(k,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,y],this._model.selectionEnd=[this._bufferService.cols,k],this.refresh(),this._onSelectionChange.fire()}_handleTrim(y){this._model.handleTrim(y)&&this.refresh()}_getMouseBufferCoords(y){const k=this._mouseService.getCoords(y,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(k)return k[0]--,k[1]--,k[1]+=this._bufferService.buffer.ydisp,k}_getMouseEventScrollAmount(y){let k=(0,a.getCoordsRelativeToElement)(this._coreBrowserService.window,y,this._screenElement)[1];const O=this._renderService.dimensions.css.canvas.height;return k>=0&&k<=O?0:(k>O&&(k-=O),k=Math.min(Math.max(k,-50),50),k/=50,k/Math.abs(k)+Math.round(14*k))}shouldForceSelection(y){return c.isMac?y.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:y.shiftKey}handleMouseDown(y){if(this._mouseDownTimeStamp=y.timeStamp,(y.button!==2||!this.hasSelection)&&y.button===0){if(!this._enabled){if(!this.shouldForceSelection(y))return;y.stopPropagation()}y.preventDefault(),this._dragScrollAmount=0,this._enabled&&y.shiftKey?this._handleIncrementalClick(y):y.detail===1?this._handleSingleClick(y):y.detail===2?this._handleDoubleClick(y):y.detail===3&&this._handleTripleClick(y),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval((()=>this._dragScroll()),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(y){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(y))}_handleSingleClick(y){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(y)?3:0,this._model.selectionStart=this._getMouseBufferCoords(y),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const k=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);k&&k.length!==this._model.selectionStart[0]&&k.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(y){this._selectWordAtCursor(y,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(y){const k=this._getMouseBufferCoords(y);k&&(this._activeSelectionMode=2,this._selectLineAt(k[1]))}shouldColumnSelect(y){return y.altKey&&!(c.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(y){if(y.stopImmediatePropagation(),!this._model.selectionStart)return;const k=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(y),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(y),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const O=this._bufferService.buffer;if(this._model.selectionEnd[1]<O.lines.length){const M=O.lines.get(this._model.selectionEnd[1]);M&&M.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}k&&k[0]===this._model.selectionEnd[0]&&k[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const y=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(y.ydisp+this._bufferService.rows,y.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=y.ydisp),this.refresh()}}_handleMouseUp(y){const k=y.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&k<500&&y.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const O=this._mouseService.getCoords(y,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(O&&O[0]!==void 0&&O[1]!==void 0){const M=(0,g.moveToCellSequence)(O[0]-1,O[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(M,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const y=this._model.finalSelectionStart,k=this._model.finalSelectionEnd,O=!(!y||!k||y[0]===k[0]&&y[1]===k[1]);O?y&&k&&(this._oldSelectionStart&&this._oldSelectionEnd&&y[0]===this._oldSelectionStart[0]&&y[1]===this._oldSelectionStart[1]&&k[0]===this._oldSelectionEnd[0]&&k[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(y,k,O)):this._oldHasSelection&&this._fireOnSelectionChange(y,k,O)}_fireOnSelectionChange(y,k,O){this._oldSelectionStart=y,this._oldSelectionEnd=k,this._oldHasSelection=O,this._onSelectionChange.fire()}_handleBufferActivate(y){this.clearSelection(),this._trimListener.dispose(),this._trimListener=y.activeBuffer.lines.onTrim((k=>this._handleTrim(k)))}_convertViewportColToCharacterIndex(y,k){let O=k;for(let M=0;k>=M;M++){const B=y.loadCell(M,this._workCell).getChars().length;this._workCell.getWidth()===0?O--:B>1&&k!==M&&(O+=B-1)}return O}setSelection(y,k,O){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[y,k],this._model.selectionStartLength=O,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(y){this._isClickInSelection(y)||(this._selectWordAtCursor(y,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(y,k,O=!0,M=!0){if(y[0]>=this._bufferService.cols)return;const B=this._bufferService.buffer,L=B.lines.get(y[1]);if(!L)return;const V=B.translateBufferLineToString(y[1],!1);let Z=this._convertViewportColToCharacterIndex(L,y[0]),J=Z;const Y=y[0]-Z;let X=0,R=0,P=0,H=0;if(V.charAt(Z)===" "){for(;Z>0&&V.charAt(Z-1)===" ";)Z--;for(;J<V.length&&V.charAt(J+1)===" ";)J++}else{let re=y[0],de=y[0];L.getWidth(re)===0&&(X++,re--),L.getWidth(de)===2&&(R++,de++);const fe=L.getString(de).length;for(fe>1&&(H+=fe-1,J+=fe-1);re>0&&Z>0&&!this._isCharWordSeparator(L.loadCell(re-1,this._workCell));){L.loadCell(re-1,this._workCell);const T=this._workCell.getChars().length;this._workCell.getWidth()===0?(X++,re--):T>1&&(P+=T-1,Z-=T-1),Z--,re--}for(;de<L.length&&J+1<V.length&&!this._isCharWordSeparator(L.loadCell(de+1,this._workCell));){L.loadCell(de+1,this._workCell);const T=this._workCell.getChars().length;this._workCell.getWidth()===2?(R++,de++):T>1&&(H+=T-1,J+=T-1),J++,de++}}J++;let $=Z+Y-X+P,Q=Math.min(this._bufferService.cols,J-Z+X+R-P-H);if(k||V.slice(Z,J).trim()!==""){if(O&&$===0&&L.getCodePoint(0)!==32){const re=B.lines.get(y[1]-1);if(re&&L.isWrapped&&re.getCodePoint(this._bufferService.cols-1)!==32){const de=this._getWordAt([this._bufferService.cols-1,y[1]-1],!1,!0,!1);if(de){const fe=this._bufferService.cols-de.start;$-=fe,Q+=fe}}}if(M&&$+Q===this._bufferService.cols&&L.getCodePoint(this._bufferService.cols-1)!==32){const re=B.lines.get(y[1]+1);if(re?.isWrapped&&re.getCodePoint(0)!==32){const de=this._getWordAt([0,y[1]+1],!1,!1,!0);de&&(Q+=de.length)}}return{start:$,length:Q}}}_selectWordAt(y,k){const O=this._getWordAt(y,k);if(O){for(;O.start<0;)O.start+=this._bufferService.cols,y[1]--;this._model.selectionStart=[O.start,y[1]],this._model.selectionStartLength=O.length}}_selectToWordAt(y){const k=this._getWordAt(y,!0);if(k){let O=y[1];for(;k.start<0;)k.start+=this._bufferService.cols,O--;if(!this._model.areSelectionValuesReversed())for(;k.start+k.length>this._bufferService.cols;)k.length-=this._bufferService.cols,O++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?k.start:k.start+k.length,O]}}_isCharWordSeparator(y){return y.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(y.getChars())>=0}_selectLineAt(y){const k=this._bufferService.buffer.getWrappedRangeForLine(y),O={start:{x:0,y:k.first},end:{x:this._bufferService.cols-1,y:k.last}};this._model.selectionStart=[0,k.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,u.getRangeLength)(O,this._bufferService.cols)}};r.SelectionService=x=l([f(3,b.IBufferService),f(4,b.ICoreService),f(5,S.IMouseService),f(6,b.IOptionsService),f(7,S.IRenderService),f(8,S.ICoreBrowserService)],x)},4725:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ILinkProviderService=r.IThemeService=r.ICharacterJoinerService=r.ISelectionService=r.IRenderService=r.IMouseService=r.ICoreBrowserService=r.ICharSizeService=void 0;const l=o(8343);r.ICharSizeService=(0,l.createDecorator)("CharSizeService"),r.ICoreBrowserService=(0,l.createDecorator)("CoreBrowserService"),r.IMouseService=(0,l.createDecorator)("MouseService"),r.IRenderService=(0,l.createDecorator)("RenderService"),r.ISelectionService=(0,l.createDecorator)("SelectionService"),r.ICharacterJoinerService=(0,l.createDecorator)("CharacterJoinerService"),r.IThemeService=(0,l.createDecorator)("ThemeService"),r.ILinkProviderService=(0,l.createDecorator)("LinkProviderService")},6731:function(p,r,o){var l=this&&this.__decorate||function(x,y,k,O){var M,B=arguments.length,L=B<3?y:O===null?O=Object.getOwnPropertyDescriptor(y,k):O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(x,y,k,O);else for(var V=x.length-1;V>=0;V--)(M=x[V])&&(L=(B<3?M(L):B>3?M(y,k,L):M(y,k))||L);return B>3&&L&&Object.defineProperty(y,k,L),L},f=this&&this.__param||function(x,y){return function(k,O){y(k,O,x)}};Object.defineProperty(r,"__esModule",{value:!0}),r.ThemeService=r.DEFAULT_ANSI_COLORS=void 0;const a=o(7239),g=o(8055),v=o(8460),S=o(844),m=o(2585),h=g.css.toColor("#ffffff"),c=g.css.toColor("#000000"),u=g.css.toColor("#ffffff"),_=g.css.toColor("#000000"),b={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};r.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const x=[g.css.toColor("#2e3436"),g.css.toColor("#cc0000"),g.css.toColor("#4e9a06"),g.css.toColor("#c4a000"),g.css.toColor("#3465a4"),g.css.toColor("#75507b"),g.css.toColor("#06989a"),g.css.toColor("#d3d7cf"),g.css.toColor("#555753"),g.css.toColor("#ef2929"),g.css.toColor("#8ae234"),g.css.toColor("#fce94f"),g.css.toColor("#729fcf"),g.css.toColor("#ad7fa8"),g.css.toColor("#34e2e2"),g.css.toColor("#eeeeec")],y=[0,95,135,175,215,255];for(let k=0;k<216;k++){const O=y[k/36%6|0],M=y[k/6%6|0],B=y[k%6];x.push({css:g.channels.toCss(O,M,B),rgba:g.channels.toRgba(O,M,B)})}for(let k=0;k<24;k++){const O=8+10*k;x.push({css:g.channels.toCss(O,O,O),rgba:g.channels.toRgba(O,O,O)})}return x})());let w=r.ThemeService=class extends S.Disposable{get colors(){return this._colors}constructor(x){super(),this._optionsService=x,this._contrastCache=new a.ColorContrastCache,this._halfContrastCache=new a.ColorContrastCache,this._onChangeColors=this.register(new v.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:h,background:c,cursor:u,cursorAccent:_,selectionForeground:void 0,selectionBackgroundTransparent:b,selectionBackgroundOpaque:g.color.blend(c,b),selectionInactiveBackgroundTransparent:b,selectionInactiveBackgroundOpaque:g.color.blend(c,b),ansi:r.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",(()=>this._contrastCache.clear()))),this.register(this._optionsService.onSpecificOptionChange("theme",(()=>this._setTheme(this._optionsService.rawOptions.theme))))}_setTheme(x={}){const y=this._colors;if(y.foreground=C(x.foreground,h),y.background=C(x.background,c),y.cursor=C(x.cursor,u),y.cursorAccent=C(x.cursorAccent,_),y.selectionBackgroundTransparent=C(x.selectionBackground,b),y.selectionBackgroundOpaque=g.color.blend(y.background,y.selectionBackgroundTransparent),y.selectionInactiveBackgroundTransparent=C(x.selectionInactiveBackground,y.selectionBackgroundTransparent),y.selectionInactiveBackgroundOpaque=g.color.blend(y.background,y.selectionInactiveBackgroundTransparent),y.selectionForeground=x.selectionForeground?C(x.selectionForeground,g.NULL_COLOR):void 0,y.selectionForeground===g.NULL_COLOR&&(y.selectionForeground=void 0),g.color.isOpaque(y.selectionBackgroundTransparent)&&(y.selectionBackgroundTransparent=g.color.opacity(y.selectionBackgroundTransparent,.3)),g.color.isOpaque(y.selectionInactiveBackgroundTransparent)&&(y.selectionInactiveBackgroundTransparent=g.color.opacity(y.selectionInactiveBackgroundTransparent,.3)),y.ansi=r.DEFAULT_ANSI_COLORS.slice(),y.ansi[0]=C(x.black,r.DEFAULT_ANSI_COLORS[0]),y.ansi[1]=C(x.red,r.DEFAULT_ANSI_COLORS[1]),y.ansi[2]=C(x.green,r.DEFAULT_ANSI_COLORS[2]),y.ansi[3]=C(x.yellow,r.DEFAULT_ANSI_COLORS[3]),y.ansi[4]=C(x.blue,r.DEFAULT_ANSI_COLORS[4]),y.ansi[5]=C(x.magenta,r.DEFAULT_ANSI_COLORS[5]),y.ansi[6]=C(x.cyan,r.DEFAULT_ANSI_COLORS[6]),y.ansi[7]=C(x.white,r.DEFAULT_ANSI_COLORS[7]),y.ansi[8]=C(x.brightBlack,r.DEFAULT_ANSI_COLORS[8]),y.ansi[9]=C(x.brightRed,r.DEFAULT_ANSI_COLORS[9]),y.ansi[10]=C(x.brightGreen,r.DEFAULT_ANSI_COLORS[10]),y.ansi[11]=C(x.brightYellow,r.DEFAULT_ANSI_COLORS[11]),y.ansi[12]=C(x.brightBlue,r.DEFAULT_ANSI_COLORS[12]),y.ansi[13]=C(x.brightMagenta,r.DEFAULT_ANSI_COLORS[13]),y.ansi[14]=C(x.brightCyan,r.DEFAULT_ANSI_COLORS[14]),y.ansi[15]=C(x.brightWhite,r.DEFAULT_ANSI_COLORS[15]),x.extendedAnsi){const k=Math.min(y.ansi.length-16,x.extendedAnsi.length);for(let O=0;O<k;O++)y.ansi[O+16]=C(x.extendedAnsi[O],r.DEFAULT_ANSI_COLORS[O+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(x){this._restoreColor(x),this._onChangeColors.fire(this.colors)}_restoreColor(x){if(x!==void 0)switch(x){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[x]=this._restoreColors.ansi[x]}else for(let y=0;y<this._restoreColors.ansi.length;++y)this._colors.ansi[y]=this._restoreColors.ansi[y]}modifyColors(x){x(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function C(x,y){if(x!==void 0)try{return g.css.toColor(x)}catch{}return y}r.ThemeService=w=l([f(0,m.IOptionsService)],w)},6349:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CircularList=void 0;const l=o(8460),f=o(844);class a extends f.Disposable{constructor(v){super(),this._maxLength=v,this.onDeleteEmitter=this.register(new l.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new l.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new l.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(v){if(this._maxLength===v)return;const S=new Array(v);for(let m=0;m<Math.min(v,this.length);m++)S[m]=this._array[this._getCyclicIndex(m)];this._array=S,this._maxLength=v,this._startIndex=0}get length(){return this._length}set length(v){if(v>this._length)for(let S=this._length;S<v;S++)this._array[S]=void 0;this._length=v}get(v){return this._array[this._getCyclicIndex(v)]}set(v,S){this._array[this._getCyclicIndex(v)]=S}push(v){this._array[this._getCyclicIndex(this._length)]=v,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(v,S,...m){if(S){for(let h=v;h<this._length-S;h++)this._array[this._getCyclicIndex(h)]=this._array[this._getCyclicIndex(h+S)];this._length-=S,this.onDeleteEmitter.fire({index:v,amount:S})}for(let h=this._length-1;h>=v;h--)this._array[this._getCyclicIndex(h+m.length)]=this._array[this._getCyclicIndex(h)];for(let h=0;h<m.length;h++)this._array[this._getCyclicIndex(v+h)]=m[h];if(m.length&&this.onInsertEmitter.fire({index:v,amount:m.length}),this._length+m.length>this._maxLength){const h=this._length+m.length-this._maxLength;this._startIndex+=h,this._length=this._maxLength,this.onTrimEmitter.fire(h)}else this._length+=m.length}trimStart(v){v>this._length&&(v=this._length),this._startIndex+=v,this._length-=v,this.onTrimEmitter.fire(v)}shiftElements(v,S,m){if(!(S<=0)){if(v<0||v>=this._length)throw new Error("start argument out of range");if(v+m<0)throw new Error("Cannot shift elements in list beyond index 0");if(m>0){for(let c=S-1;c>=0;c--)this.set(v+c+m,this.get(v+c));const h=v+S+m-this._length;if(h>0)for(this._length+=h;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let h=0;h<S;h++)this.set(v+h+m,this.get(v+h))}}_getCyclicIndex(v){return(this._startIndex+v)%this._maxLength}}r.CircularList=a},1439:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.clone=void 0,r.clone=function o(l,f=5){if(typeof l!="object")return l;const a=Array.isArray(l)?[]:{};for(const g in l)a[g]=f<=1?l[g]:l[g]&&o(l[g],f-1);return a}},8055:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.contrastRatio=r.toPaddedHex=r.rgba=r.rgb=r.css=r.color=r.channels=r.NULL_COLOR=void 0;let o=0,l=0,f=0,a=0;var g,v,S,m,h;function c(_){const b=_.toString(16);return b.length<2?"0"+b:b}function u(_,b){return _<b?(b+.05)/(_+.05):(_+.05)/(b+.05)}r.NULL_COLOR={css:"#00000000",rgba:0},(function(_){_.toCss=function(b,w,C,x){return x!==void 0?`#${c(b)}${c(w)}${c(C)}${c(x)}`:`#${c(b)}${c(w)}${c(C)}`},_.toRgba=function(b,w,C,x=255){return(b<<24|w<<16|C<<8|x)>>>0},_.toColor=function(b,w,C,x){return{css:_.toCss(b,w,C,x),rgba:_.toRgba(b,w,C,x)}}})(g||(r.channels=g={})),(function(_){function b(w,C){return a=Math.round(255*C),[o,l,f]=h.toChannels(w.rgba),{css:g.toCss(o,l,f,a),rgba:g.toRgba(o,l,f,a)}}_.blend=function(w,C){if(a=(255&C.rgba)/255,a===1)return{css:C.css,rgba:C.rgba};const x=C.rgba>>24&255,y=C.rgba>>16&255,k=C.rgba>>8&255,O=w.rgba>>24&255,M=w.rgba>>16&255,B=w.rgba>>8&255;return o=O+Math.round((x-O)*a),l=M+Math.round((y-M)*a),f=B+Math.round((k-B)*a),{css:g.toCss(o,l,f),rgba:g.toRgba(o,l,f)}},_.isOpaque=function(w){return(255&w.rgba)==255},_.ensureContrastRatio=function(w,C,x){const y=h.ensureContrastRatio(w.rgba,C.rgba,x);if(y)return g.toColor(y>>24&255,y>>16&255,y>>8&255)},_.opaque=function(w){const C=(255|w.rgba)>>>0;return[o,l,f]=h.toChannels(C),{css:g.toCss(o,l,f),rgba:C}},_.opacity=b,_.multiplyOpacity=function(w,C){return a=255&w.rgba,b(w,a*C/255)},_.toColorRGB=function(w){return[w.rgba>>24&255,w.rgba>>16&255,w.rgba>>8&255]}})(v||(r.color=v={})),(function(_){let b,w;try{const C=document.createElement("canvas");C.width=1,C.height=1;const x=C.getContext("2d",{willReadFrequently:!0});x&&(b=x,b.globalCompositeOperation="copy",w=b.createLinearGradient(0,0,1,1))}catch{}_.toColor=function(C){if(C.match(/#[\da-f]{3,8}/i))switch(C.length){case 4:return o=parseInt(C.slice(1,2).repeat(2),16),l=parseInt(C.slice(2,3).repeat(2),16),f=parseInt(C.slice(3,4).repeat(2),16),g.toColor(o,l,f);case 5:return o=parseInt(C.slice(1,2).repeat(2),16),l=parseInt(C.slice(2,3).repeat(2),16),f=parseInt(C.slice(3,4).repeat(2),16),a=parseInt(C.slice(4,5).repeat(2),16),g.toColor(o,l,f,a);case 7:return{css:C,rgba:(parseInt(C.slice(1),16)<<8|255)>>>0};case 9:return{css:C,rgba:parseInt(C.slice(1),16)>>>0}}const x=C.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(x)return o=parseInt(x[1]),l=parseInt(x[2]),f=parseInt(x[3]),a=Math.round(255*(x[5]===void 0?1:parseFloat(x[5]))),g.toColor(o,l,f,a);if(!b||!w)throw new Error("css.toColor: Unsupported css format");if(b.fillStyle=w,b.fillStyle=C,typeof b.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(b.fillRect(0,0,1,1),[o,l,f,a]=b.getImageData(0,0,1,1).data,a!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:g.toRgba(o,l,f,a),css:C}}})(S||(r.css=S={})),(function(_){function b(w,C,x){const y=w/255,k=C/255,O=x/255;return .2126*(y<=.03928?y/12.92:Math.pow((y+.055)/1.055,2.4))+.7152*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))+.0722*(O<=.03928?O/12.92:Math.pow((O+.055)/1.055,2.4))}_.relativeLuminance=function(w){return b(w>>16&255,w>>8&255,255&w)},_.relativeLuminance2=b})(m||(r.rgb=m={})),(function(_){function b(C,x,y){const k=C>>24&255,O=C>>16&255,M=C>>8&255;let B=x>>24&255,L=x>>16&255,V=x>>8&255,Z=u(m.relativeLuminance2(B,L,V),m.relativeLuminance2(k,O,M));for(;Z<y&&(B>0||L>0||V>0);)B-=Math.max(0,Math.ceil(.1*B)),L-=Math.max(0,Math.ceil(.1*L)),V-=Math.max(0,Math.ceil(.1*V)),Z=u(m.relativeLuminance2(B,L,V),m.relativeLuminance2(k,O,M));return(B<<24|L<<16|V<<8|255)>>>0}function w(C,x,y){const k=C>>24&255,O=C>>16&255,M=C>>8&255;let B=x>>24&255,L=x>>16&255,V=x>>8&255,Z=u(m.relativeLuminance2(B,L,V),m.relativeLuminance2(k,O,M));for(;Z<y&&(B<255||L<255||V<255);)B=Math.min(255,B+Math.ceil(.1*(255-B))),L=Math.min(255,L+Math.ceil(.1*(255-L))),V=Math.min(255,V+Math.ceil(.1*(255-V))),Z=u(m.relativeLuminance2(B,L,V),m.relativeLuminance2(k,O,M));return(B<<24|L<<16|V<<8|255)>>>0}_.blend=function(C,x){if(a=(255&x)/255,a===1)return x;const y=x>>24&255,k=x>>16&255,O=x>>8&255,M=C>>24&255,B=C>>16&255,L=C>>8&255;return o=M+Math.round((y-M)*a),l=B+Math.round((k-B)*a),f=L+Math.round((O-L)*a),g.toRgba(o,l,f)},_.ensureContrastRatio=function(C,x,y){const k=m.relativeLuminance(C>>8),O=m.relativeLuminance(x>>8);if(u(k,O)<y){if(O<k){const L=b(C,x,y),V=u(k,m.relativeLuminance(L>>8));if(V<y){const Z=w(C,x,y);return V>u(k,m.relativeLuminance(Z>>8))?L:Z}return L}const M=w(C,x,y),B=u(k,m.relativeLuminance(M>>8));if(B<y){const L=b(C,x,y);return B>u(k,m.relativeLuminance(L>>8))?M:L}return M}},_.reduceLuminance=b,_.increaseLuminance=w,_.toChannels=function(C){return[C>>24&255,C>>16&255,C>>8&255,255&C]}})(h||(r.rgba=h={})),r.toPaddedHex=c,r.contrastRatio=u},8969:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CoreTerminal=void 0;const l=o(844),f=o(2585),a=o(4348),g=o(7866),v=o(744),S=o(7302),m=o(6975),h=o(8460),c=o(1753),u=o(1480),_=o(7994),b=o(9282),w=o(5435),C=o(5981),x=o(2660);let y=!1;class k extends l.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new h.EventEmitter),this._onScroll.event((M=>{this._onScrollApi?.fire(M.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(M){for(const B in M)this.optionsService.options[B]=M[B]}constructor(M){super(),this._windowsWrappingHeuristics=this.register(new l.MutableDisposable),this._onBinary=this.register(new h.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new h.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new h.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new h.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new h.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new h.EventEmitter),this._instantiationService=new a.InstantiationService,this.optionsService=this.register(new S.OptionsService(M)),this._instantiationService.setService(f.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(v.BufferService)),this._instantiationService.setService(f.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(g.LogService)),this._instantiationService.setService(f.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(m.CoreService)),this._instantiationService.setService(f.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(c.CoreMouseService)),this._instantiationService.setService(f.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(u.UnicodeService)),this._instantiationService.setService(f.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(_.CharsetService),this._instantiationService.setService(f.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(x.OscLinkService),this._instantiationService.setService(f.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new w.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,h.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,h.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,h.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,h.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom((()=>this.scrollToBottom()))),this.register(this.coreService.onUserInput((()=>this._writeBuffer.handleUserInput()))),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],(()=>this._handleWindowsPtyOptionChange()))),this.register(this._bufferService.onScroll((B=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this.register(this._inputHandler.onScroll((B=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this._writeBuffer=this.register(new C.WriteBuffer(((B,L)=>this._inputHandler.parse(B,L)))),this.register((0,h.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(M,B){this._writeBuffer.write(M,B)}writeSync(M,B){this._logService.logLevel<=f.LogLevelEnum.WARN&&!y&&(this._logService.warn("writeSync is unreliable and will be removed soon."),y=!0),this._writeBuffer.writeSync(M,B)}input(M,B=!0){this.coreService.triggerDataEvent(M,B)}resize(M,B){isNaN(M)||isNaN(B)||(M=Math.max(M,v.MINIMUM_COLS),B=Math.max(B,v.MINIMUM_ROWS),this._bufferService.resize(M,B))}scroll(M,B=!1){this._bufferService.scroll(M,B)}scrollLines(M,B,L){this._bufferService.scrollLines(M,B,L)}scrollPages(M){this.scrollLines(M*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(M){const B=M-this._bufferService.buffer.ydisp;B!==0&&this.scrollLines(B)}registerEscHandler(M,B){return this._inputHandler.registerEscHandler(M,B)}registerDcsHandler(M,B){return this._inputHandler.registerDcsHandler(M,B)}registerCsiHandler(M,B){return this._inputHandler.registerCsiHandler(M,B)}registerOscHandler(M,B){return this._inputHandler.registerOscHandler(M,B)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let M=!1;const B=this.optionsService.rawOptions.windowsPty;B&&B.buildNumber!==void 0&&B.buildNumber!==void 0?M=B.backend==="conpty"&&B.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(M=!0),M?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const M=[];M.push(this.onLineFeed(b.updateWindowsModeWrappedState.bind(null,this._bufferService))),M.push(this.registerCsiHandler({final:"H"},(()=>((0,b.updateWindowsModeWrappedState)(this._bufferService),!1)))),this._windowsWrappingHeuristics.value=(0,l.toDisposable)((()=>{for(const B of M)B.dispose()}))}}}r.CoreTerminal=k},8460:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.runAndSubscribe=r.forwardEvent=r.EventEmitter=void 0,r.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=o=>(this._listeners.push(o),{dispose:()=>{if(!this._disposed){for(let l=0;l<this._listeners.length;l++)if(this._listeners[l]===o)return void this._listeners.splice(l,1)}}})),this._event}fire(o,l){const f=[];for(let a=0;a<this._listeners.length;a++)f.push(this._listeners[a]);for(let a=0;a<f.length;a++)f[a].call(void 0,o,l)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},r.forwardEvent=function(o,l){return o((f=>l.fire(f)))},r.runAndSubscribe=function(o,l){return l(void 0),o((f=>l(f)))}},5435:function(p,r,o){var l=this&&this.__decorate||function(X,R,P,H){var $,Q=arguments.length,re=Q<3?R:H===null?H=Object.getOwnPropertyDescriptor(R,P):H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(X,R,P,H);else for(var de=X.length-1;de>=0;de--)($=X[de])&&(re=(Q<3?$(re):Q>3?$(R,P,re):$(R,P))||re);return Q>3&&re&&Object.defineProperty(R,P,re),re},f=this&&this.__param||function(X,R){return function(P,H){R(P,H,X)}};Object.defineProperty(r,"__esModule",{value:!0}),r.InputHandler=r.WindowsOptionsReportType=void 0;const a=o(2584),g=o(7116),v=o(2015),S=o(844),m=o(482),h=o(8437),c=o(8460),u=o(643),_=o(511),b=o(3734),w=o(2585),C=o(1480),x=o(6242),y=o(6351),k=o(5941),O={"(":0,")":1,"*":2,"+":3,"-":1,".":2},M=131072;function B(X,R){if(X>24)return R.setWinLines||!1;switch(X){case 1:return!!R.restoreWin;case 2:return!!R.minimizeWin;case 3:return!!R.setWinPosition;case 4:return!!R.setWinSizePixels;case 5:return!!R.raiseWin;case 6:return!!R.lowerWin;case 7:return!!R.refreshWin;case 8:return!!R.setWinSizeChars;case 9:return!!R.maximizeWin;case 10:return!!R.fullscreenWin;case 11:return!!R.getWinState;case 13:return!!R.getWinPosition;case 14:return!!R.getWinSizePixels;case 15:return!!R.getScreenSizePixels;case 16:return!!R.getCellSizePixels;case 18:return!!R.getWinSizeChars;case 19:return!!R.getScreenSizeChars;case 20:return!!R.getIconTitle;case 21:return!!R.getWinTitle;case 22:return!!R.pushTitle;case 23:return!!R.popTitle;case 24:return!!R.setWinLines}return!1}var L;(function(X){X[X.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",X[X.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(L||(r.WindowsOptionsReportType=L={}));let V=0;class Z extends S.Disposable{getAttrData(){return this._curAttrData}constructor(R,P,H,$,Q,re,de,fe,T=new v.EscapeSequenceParser){super(),this._bufferService=R,this._charsetService=P,this._coreService=H,this._logService=$,this._optionsService=Q,this._oscLinkService=re,this._coreMouseService=de,this._unicodeService=fe,this._parser=T,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new m.StringToUtf32,this._utf8Decoder=new m.Utf8ToUtf32,this._workCell=new _.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=h.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new c.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new c.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new c.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new c.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new c.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new c.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new c.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new c.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new c.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new c.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new c.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new c.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new c.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new J(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((A=>this._activeBuffer=A.activeBuffer))),this._parser.setCsiHandlerFallback(((A,U)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(A),params:U.toArray()})})),this._parser.setEscHandlerFallback((A=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(A)})})),this._parser.setExecuteHandlerFallback((A=>{this._logService.debug("Unknown EXECUTE code: ",{code:A})})),this._parser.setOscHandlerFallback(((A,U,K)=>{this._logService.debug("Unknown OSC code: ",{identifier:A,action:U,data:K})})),this._parser.setDcsHandlerFallback(((A,U,K)=>{U==="HOOK"&&(K=K.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(A),action:U,payload:K})})),this._parser.setPrintHandler(((A,U,K)=>this.print(A,U,K))),this._parser.registerCsiHandler({final:"@"},(A=>this.insertChars(A))),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(A=>this.scrollLeft(A))),this._parser.registerCsiHandler({final:"A"},(A=>this.cursorUp(A))),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(A=>this.scrollRight(A))),this._parser.registerCsiHandler({final:"B"},(A=>this.cursorDown(A))),this._parser.registerCsiHandler({final:"C"},(A=>this.cursorForward(A))),this._parser.registerCsiHandler({final:"D"},(A=>this.cursorBackward(A))),this._parser.registerCsiHandler({final:"E"},(A=>this.cursorNextLine(A))),this._parser.registerCsiHandler({final:"F"},(A=>this.cursorPrecedingLine(A))),this._parser.registerCsiHandler({final:"G"},(A=>this.cursorCharAbsolute(A))),this._parser.registerCsiHandler({final:"H"},(A=>this.cursorPosition(A))),this._parser.registerCsiHandler({final:"I"},(A=>this.cursorForwardTab(A))),this._parser.registerCsiHandler({final:"J"},(A=>this.eraseInDisplay(A,!1))),this._parser.registerCsiHandler({prefix:"?",final:"J"},(A=>this.eraseInDisplay(A,!0))),this._parser.registerCsiHandler({final:"K"},(A=>this.eraseInLine(A,!1))),this._parser.registerCsiHandler({prefix:"?",final:"K"},(A=>this.eraseInLine(A,!0))),this._parser.registerCsiHandler({final:"L"},(A=>this.insertLines(A))),this._parser.registerCsiHandler({final:"M"},(A=>this.deleteLines(A))),this._parser.registerCsiHandler({final:"P"},(A=>this.deleteChars(A))),this._parser.registerCsiHandler({final:"S"},(A=>this.scrollUp(A))),this._parser.registerCsiHandler({final:"T"},(A=>this.scrollDown(A))),this._parser.registerCsiHandler({final:"X"},(A=>this.eraseChars(A))),this._parser.registerCsiHandler({final:"Z"},(A=>this.cursorBackwardTab(A))),this._parser.registerCsiHandler({final:"`"},(A=>this.charPosAbsolute(A))),this._parser.registerCsiHandler({final:"a"},(A=>this.hPositionRelative(A))),this._parser.registerCsiHandler({final:"b"},(A=>this.repeatPrecedingCharacter(A))),this._parser.registerCsiHandler({final:"c"},(A=>this.sendDeviceAttributesPrimary(A))),this._parser.registerCsiHandler({prefix:">",final:"c"},(A=>this.sendDeviceAttributesSecondary(A))),this._parser.registerCsiHandler({final:"d"},(A=>this.linePosAbsolute(A))),this._parser.registerCsiHandler({final:"e"},(A=>this.vPositionRelative(A))),this._parser.registerCsiHandler({final:"f"},(A=>this.hVPosition(A))),this._parser.registerCsiHandler({final:"g"},(A=>this.tabClear(A))),this._parser.registerCsiHandler({final:"h"},(A=>this.setMode(A))),this._parser.registerCsiHandler({prefix:"?",final:"h"},(A=>this.setModePrivate(A))),this._parser.registerCsiHandler({final:"l"},(A=>this.resetMode(A))),this._parser.registerCsiHandler({prefix:"?",final:"l"},(A=>this.resetModePrivate(A))),this._parser.registerCsiHandler({final:"m"},(A=>this.charAttributes(A))),this._parser.registerCsiHandler({final:"n"},(A=>this.deviceStatus(A))),this._parser.registerCsiHandler({prefix:"?",final:"n"},(A=>this.deviceStatusPrivate(A))),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(A=>this.softReset(A))),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(A=>this.setCursorStyle(A))),this._parser.registerCsiHandler({final:"r"},(A=>this.setScrollRegion(A))),this._parser.registerCsiHandler({final:"s"},(A=>this.saveCursor(A))),this._parser.registerCsiHandler({final:"t"},(A=>this.windowOptions(A))),this._parser.registerCsiHandler({final:"u"},(A=>this.restoreCursor(A))),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(A=>this.insertColumns(A))),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(A=>this.deleteColumns(A))),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(A=>this.selectProtected(A))),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(A=>this.requestMode(A,!0))),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(A=>this.requestMode(A,!1))),this._parser.setExecuteHandler(a.C0.BEL,(()=>this.bell())),this._parser.setExecuteHandler(a.C0.LF,(()=>this.lineFeed())),this._parser.setExecuteHandler(a.C0.VT,(()=>this.lineFeed())),this._parser.setExecuteHandler(a.C0.FF,(()=>this.lineFeed())),this._parser.setExecuteHandler(a.C0.CR,(()=>this.carriageReturn())),this._parser.setExecuteHandler(a.C0.BS,(()=>this.backspace())),this._parser.setExecuteHandler(a.C0.HT,(()=>this.tab())),this._parser.setExecuteHandler(a.C0.SO,(()=>this.shiftOut())),this._parser.setExecuteHandler(a.C0.SI,(()=>this.shiftIn())),this._parser.setExecuteHandler(a.C1.IND,(()=>this.index())),this._parser.setExecuteHandler(a.C1.NEL,(()=>this.nextLine())),this._parser.setExecuteHandler(a.C1.HTS,(()=>this.tabSet())),this._parser.registerOscHandler(0,new x.OscHandler((A=>(this.setTitle(A),this.setIconName(A),!0)))),this._parser.registerOscHandler(1,new x.OscHandler((A=>this.setIconName(A)))),this._parser.registerOscHandler(2,new x.OscHandler((A=>this.setTitle(A)))),this._parser.registerOscHandler(4,new x.OscHandler((A=>this.setOrReportIndexedColor(A)))),this._parser.registerOscHandler(8,new x.OscHandler((A=>this.setHyperlink(A)))),this._parser.registerOscHandler(10,new x.OscHandler((A=>this.setOrReportFgColor(A)))),this._parser.registerOscHandler(11,new x.OscHandler((A=>this.setOrReportBgColor(A)))),this._parser.registerOscHandler(12,new x.OscHandler((A=>this.setOrReportCursorColor(A)))),this._parser.registerOscHandler(104,new x.OscHandler((A=>this.restoreIndexedColor(A)))),this._parser.registerOscHandler(110,new x.OscHandler((A=>this.restoreFgColor(A)))),this._parser.registerOscHandler(111,new x.OscHandler((A=>this.restoreBgColor(A)))),this._parser.registerOscHandler(112,new x.OscHandler((A=>this.restoreCursorColor(A)))),this._parser.registerEscHandler({final:"7"},(()=>this.saveCursor())),this._parser.registerEscHandler({final:"8"},(()=>this.restoreCursor())),this._parser.registerEscHandler({final:"D"},(()=>this.index())),this._parser.registerEscHandler({final:"E"},(()=>this.nextLine())),this._parser.registerEscHandler({final:"H"},(()=>this.tabSet())),this._parser.registerEscHandler({final:"M"},(()=>this.reverseIndex())),this._parser.registerEscHandler({final:"="},(()=>this.keypadApplicationMode())),this._parser.registerEscHandler({final:">"},(()=>this.keypadNumericMode())),this._parser.registerEscHandler({final:"c"},(()=>this.fullReset())),this._parser.registerEscHandler({final:"n"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"o"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"|"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"}"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"~"},(()=>this.setgLevel(1))),this._parser.registerEscHandler({intermediates:"%",final:"@"},(()=>this.selectDefaultCharset())),this._parser.registerEscHandler({intermediates:"%",final:"G"},(()=>this.selectDefaultCharset()));for(const A in g.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:A},(()=>this.selectCharset("("+A))),this._parser.registerEscHandler({intermediates:")",final:A},(()=>this.selectCharset(")"+A))),this._parser.registerEscHandler({intermediates:"*",final:A},(()=>this.selectCharset("*"+A))),this._parser.registerEscHandler({intermediates:"+",final:A},(()=>this.selectCharset("+"+A))),this._parser.registerEscHandler({intermediates:"-",final:A},(()=>this.selectCharset("-"+A))),this._parser.registerEscHandler({intermediates:".",final:A},(()=>this.selectCharset("."+A))),this._parser.registerEscHandler({intermediates:"/",final:A},(()=>this.selectCharset("/"+A)));this._parser.registerEscHandler({intermediates:"#",final:"8"},(()=>this.screenAlignmentPattern())),this._parser.setErrorHandler((A=>(this._logService.error("Parsing error: ",A),A))),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new y.DcsHandler(((A,U)=>this.requestStatusString(A,U))))}_preserveStack(R,P,H,$){this._parseStack.paused=!0,this._parseStack.cursorStartX=R,this._parseStack.cursorStartY=P,this._parseStack.decodedLength=H,this._parseStack.position=$}_logSlowResolvingAsync(R){this._logService.logLevel<=w.LogLevelEnum.WARN&&Promise.race([R,new Promise(((P,H)=>setTimeout((()=>H("#SLOW_TIMEOUT")),5e3)))]).catch((P=>{if(P!=="#SLOW_TIMEOUT")throw P;console.warn("async parser handler taking longer than 5000 ms")}))}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(R,P){let H,$=this._activeBuffer.x,Q=this._activeBuffer.y,re=0;const de=this._parseStack.paused;if(de){if(H=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,P))return this._logSlowResolvingAsync(H),H;$=this._parseStack.cursorStartX,Q=this._parseStack.cursorStartY,this._parseStack.paused=!1,R.length>M&&(re=this._parseStack.position+M)}if(this._logService.logLevel<=w.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof R=="string"?` "${R}"`:` "${Array.prototype.map.call(R,(A=>String.fromCharCode(A))).join("")}"`),typeof R=="string"?R.split("").map((A=>A.charCodeAt(0))):R),this._parseBuffer.length<R.length&&this._parseBuffer.length<M&&(this._parseBuffer=new Uint32Array(Math.min(R.length,M))),de||this._dirtyRowTracker.clearRange(),R.length>M)for(let A=re;A<R.length;A+=M){const U=A+M<R.length?A+M:R.length,K=typeof R=="string"?this._stringDecoder.decode(R.substring(A,U),this._parseBuffer):this._utf8Decoder.decode(R.subarray(A,U),this._parseBuffer);if(H=this._parser.parse(this._parseBuffer,K))return this._preserveStack($,Q,K,A),this._logSlowResolvingAsync(H),H}else if(!de){const A=typeof R=="string"?this._stringDecoder.decode(R,this._parseBuffer):this._utf8Decoder.decode(R,this._parseBuffer);if(H=this._parser.parse(this._parseBuffer,A))return this._preserveStack($,Q,A,0),this._logSlowResolvingAsync(H),H}this._activeBuffer.x===$&&this._activeBuffer.y===Q||this._onCursorMove.fire();const fe=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),T=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);T<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(T,this._bufferService.rows-1),Math.min(fe,this._bufferService.rows-1))}print(R,P,H){let $,Q;const re=this._charsetService.charset,de=this._optionsService.rawOptions.screenReaderMode,fe=this._bufferService.cols,T=this._coreService.decPrivateModes.wraparound,A=this._coreService.modes.insertMode,U=this._curAttrData;let K=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&H-P>0&&K.getWidth(this._activeBuffer.x-1)===2&&K.setCellFromCodepoint(this._activeBuffer.x-1,0,1,U);let ee=this._parser.precedingJoinState;for(let D=P;D<H;++D){if($=R[D],$<127&&re){const G=re[String.fromCharCode($)];G&&($=G.charCodeAt(0))}const I=this._unicodeService.charProperties($,ee);Q=C.UnicodeService.extractWidth(I);const F=C.UnicodeService.extractShouldJoin(I),q=F?C.UnicodeService.extractWidth(ee):0;if(ee=I,de&&this._onA11yChar.fire((0,m.stringFromCodePoint)($)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+Q-q>fe){if(T){const G=K;let W=this._activeBuffer.x-q;for(this._activeBuffer.x=q,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),K=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),q>0&&K instanceof h.BufferLine&&K.copyCellsFrom(G,W,0,q,!1);W<fe;)G.setCellFromCodepoint(W++,0,1,U)}else if(this._activeBuffer.x=fe-1,Q===2)continue}if(F&&this._activeBuffer.x){const G=K.getWidth(this._activeBuffer.x-1)?1:2;K.addCodepointToCell(this._activeBuffer.x-G,$,Q);for(let W=Q-q;--W>=0;)K.setCellFromCodepoint(this._activeBuffer.x++,0,0,U)}else if(A&&(K.insertCells(this._activeBuffer.x,Q-q,this._activeBuffer.getNullCell(U)),K.getWidth(fe-1)===2&&K.setCellFromCodepoint(fe-1,u.NULL_CELL_CODE,u.NULL_CELL_WIDTH,U)),K.setCellFromCodepoint(this._activeBuffer.x++,$,Q,U),Q>0)for(;--Q;)K.setCellFromCodepoint(this._activeBuffer.x++,0,0,U)}this._parser.precedingJoinState=ee,this._activeBuffer.x<fe&&H-P>0&&K.getWidth(this._activeBuffer.x)===0&&!K.hasContent(this._activeBuffer.x)&&K.setCellFromCodepoint(this._activeBuffer.x,0,1,U),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(R,P){return R.final!=="t"||R.prefix||R.intermediates?this._parser.registerCsiHandler(R,P):this._parser.registerCsiHandler(R,(H=>!B(H.params[0],this._optionsService.rawOptions.windowOptions)||P(H)))}registerDcsHandler(R,P){return this._parser.registerDcsHandler(R,new y.DcsHandler(P))}registerEscHandler(R,P){return this._parser.registerEscHandler(R,P)}registerOscHandler(R,P){return this._parser.registerOscHandler(R,new x.OscHandler(P))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)?.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);R.hasWidth(this._activeBuffer.x)&&!R.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const R=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-R),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(R=this._bufferService.cols-1){this._activeBuffer.x=Math.min(R,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(R,P){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=R,this._activeBuffer.y=this._activeBuffer.scrollTop+P):(this._activeBuffer.x=R,this._activeBuffer.y=P),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(R,P){this._restrictCursor(),this._setCursor(this._activeBuffer.x+R,this._activeBuffer.y+P)}cursorUp(R){const P=this._activeBuffer.y-this._activeBuffer.scrollTop;return P>=0?this._moveCursor(0,-Math.min(P,R.params[0]||1)):this._moveCursor(0,-(R.params[0]||1)),!0}cursorDown(R){const P=this._activeBuffer.scrollBottom-this._activeBuffer.y;return P>=0?this._moveCursor(0,Math.min(P,R.params[0]||1)):this._moveCursor(0,R.params[0]||1),!0}cursorForward(R){return this._moveCursor(R.params[0]||1,0),!0}cursorBackward(R){return this._moveCursor(-(R.params[0]||1),0),!0}cursorNextLine(R){return this.cursorDown(R),this._activeBuffer.x=0,!0}cursorPrecedingLine(R){return this.cursorUp(R),this._activeBuffer.x=0,!0}cursorCharAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(R){return this._setCursor(R.length>=2?(R.params[1]||1)-1:0,(R.params[0]||1)-1),!0}charPosAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(R){return this._moveCursor(R.params[0]||1,0),!0}linePosAbsolute(R){return this._setCursor(this._activeBuffer.x,(R.params[0]||1)-1),!0}vPositionRelative(R){return this._moveCursor(0,R.params[0]||1),!0}hVPosition(R){return this.cursorPosition(R),!0}tabClear(R){const P=R.params[0];return P===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:P===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let P=R.params[0]||1;for(;P--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let P=R.params[0]||1;for(;P--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(R){const P=R.params[0];return P===1&&(this._curAttrData.bg|=536870912),P!==2&&P!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(R,P,H,$=!1,Q=!1){const re=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);re.replaceCells(P,H,this._activeBuffer.getNullCell(this._eraseAttrData()),Q),$&&(re.isWrapped=!1)}_resetBufferLine(R,P=!1){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);H&&(H.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),P),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+R),H.isWrapped=!1)}eraseInDisplay(R,P=!1){let H;switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:for(H=this._activeBuffer.y,this._dirtyRowTracker.markDirty(H),this._eraseInBufferLine(H++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,P);H<this._bufferService.rows;H++)this._resetBufferLine(H,P);this._dirtyRowTracker.markDirty(H);break;case 1:for(H=this._activeBuffer.y,this._dirtyRowTracker.markDirty(H),this._eraseInBufferLine(H,0,this._activeBuffer.x+1,!0,P),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(H+1).isWrapped=!1);H--;)this._resetBufferLine(H,P);this._dirtyRowTracker.markDirty(0);break;case 2:for(H=this._bufferService.rows,this._dirtyRowTracker.markDirty(H-1);H--;)this._resetBufferLine(H,P);this._dirtyRowTracker.markDirty(0);break;case 3:const $=this._activeBuffer.lines.length-this._bufferService.rows;$>0&&(this._activeBuffer.lines.trimStart($),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-$,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-$,0),this._onScroll.fire(0))}return!0}eraseInLine(R,P=!1){switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,P);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,P);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,P)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(R){this._restrictCursor();let P=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const H=this._activeBuffer.ybase+this._activeBuffer.y,$=this._bufferService.rows-1-this._activeBuffer.scrollBottom,Q=this._bufferService.rows-1+this._activeBuffer.ybase-$+1;for(;P--;)this._activeBuffer.lines.splice(Q-1,1),this._activeBuffer.lines.splice(H,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(R){this._restrictCursor();let P=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const H=this._activeBuffer.ybase+this._activeBuffer.y;let $;for($=this._bufferService.rows-1-this._activeBuffer.scrollBottom,$=this._bufferService.rows-1+this._activeBuffer.ybase-$;P--;)this._activeBuffer.lines.splice(H,1),this._activeBuffer.lines.splice($,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(R){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.insertCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(R){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.deleteCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(R){let P=R.params[0]||1;for(;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(R){let P=R.params[0]||1;for(;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(h.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=R.params[0]||1;for(let H=this._activeBuffer.scrollTop;H<=this._activeBuffer.scrollBottom;++H){const $=this._activeBuffer.lines.get(this._activeBuffer.ybase+H);$.deleteCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData())),$.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=R.params[0]||1;for(let H=this._activeBuffer.scrollTop;H<=this._activeBuffer.scrollBottom;++H){const $=this._activeBuffer.lines.get(this._activeBuffer.ybase+H);$.insertCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData())),$.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=R.params[0]||1;for(let H=this._activeBuffer.scrollTop;H<=this._activeBuffer.scrollBottom;++H){const $=this._activeBuffer.lines.get(this._activeBuffer.ybase+H);$.insertCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData())),$.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=R.params[0]||1;for(let H=this._activeBuffer.scrollTop;H<=this._activeBuffer.scrollBottom;++H){const $=this._activeBuffer.lines.get(this._activeBuffer.ybase+H);$.deleteCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData())),$.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(R){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(R.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(R){const P=this._parser.precedingJoinState;if(!P)return!0;const H=R.params[0]||1,$=C.UnicodeService.extractWidth(P),Q=this._activeBuffer.x-$,re=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(Q),de=new Uint32Array(re.length*H);let fe=0;for(let A=0;A<re.length;){const U=re.codePointAt(A)||0;de[fe++]=U,A+=U>65535?2:1}let T=fe;for(let A=1;A<H;++A)de.copyWithin(T,0,fe),T+=fe;return this.print(de,0,T),!0}sendDeviceAttributesPrimary(R){return R.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(a.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(a.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(R){return R.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(a.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(a.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(R.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(a.C0.ESC+"[>83;40003;0c")),!0}_is(R){return(this._optionsService.rawOptions.termName+"").indexOf(R)===0}setMode(R){for(let P=0;P<R.length;P++)switch(R.params[P]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(R){for(let P=0;P<R.length;P++)switch(R.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),this._charsetService.setgCharset(1,g.DEFAULT_CHARSET),this._charsetService.setgCharset(2,g.DEFAULT_CHARSET),this._charsetService.setgCharset(3,g.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(R){for(let P=0;P<R.length;P++)switch(R.params[P]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(R){for(let P=0;P<R.length;P++)switch(R.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),R.params[P]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(R,P){const H=this._coreService.decPrivateModes,{activeProtocol:$,activeEncoding:Q}=this._coreMouseService,re=this._coreService,{buffers:de,cols:fe}=this._bufferService,{active:T,alt:A}=de,U=this._optionsService.rawOptions,K=F=>F?1:2,ee=R.params[0];return D=ee,I=P?ee===2?4:ee===4?K(re.modes.insertMode):ee===12?3:ee===20?K(U.convertEol):0:ee===1?K(H.applicationCursorKeys):ee===3?U.windowOptions.setWinLines?fe===80?2:fe===132?1:0:0:ee===6?K(H.origin):ee===7?K(H.wraparound):ee===8?3:ee===9?K($==="X10"):ee===12?K(U.cursorBlink):ee===25?K(!re.isCursorHidden):ee===45?K(H.reverseWraparound):ee===66?K(H.applicationKeypad):ee===67?4:ee===1e3?K($==="VT200"):ee===1002?K($==="DRAG"):ee===1003?K($==="ANY"):ee===1004?K(H.sendFocus):ee===1005?4:ee===1006?K(Q==="SGR"):ee===1015?4:ee===1016?K(Q==="SGR_PIXELS"):ee===1048?1:ee===47||ee===1047||ee===1049?K(T===A):ee===2004?K(H.bracketedPasteMode):0,re.triggerDataEvent(`${a.C0.ESC}[${P?"":"?"}${D};${I}$y`),!0;var D,I}_updateAttrColor(R,P,H,$,Q){return P===2?(R|=50331648,R&=-16777216,R|=b.AttributeData.fromColorRGB([H,$,Q])):P===5&&(R&=-50331904,R|=33554432|255&H),R}_extractColor(R,P,H){const $=[0,0,-1,0,0,0];let Q=0,re=0;do{if($[re+Q]=R.params[P+re],R.hasSubParams(P+re)){const de=R.getSubParams(P+re);let fe=0;do $[1]===5&&(Q=1),$[re+fe+1+Q]=de[fe];while(++fe<de.length&&fe+re+1+Q<$.length);break}if($[1]===5&&re+Q>=2||$[1]===2&&re+Q>=5)break;$[1]&&(Q=1)}while(++re+P<R.length&&re+Q<$.length);for(let de=2;de<$.length;++de)$[de]===-1&&($[de]=0);switch($[0]){case 38:H.fg=this._updateAttrColor(H.fg,$[1],$[3],$[4],$[5]);break;case 48:H.bg=this._updateAttrColor(H.bg,$[1],$[3],$[4],$[5]);break;case 58:H.extended=H.extended.clone(),H.extended.underlineColor=this._updateAttrColor(H.extended.underlineColor,$[1],$[3],$[4],$[5])}return re}_processUnderline(R,P){P.extended=P.extended.clone(),(!~R||R>5)&&(R=1),P.extended.underlineStyle=R,P.fg|=268435456,R===0&&(P.fg&=-268435457),P.updateExtended()}_processSGR0(R){R.fg=h.DEFAULT_ATTR_DATA.fg,R.bg=h.DEFAULT_ATTR_DATA.bg,R.extended=R.extended.clone(),R.extended.underlineStyle=0,R.extended.underlineColor&=-67108864,R.updateExtended()}charAttributes(R){if(R.length===1&&R.params[0]===0)return this._processSGR0(this._curAttrData),!0;const P=R.length;let H;const $=this._curAttrData;for(let Q=0;Q<P;Q++)H=R.params[Q],H>=30&&H<=37?($.fg&=-50331904,$.fg|=16777216|H-30):H>=40&&H<=47?($.bg&=-50331904,$.bg|=16777216|H-40):H>=90&&H<=97?($.fg&=-50331904,$.fg|=16777224|H-90):H>=100&&H<=107?($.bg&=-50331904,$.bg|=16777224|H-100):H===0?this._processSGR0($):H===1?$.fg|=134217728:H===3?$.bg|=67108864:H===4?($.fg|=268435456,this._processUnderline(R.hasSubParams(Q)?R.getSubParams(Q)[0]:1,$)):H===5?$.fg|=536870912:H===7?$.fg|=67108864:H===8?$.fg|=1073741824:H===9?$.fg|=2147483648:H===2?$.bg|=134217728:H===21?this._processUnderline(2,$):H===22?($.fg&=-134217729,$.bg&=-134217729):H===23?$.bg&=-67108865:H===24?($.fg&=-268435457,this._processUnderline(0,$)):H===25?$.fg&=-536870913:H===27?$.fg&=-67108865:H===28?$.fg&=-1073741825:H===29?$.fg&=2147483647:H===39?($.fg&=-67108864,$.fg|=16777215&h.DEFAULT_ATTR_DATA.fg):H===49?($.bg&=-67108864,$.bg|=16777215&h.DEFAULT_ATTR_DATA.bg):H===38||H===48||H===58?Q+=this._extractColor(R,Q,$):H===53?$.bg|=1073741824:H===55?$.bg&=-1073741825:H===59?($.extended=$.extended.clone(),$.extended.underlineColor=-1,$.updateExtended()):H===100?($.fg&=-67108864,$.fg|=16777215&h.DEFAULT_ATTR_DATA.fg,$.bg&=-67108864,$.bg|=16777215&h.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",H);return!0}deviceStatus(R){switch(R.params[0]){case 5:this._coreService.triggerDataEvent(`${a.C0.ESC}[0n`);break;case 6:const P=this._activeBuffer.y+1,H=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${a.C0.ESC}[${P};${H}R`)}return!0}deviceStatusPrivate(R){if(R.params[0]===6){const P=this._activeBuffer.y+1,H=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${a.C0.ESC}[?${P};${H}R`)}return!0}softReset(R){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(R){const P=R.params[0]||1;switch(P){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const H=P%2==1;return this._optionsService.options.cursorBlink=H,!0}setScrollRegion(R){const P=R.params[0]||1;let H;return(R.length<2||(H=R.params[1])>this._bufferService.rows||H===0)&&(H=this._bufferService.rows),H>P&&(this._activeBuffer.scrollTop=P-1,this._activeBuffer.scrollBottom=H-1,this._setCursor(0,0)),!0}windowOptions(R){if(!B(R.params[0],this._optionsService.rawOptions.windowOptions))return!0;const P=R.length>1?R.params[1]:0;switch(R.params[0]){case 14:P!==2&&this._onRequestWindowsOptionsReport.fire(L.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(L.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${a.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:P!==0&&P!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),P!==0&&P!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:P!==0&&P!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),P!==0&&P!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(R){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(R){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(R){return this._windowTitle=R,this._onTitleChange.fire(R),!0}setIconName(R){return this._iconName=R,!0}setOrReportIndexedColor(R){const P=[],H=R.split(";");for(;H.length>1;){const $=H.shift(),Q=H.shift();if(/^\d+$/.exec($)){const re=parseInt($);if(Y(re))if(Q==="?")P.push({type:0,index:re});else{const de=(0,k.parseColor)(Q);de&&P.push({type:1,index:re,color:de})}}}return P.length&&this._onColor.fire(P),!0}setHyperlink(R){const P=R.split(";");return!(P.length<2)&&(P[1]?this._createHyperlink(P[0],P[1]):!P[0]&&this._finishHyperlink())}_createHyperlink(R,P){this._getCurrentLinkId()&&this._finishHyperlink();const H=R.split(":");let $;const Q=H.findIndex((re=>re.startsWith("id=")));return Q!==-1&&($=H[Q].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:$,uri:P}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(R,P){const H=R.split(";");for(let $=0;$<H.length&&!(P>=this._specialColors.length);++$,++P)if(H[$]==="?")this._onColor.fire([{type:0,index:this._specialColors[P]}]);else{const Q=(0,k.parseColor)(H[$]);Q&&this._onColor.fire([{type:1,index:this._specialColors[P],color:Q}])}return!0}setOrReportFgColor(R){return this._setOrReportSpecialColor(R,0)}setOrReportBgColor(R){return this._setOrReportSpecialColor(R,1)}setOrReportCursorColor(R){return this._setOrReportSpecialColor(R,2)}restoreIndexedColor(R){if(!R)return this._onColor.fire([{type:2}]),!0;const P=[],H=R.split(";");for(let $=0;$<H.length;++$)if(/^\d+$/.exec(H[$])){const Q=parseInt(H[$]);Y(Q)&&P.push({type:2,index:Q})}return P.length&&this._onColor.fire(P),!0}restoreFgColor(R){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(R){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(R){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),!0}selectCharset(R){return R.length!==2?(this.selectDefaultCharset(),!0):(R[0]==="/"||this._charsetService.setgCharset(O[R[0]],g.CHARSETS[R[1]]||g.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const R=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,R,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=h.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(R){return this._charsetService.setgLevel(R),!0}screenAlignmentPattern(){const R=new _.CellData;R.content=4194373,R.fg=this._curAttrData.fg,R.bg=this._curAttrData.bg,this._setCursor(0,0);for(let P=0;P<this._bufferService.rows;++P){const H=this._activeBuffer.ybase+this._activeBuffer.y+P,$=this._activeBuffer.lines.get(H);$&&($.fill(R),$.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(R,P){const H=this._bufferService.buffer,$=this._optionsService.rawOptions;return(Q=>(this._coreService.triggerDataEvent(`${a.C0.ESC}${Q}${a.C0.ESC}\\`),!0))(R==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:R==='"p'?'P1$r61;1"p':R==="r"?`P1$r${H.scrollTop+1};${H.scrollBottom+1}r`:R==="m"?"P1$r0m":R===" q"?`P1$r${{block:2,underline:4,bar:6}[$.cursorStyle]-($.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(R,P){this._dirtyRowTracker.markRangeDirty(R,P)}}r.InputHandler=Z;let J=class{constructor(X){this._bufferService=X,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(X){X<this.start?this.start=X:X>this.end&&(this.end=X)}markRangeDirty(X,R){X>R&&(V=X,X=R,R=V),X<this.start&&(this.start=X),R>this.end&&(this.end=R)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function Y(X){return 0<=X&&X<256}J=l([f(0,w.IBufferService)],J)},844:(p,r)=>{function o(l){for(const f of l)f.dispose();l.length=0}Object.defineProperty(r,"__esModule",{value:!0}),r.getDisposeArrayDisposable=r.disposeArray=r.toDisposable=r.MutableDisposable=r.Disposable=void 0,r.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const l of this._disposables)l.dispose();this._disposables.length=0}register(l){return this._disposables.push(l),l}unregister(l){const f=this._disposables.indexOf(l);f!==-1&&this._disposables.splice(f,1)}},r.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(l){this._isDisposed||l===this._value||(this._value?.dispose(),this._value=l)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}},r.toDisposable=function(l){return{dispose:l}},r.disposeArray=o,r.getDisposeArrayDisposable=function(l){return{dispose:()=>o(l)}}},1505:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.FourKeyMap=r.TwoKeyMap=void 0;class o{constructor(){this._data={}}set(f,a,g){this._data[f]||(this._data[f]={}),this._data[f][a]=g}get(f,a){return this._data[f]?this._data[f][a]:void 0}clear(){this._data={}}}r.TwoKeyMap=o,r.FourKeyMap=class{constructor(){this._data=new o}set(l,f,a,g,v){this._data.get(l,f)||this._data.set(l,f,new o),this._data.get(l,f).set(a,g,v)}get(l,f,a,g){return this._data.get(l,f)?.get(a,g)}clear(){this._data.clear()}}},6114:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isChromeOS=r.isLinux=r.isWindows=r.isIphone=r.isIpad=r.isMac=r.getSafariVersion=r.isSafari=r.isLegacyEdge=r.isFirefox=r.isNode=void 0,r.isNode=typeof process<"u"&&"title"in process;const o=r.isNode?"node":navigator.userAgent,l=r.isNode?"node":navigator.platform;r.isFirefox=o.includes("Firefox"),r.isLegacyEdge=o.includes("Edge"),r.isSafari=/^((?!chrome|android).)*safari/i.test(o),r.getSafariVersion=function(){if(!r.isSafari)return 0;const f=o.match(/Version\/(\d+)/);return f===null||f.length<2?0:parseInt(f[1])},r.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(l),r.isIpad=l==="iPad",r.isIphone=l==="iPhone",r.isWindows=["Windows","Win16","Win32","WinCE"].includes(l),r.isLinux=l.indexOf("Linux")>=0,r.isChromeOS=/\bCrOS\b/.test(o)},6106:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.SortedList=void 0;let o=0;r.SortedList=class{constructor(l){this._getKey=l,this._array=[]}clear(){this._array.length=0}insert(l){this._array.length!==0?(o=this._search(this._getKey(l)),this._array.splice(o,0,l)):this._array.push(l)}delete(l){if(this._array.length===0)return!1;const f=this._getKey(l);if(f===void 0||(o=this._search(f),o===-1)||this._getKey(this._array[o])!==f)return!1;do if(this._array[o]===l)return this._array.splice(o,1),!0;while(++o<this._array.length&&this._getKey(this._array[o])===f);return!1}*getKeyIterator(l){if(this._array.length!==0&&(o=this._search(l),!(o<0||o>=this._array.length)&&this._getKey(this._array[o])===l))do yield this._array[o];while(++o<this._array.length&&this._getKey(this._array[o])===l)}forEachByKey(l,f){if(this._array.length!==0&&(o=this._search(l),!(o<0||o>=this._array.length)&&this._getKey(this._array[o])===l))do f(this._array[o]);while(++o<this._array.length&&this._getKey(this._array[o])===l)}values(){return[...this._array].values()}_search(l){let f=0,a=this._array.length-1;for(;a>=f;){let g=f+a>>1;const v=this._getKey(this._array[g]);if(v>l)a=g-1;else{if(!(v<l)){for(;g>0&&this._getKey(this._array[g-1])===l;)g--;return g}f=g+1}}return f}}},7226:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DebouncedIdleTask=r.IdleTaskQueue=r.PriorityTaskQueue=void 0;const l=o(6114);class f{constructor(){this._tasks=[],this._i=0}enqueue(v){this._tasks.push(v),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(v){this._idleCallback=void 0;let S=0,m=0,h=v.timeRemaining(),c=0;for(;this._i<this._tasks.length;){if(S=Date.now(),this._tasks[this._i]()||this._i++,S=Math.max(1,Date.now()-S),m=Math.max(S,m),c=v.timeRemaining(),1.5*m>c)return h-S<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(h-S))}ms`),void this._start();h=c}this.clear()}}class a extends f{_requestCallback(v){return setTimeout((()=>v(this._createDeadline(16))))}_cancelCallback(v){clearTimeout(v)}_createDeadline(v){const S=Date.now()+v;return{timeRemaining:()=>Math.max(0,S-Date.now())}}}r.PriorityTaskQueue=a,r.IdleTaskQueue=!l.isNode&&"requestIdleCallback"in window?class extends f{_requestCallback(g){return requestIdleCallback(g)}_cancelCallback(g){cancelIdleCallback(g)}}:a,r.DebouncedIdleTask=class{constructor(){this._queue=new r.IdleTaskQueue}set(g){this._queue.clear(),this._queue.enqueue(g)}flush(){this._queue.flush()}}},9282:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.updateWindowsModeWrappedState=void 0;const l=o(643);r.updateWindowsModeWrappedState=function(f){const a=f.buffer.lines.get(f.buffer.ybase+f.buffer.y-1),g=a?.get(f.cols-1),v=f.buffer.lines.get(f.buffer.ybase+f.buffer.y);v&&g&&(v.isWrapped=g[l.CHAR_DATA_CODE_INDEX]!==l.NULL_CELL_CODE&&g[l.CHAR_DATA_CODE_INDEX]!==l.WHITESPACE_CELL_CODE)}},3734:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ExtendedAttrs=r.AttributeData=void 0;class o{constructor(){this.fg=0,this.bg=0,this.extended=new l}static toColorRGB(a){return[a>>>16&255,a>>>8&255,255&a]}static fromColorRGB(a){return(255&a[0])<<16|(255&a[1])<<8|255&a[2]}clone(){const a=new o;return a.fg=this.fg,a.bg=this.bg,a.extended=this.extended.clone(),a}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}r.AttributeData=o;class l{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(a){this._ext=a}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(a){this._ext&=-469762049,this._ext|=a<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(a){this._ext&=-67108864,this._ext|=67108863&a}get urlId(){return this._urlId}set urlId(a){this._urlId=a}get underlineVariantOffset(){const a=(3758096384&this._ext)>>29;return a<0?4294967288^a:a}set underlineVariantOffset(a){this._ext&=536870911,this._ext|=a<<29&3758096384}constructor(a=0,g=0){this._ext=0,this._urlId=0,this._ext=a,this._urlId=g}clone(){return new l(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}r.ExtendedAttrs=l},9092:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Buffer=r.MAX_BUFFER_SIZE=void 0;const l=o(6349),f=o(7226),a=o(3734),g=o(8437),v=o(4634),S=o(511),m=o(643),h=o(4863),c=o(7116);r.MAX_BUFFER_SIZE=4294967295,r.Buffer=class{constructor(u,_,b){this._hasScrollback=u,this._optionsService=_,this._bufferService=b,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=g.DEFAULT_ATTR_DATA.clone(),this.savedCharset=c.DEFAULT_CHARSET,this.markers=[],this._nullCell=S.CellData.fromCharData([0,m.NULL_CELL_CHAR,m.NULL_CELL_WIDTH,m.NULL_CELL_CODE]),this._whitespaceCell=S.CellData.fromCharData([0,m.WHITESPACE_CELL_CHAR,m.WHITESPACE_CELL_WIDTH,m.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new f.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new l.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(u){return u?(this._nullCell.fg=u.fg,this._nullCell.bg=u.bg,this._nullCell.extended=u.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new a.ExtendedAttrs),this._nullCell}getWhitespaceCell(u){return u?(this._whitespaceCell.fg=u.fg,this._whitespaceCell.bg=u.bg,this._whitespaceCell.extended=u.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new a.ExtendedAttrs),this._whitespaceCell}getBlankLine(u,_){return new g.BufferLine(this._bufferService.cols,this.getNullCell(u),_)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const u=this.ybase+this.y-this.ydisp;return u>=0&&u<this._rows}_getCorrectBufferLength(u){if(!this._hasScrollback)return u;const _=u+this._optionsService.rawOptions.scrollback;return _>r.MAX_BUFFER_SIZE?r.MAX_BUFFER_SIZE:_}fillViewportRows(u){if(this.lines.length===0){u===void 0&&(u=g.DEFAULT_ATTR_DATA);let _=this._rows;for(;_--;)this.lines.push(this.getBlankLine(u))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new l.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(u,_){const b=this.getNullCell(g.DEFAULT_ATTR_DATA);let w=0;const C=this._getCorrectBufferLength(_);if(C>this.lines.maxLength&&(this.lines.maxLength=C),this.lines.length>0){if(this._cols<u)for(let y=0;y<this.lines.length;y++)w+=+this.lines.get(y).resize(u,b);let x=0;if(this._rows<_)for(let y=this._rows;y<_;y++)this.lines.length<_+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new g.BufferLine(u,b)):this.ybase>0&&this.lines.length<=this.ybase+this.y+x+1?(this.ybase--,x++,this.ydisp>0&&this.ydisp--):this.lines.push(new g.BufferLine(u,b)));else for(let y=this._rows;y>_;y--)this.lines.length>_+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(C<this.lines.maxLength){const y=this.lines.length-C;y>0&&(this.lines.trimStart(y),this.ybase=Math.max(this.ybase-y,0),this.ydisp=Math.max(this.ydisp-y,0),this.savedY=Math.max(this.savedY-y,0)),this.lines.maxLength=C}this.x=Math.min(this.x,u-1),this.y=Math.min(this.y,_-1),x&&(this.y+=x),this.savedX=Math.min(this.savedX,u-1),this.scrollTop=0}if(this.scrollBottom=_-1,this._isReflowEnabled&&(this._reflow(u,_),this._cols>u))for(let x=0;x<this.lines.length;x++)w+=+this.lines.get(x).resize(u,b);this._cols=u,this._rows=_,this._memoryCleanupQueue.clear(),w>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue((()=>this._batchedMemoryCleanup())))}_batchedMemoryCleanup(){let u=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,u=!1);let _=0;for(;this._memoryCleanupPosition<this.lines.length;)if(_+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),_>100)return!0;return u}get _isReflowEnabled(){const u=this._optionsService.rawOptions.windowsPty;return u&&u.buildNumber?this._hasScrollback&&u.backend==="conpty"&&u.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(u,_){this._cols!==u&&(u>this._cols?this._reflowLarger(u,_):this._reflowSmaller(u,_))}_reflowLarger(u,_){const b=(0,v.reflowLargerGetLinesToRemove)(this.lines,this._cols,u,this.ybase+this.y,this.getNullCell(g.DEFAULT_ATTR_DATA));if(b.length>0){const w=(0,v.reflowLargerCreateNewLayout)(this.lines,b);(0,v.reflowLargerApplyNewLayout)(this.lines,w.layout),this._reflowLargerAdjustViewport(u,_,w.countRemoved)}}_reflowLargerAdjustViewport(u,_,b){const w=this.getNullCell(g.DEFAULT_ATTR_DATA);let C=b;for(;C-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<_&&this.lines.push(new g.BufferLine(u,w))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-b,0)}_reflowSmaller(u,_){const b=this.getNullCell(g.DEFAULT_ATTR_DATA),w=[];let C=0;for(let x=this.lines.length-1;x>=0;x--){let y=this.lines.get(x);if(!y||!y.isWrapped&&y.getTrimmedLength()<=u)continue;const k=[y];for(;y.isWrapped&&x>0;)y=this.lines.get(--x),k.unshift(y);const O=this.ybase+this.y;if(O>=x&&O<x+k.length)continue;const M=k[k.length-1].getTrimmedLength(),B=(0,v.reflowSmallerGetNewLineLengths)(k,this._cols,u),L=B.length-k.length;let V;V=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+L):Math.max(0,this.lines.length-this.lines.maxLength+L);const Z=[];for(let H=0;H<L;H++){const $=this.getBlankLine(g.DEFAULT_ATTR_DATA,!0);Z.push($)}Z.length>0&&(w.push({start:x+k.length+C,newLines:Z}),C+=Z.length),k.push(...Z);let J=B.length-1,Y=B[J];Y===0&&(J--,Y=B[J]);let X=k.length-L-1,R=M;for(;X>=0;){const H=Math.min(R,Y);if(k[J]===void 0)break;if(k[J].copyCellsFrom(k[X],R-H,Y-H,H,!0),Y-=H,Y===0&&(J--,Y=B[J]),R-=H,R===0){X--;const $=Math.max(X,0);R=(0,v.getWrappedLineTrimmedLength)(k,$,this._cols)}}for(let H=0;H<k.length;H++)B[H]<u&&k[H].setCell(B[H],b);let P=L-V;for(;P-- >0;)this.ybase===0?this.y<_-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+C)-_&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+L,this.ybase+_-1)}if(w.length>0){const x=[],y=[];for(let J=0;J<this.lines.length;J++)y.push(this.lines.get(J));const k=this.lines.length;let O=k-1,M=0,B=w[M];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+C);let L=0;for(let J=Math.min(this.lines.maxLength-1,k+C-1);J>=0;J--)if(B&&B.start>O+L){for(let Y=B.newLines.length-1;Y>=0;Y--)this.lines.set(J--,B.newLines[Y]);J++,x.push({index:O+1,amount:B.newLines.length}),L+=B.newLines.length,B=w[++M]}else this.lines.set(J,y[O--]);let V=0;for(let J=x.length-1;J>=0;J--)x[J].index+=V,this.lines.onInsertEmitter.fire(x[J]),V+=x[J].amount;const Z=Math.max(0,k+C-this.lines.maxLength);Z>0&&this.lines.onTrimEmitter.fire(Z)}}translateBufferLineToString(u,_,b=0,w){const C=this.lines.get(u);return C?C.translateToString(_,b,w):""}getWrappedRangeForLine(u){let _=u,b=u;for(;_>0&&this.lines.get(_).isWrapped;)_--;for(;b+1<this.lines.length&&this.lines.get(b+1).isWrapped;)b++;return{first:_,last:b}}setupTabStops(u){for(u!=null?this.tabs[u]||(u=this.prevStop(u)):(this.tabs={},u=0);u<this._cols;u+=this._optionsService.rawOptions.tabStopWidth)this.tabs[u]=!0}prevStop(u){for(u==null&&(u=this.x);!this.tabs[--u]&&u>0;);return u>=this._cols?this._cols-1:u<0?0:u}nextStop(u){for(u==null&&(u=this.x);!this.tabs[++u]&&u<this._cols;);return u>=this._cols?this._cols-1:u<0?0:u}clearMarkers(u){this._isClearing=!0;for(let _=0;_<this.markers.length;_++)this.markers[_].line===u&&(this.markers[_].dispose(),this.markers.splice(_--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let u=0;u<this.markers.length;u++)this.markers[u].dispose(),this.markers.splice(u--,1);this._isClearing=!1}addMarker(u){const _=new h.Marker(u);return this.markers.push(_),_.register(this.lines.onTrim((b=>{_.line-=b,_.line<0&&_.dispose()}))),_.register(this.lines.onInsert((b=>{_.line>=b.index&&(_.line+=b.amount)}))),_.register(this.lines.onDelete((b=>{_.line>=b.index&&_.line<b.index+b.amount&&_.dispose(),_.line>b.index&&(_.line-=b.amount)}))),_.register(_.onDispose((()=>this._removeMarker(_)))),_}_removeMarker(u){this._isClearing||this.markers.splice(this.markers.indexOf(u),1)}}},8437:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferLine=r.DEFAULT_ATTR_DATA=void 0;const l=o(3734),f=o(511),a=o(643),g=o(482);r.DEFAULT_ATTR_DATA=Object.freeze(new l.AttributeData);let v=0;class S{constructor(h,c,u=!1){this.isWrapped=u,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*h);const _=c||f.CellData.fromCharData([0,a.NULL_CELL_CHAR,a.NULL_CELL_WIDTH,a.NULL_CELL_CODE]);for(let b=0;b<h;++b)this.setCell(b,_);this.length=h}get(h){const c=this._data[3*h+0],u=2097151&c;return[this._data[3*h+1],2097152&c?this._combined[h]:u?(0,g.stringFromCodePoint)(u):"",c>>22,2097152&c?this._combined[h].charCodeAt(this._combined[h].length-1):u]}set(h,c){this._data[3*h+1]=c[a.CHAR_DATA_ATTR_INDEX],c[a.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[h]=c[1],this._data[3*h+0]=2097152|h|c[a.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*h+0]=c[a.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|c[a.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(h){return this._data[3*h+0]>>22}hasWidth(h){return 12582912&this._data[3*h+0]}getFg(h){return this._data[3*h+1]}getBg(h){return this._data[3*h+2]}hasContent(h){return 4194303&this._data[3*h+0]}getCodePoint(h){const c=this._data[3*h+0];return 2097152&c?this._combined[h].charCodeAt(this._combined[h].length-1):2097151&c}isCombined(h){return 2097152&this._data[3*h+0]}getString(h){const c=this._data[3*h+0];return 2097152&c?this._combined[h]:2097151&c?(0,g.stringFromCodePoint)(2097151&c):""}isProtected(h){return 536870912&this._data[3*h+2]}loadCell(h,c){return v=3*h,c.content=this._data[v+0],c.fg=this._data[v+1],c.bg=this._data[v+2],2097152&c.content&&(c.combinedData=this._combined[h]),268435456&c.bg&&(c.extended=this._extendedAttrs[h]),c}setCell(h,c){2097152&c.content&&(this._combined[h]=c.combinedData),268435456&c.bg&&(this._extendedAttrs[h]=c.extended),this._data[3*h+0]=c.content,this._data[3*h+1]=c.fg,this._data[3*h+2]=c.bg}setCellFromCodepoint(h,c,u,_){268435456&_.bg&&(this._extendedAttrs[h]=_.extended),this._data[3*h+0]=c|u<<22,this._data[3*h+1]=_.fg,this._data[3*h+2]=_.bg}addCodepointToCell(h,c,u){let _=this._data[3*h+0];2097152&_?this._combined[h]+=(0,g.stringFromCodePoint)(c):2097151&_?(this._combined[h]=(0,g.stringFromCodePoint)(2097151&_)+(0,g.stringFromCodePoint)(c),_&=-2097152,_|=2097152):_=c|4194304,u&&(_&=-12582913,_|=u<<22),this._data[3*h+0]=_}insertCells(h,c,u){if((h%=this.length)&&this.getWidth(h-1)===2&&this.setCellFromCodepoint(h-1,0,1,u),c<this.length-h){const _=new f.CellData;for(let b=this.length-h-c-1;b>=0;--b)this.setCell(h+c+b,this.loadCell(h+b,_));for(let b=0;b<c;++b)this.setCell(h+b,u)}else for(let _=h;_<this.length;++_)this.setCell(_,u);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,u)}deleteCells(h,c,u){if(h%=this.length,c<this.length-h){const _=new f.CellData;for(let b=0;b<this.length-h-c;++b)this.setCell(h+b,this.loadCell(h+c+b,_));for(let b=this.length-c;b<this.length;++b)this.setCell(b,u)}else for(let _=h;_<this.length;++_)this.setCell(_,u);h&&this.getWidth(h-1)===2&&this.setCellFromCodepoint(h-1,0,1,u),this.getWidth(h)!==0||this.hasContent(h)||this.setCellFromCodepoint(h,0,1,u)}replaceCells(h,c,u,_=!1){if(_)for(h&&this.getWidth(h-1)===2&&!this.isProtected(h-1)&&this.setCellFromCodepoint(h-1,0,1,u),c<this.length&&this.getWidth(c-1)===2&&!this.isProtected(c)&&this.setCellFromCodepoint(c,0,1,u);h<c&&h<this.length;)this.isProtected(h)||this.setCell(h,u),h++;else for(h&&this.getWidth(h-1)===2&&this.setCellFromCodepoint(h-1,0,1,u),c<this.length&&this.getWidth(c-1)===2&&this.setCellFromCodepoint(c,0,1,u);h<c&&h<this.length;)this.setCell(h++,u)}resize(h,c){if(h===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const u=3*h;if(h>this.length){if(this._data.buffer.byteLength>=4*u)this._data=new Uint32Array(this._data.buffer,0,u);else{const _=new Uint32Array(u);_.set(this._data),this._data=_}for(let _=this.length;_<h;++_)this.setCell(_,c)}else{this._data=this._data.subarray(0,u);const _=Object.keys(this._combined);for(let w=0;w<_.length;w++){const C=parseInt(_[w],10);C>=h&&delete this._combined[C]}const b=Object.keys(this._extendedAttrs);for(let w=0;w<b.length;w++){const C=parseInt(b[w],10);C>=h&&delete this._extendedAttrs[C]}}return this.length=h,4*u*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const h=new Uint32Array(this._data.length);return h.set(this._data),this._data=h,1}return 0}fill(h,c=!1){if(c)for(let u=0;u<this.length;++u)this.isProtected(u)||this.setCell(u,h);else{this._combined={},this._extendedAttrs={};for(let u=0;u<this.length;++u)this.setCell(u,h)}}copyFrom(h){this.length!==h.length?this._data=new Uint32Array(h._data):this._data.set(h._data),this.length=h.length,this._combined={};for(const c in h._combined)this._combined[c]=h._combined[c];this._extendedAttrs={};for(const c in h._extendedAttrs)this._extendedAttrs[c]=h._extendedAttrs[c];this.isWrapped=h.isWrapped}clone(){const h=new S(0);h._data=new Uint32Array(this._data),h.length=this.length;for(const c in this._combined)h._combined[c]=this._combined[c];for(const c in this._extendedAttrs)h._extendedAttrs[c]=this._extendedAttrs[c];return h.isWrapped=this.isWrapped,h}getTrimmedLength(){for(let h=this.length-1;h>=0;--h)if(4194303&this._data[3*h+0])return h+(this._data[3*h+0]>>22);return 0}getNoBgTrimmedLength(){for(let h=this.length-1;h>=0;--h)if(4194303&this._data[3*h+0]||50331648&this._data[3*h+2])return h+(this._data[3*h+0]>>22);return 0}copyCellsFrom(h,c,u,_,b){const w=h._data;if(b)for(let x=_-1;x>=0;x--){for(let y=0;y<3;y++)this._data[3*(u+x)+y]=w[3*(c+x)+y];268435456&w[3*(c+x)+2]&&(this._extendedAttrs[u+x]=h._extendedAttrs[c+x])}else for(let x=0;x<_;x++){for(let y=0;y<3;y++)this._data[3*(u+x)+y]=w[3*(c+x)+y];268435456&w[3*(c+x)+2]&&(this._extendedAttrs[u+x]=h._extendedAttrs[c+x])}const C=Object.keys(h._combined);for(let x=0;x<C.length;x++){const y=parseInt(C[x],10);y>=c&&(this._combined[y-c+u]=h._combined[y])}}translateToString(h,c,u,_){c=c??0,u=u??this.length,h&&(u=Math.min(u,this.getTrimmedLength())),_&&(_.length=0);let b="";for(;c<u;){const w=this._data[3*c+0],C=2097151&w,x=2097152&w?this._combined[c]:C?(0,g.stringFromCodePoint)(C):a.WHITESPACE_CELL_CHAR;if(b+=x,_)for(let y=0;y<x.length;++y)_.push(c);c+=w>>22||1}return _&&_.push(c),b}}r.BufferLine=S},4841:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.getRangeLength=void 0,r.getRangeLength=function(o,l){if(o.start.y>o.end.y)throw new Error(`Buffer range end (${o.end.x}, ${o.end.y}) cannot be before start (${o.start.x}, ${o.start.y})`);return l*(o.end.y-o.start.y)+(o.end.x-o.start.x+1)}},4634:(p,r)=>{function o(l,f,a){if(f===l.length-1)return l[f].getTrimmedLength();const g=!l[f].hasContent(a-1)&&l[f].getWidth(a-1)===1,v=l[f+1].getWidth(0)===2;return g&&v?a-1:a}Object.defineProperty(r,"__esModule",{value:!0}),r.getWrappedLineTrimmedLength=r.reflowSmallerGetNewLineLengths=r.reflowLargerApplyNewLayout=r.reflowLargerCreateNewLayout=r.reflowLargerGetLinesToRemove=void 0,r.reflowLargerGetLinesToRemove=function(l,f,a,g,v){const S=[];for(let m=0;m<l.length-1;m++){let h=m,c=l.get(++h);if(!c.isWrapped)continue;const u=[l.get(m)];for(;h<l.length&&c.isWrapped;)u.push(c),c=l.get(++h);if(g>=m&&g<h){m+=u.length-1;continue}let _=0,b=o(u,_,f),w=1,C=0;for(;w<u.length;){const y=o(u,w,f),k=y-C,O=a-b,M=Math.min(k,O);u[_].copyCellsFrom(u[w],C,b,M,!1),b+=M,b===a&&(_++,b=0),C+=M,C===y&&(w++,C=0),b===0&&_!==0&&u[_-1].getWidth(a-1)===2&&(u[_].copyCellsFrom(u[_-1],a-1,b++,1,!1),u[_-1].setCell(a-1,v))}u[_].replaceCells(b,a,v);let x=0;for(let y=u.length-1;y>0&&(y>_||u[y].getTrimmedLength()===0);y--)x++;x>0&&(S.push(m+u.length-x),S.push(x)),m+=u.length-1}return S},r.reflowLargerCreateNewLayout=function(l,f){const a=[];let g=0,v=f[g],S=0;for(let m=0;m<l.length;m++)if(v===m){const h=f[++g];l.onDeleteEmitter.fire({index:m-S,amount:h}),m+=h-1,S+=h,v=f[++g]}else a.push(m);return{layout:a,countRemoved:S}},r.reflowLargerApplyNewLayout=function(l,f){const a=[];for(let g=0;g<f.length;g++)a.push(l.get(f[g]));for(let g=0;g<a.length;g++)l.set(g,a[g]);l.length=f.length},r.reflowSmallerGetNewLineLengths=function(l,f,a){const g=[],v=l.map(((c,u)=>o(l,u,f))).reduce(((c,u)=>c+u));let S=0,m=0,h=0;for(;h<v;){if(v-h<a){g.push(v-h);break}S+=a;const c=o(l,m,f);S>c&&(S-=c,m++);const u=l[m].getWidth(S-1)===2;u&&S--;const _=u?a-1:a;g.push(_),h+=_}return g},r.getWrappedLineTrimmedLength=o},5295:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferSet=void 0;const l=o(8460),f=o(844),a=o(9092);class g extends f.Disposable{constructor(S,m){super(),this._optionsService=S,this._bufferService=m,this._onBufferActivate=this.register(new l.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.resize(this._bufferService.cols,this._bufferService.rows)))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",(()=>this.setupTabStops())))}reset(){this._normal=new a.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new a.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(S){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(S),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(S,m){this._normal.resize(S,m),this._alt.resize(S,m),this.setupTabStops(S)}setupTabStops(S){this._normal.setupTabStops(S),this._alt.setupTabStops(S)}}r.BufferSet=g},511:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CellData=void 0;const l=o(482),f=o(643),a=o(3734);class g extends a.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new a.ExtendedAttrs,this.combinedData=""}static fromCharData(S){const m=new g;return m.setFromCharData(S),m}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,l.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(S){this.fg=S[f.CHAR_DATA_ATTR_INDEX],this.bg=0;let m=!1;if(S[f.CHAR_DATA_CHAR_INDEX].length>2)m=!0;else if(S[f.CHAR_DATA_CHAR_INDEX].length===2){const h=S[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=h&&h<=56319){const c=S[f.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=c&&c<=57343?this.content=1024*(h-55296)+c-56320+65536|S[f.CHAR_DATA_WIDTH_INDEX]<<22:m=!0}else m=!0}else this.content=S[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|S[f.CHAR_DATA_WIDTH_INDEX]<<22;m&&(this.combinedData=S[f.CHAR_DATA_CHAR_INDEX],this.content=2097152|S[f.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}r.CellData=g},643:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.WHITESPACE_CELL_CODE=r.WHITESPACE_CELL_WIDTH=r.WHITESPACE_CELL_CHAR=r.NULL_CELL_CODE=r.NULL_CELL_WIDTH=r.NULL_CELL_CHAR=r.CHAR_DATA_CODE_INDEX=r.CHAR_DATA_WIDTH_INDEX=r.CHAR_DATA_CHAR_INDEX=r.CHAR_DATA_ATTR_INDEX=r.DEFAULT_EXT=r.DEFAULT_ATTR=r.DEFAULT_COLOR=void 0,r.DEFAULT_COLOR=0,r.DEFAULT_ATTR=256|r.DEFAULT_COLOR<<9,r.DEFAULT_EXT=0,r.CHAR_DATA_ATTR_INDEX=0,r.CHAR_DATA_CHAR_INDEX=1,r.CHAR_DATA_WIDTH_INDEX=2,r.CHAR_DATA_CODE_INDEX=3,r.NULL_CELL_CHAR="",r.NULL_CELL_WIDTH=1,r.NULL_CELL_CODE=0,r.WHITESPACE_CELL_CHAR=" ",r.WHITESPACE_CELL_WIDTH=1,r.WHITESPACE_CELL_CODE=32},4863:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Marker=void 0;const l=o(8460),f=o(844);class a{get id(){return this._id}constructor(v){this.line=v,this.isDisposed=!1,this._disposables=[],this._id=a._nextId++,this._onDispose=this.register(new l.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,f.disposeArray)(this._disposables),this._disposables.length=0)}register(v){return this._disposables.push(v),v}}r.Marker=a,a._nextId=1},7116:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_CHARSET=r.CHARSETS=void 0,r.CHARSETS={},r.DEFAULT_CHARSET=r.CHARSETS.B,r.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},r.CHARSETS.A={"#":""},r.CHARSETS.B=void 0,r.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},r.CHARSETS.C=r.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},r.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},r.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},r.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},r.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},r.CHARSETS.E=r.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},r.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},r.CHARSETS.H=r.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},r.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(p,r)=>{var o,l,f;Object.defineProperty(r,"__esModule",{value:!0}),r.C1_ESCAPED=r.C1=r.C0=void 0,(function(a){a.NUL="\0",a.SOH="",a.STX="",a.ETX="",a.EOT="",a.ENQ="",a.ACK="",a.BEL="\x07",a.BS="\b",a.HT="	",a.LF=`
`,a.VT="\v",a.FF="\f",a.CR="\r",a.SO="",a.SI="",a.DLE="",a.DC1="",a.DC2="",a.DC3="",a.DC4="",a.NAK="",a.SYN="",a.ETB="",a.CAN="",a.EM="",a.SUB="",a.ESC="\x1B",a.FS="",a.GS="",a.RS="",a.US="",a.SP=" ",a.DEL=""})(o||(r.C0=o={})),(function(a){a.PAD="",a.HOP="",a.BPH="",a.NBH="",a.IND="",a.NEL="",a.SSA="",a.ESA="",a.HTS="",a.HTJ="",a.VTS="",a.PLD="",a.PLU="",a.RI="",a.SS2="",a.SS3="",a.DCS="",a.PU1="",a.PU2="",a.STS="",a.CCH="",a.MW="",a.SPA="",a.EPA="",a.SOS="",a.SGCI="",a.SCI="",a.CSI="",a.ST="",a.OSC="",a.PM="",a.APC=""})(l||(r.C1=l={})),(function(a){a.ST=`${o.ESC}\\`})(f||(r.C1_ESCAPED=f={}))},7399:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.evaluateKeyboardEvent=void 0;const l=o(2584),f={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};r.evaluateKeyboardEvent=function(a,g,v,S){const m={type:0,cancel:!1,key:void 0},h=(a.shiftKey?1:0)|(a.altKey?2:0)|(a.ctrlKey?4:0)|(a.metaKey?8:0);switch(a.keyCode){case 0:a.key==="UIKeyInputUpArrow"?m.key=g?l.C0.ESC+"OA":l.C0.ESC+"[A":a.key==="UIKeyInputLeftArrow"?m.key=g?l.C0.ESC+"OD":l.C0.ESC+"[D":a.key==="UIKeyInputRightArrow"?m.key=g?l.C0.ESC+"OC":l.C0.ESC+"[C":a.key==="UIKeyInputDownArrow"&&(m.key=g?l.C0.ESC+"OB":l.C0.ESC+"[B");break;case 8:m.key=a.ctrlKey?"\b":l.C0.DEL,a.altKey&&(m.key=l.C0.ESC+m.key);break;case 9:if(a.shiftKey){m.key=l.C0.ESC+"[Z";break}m.key=l.C0.HT,m.cancel=!0;break;case 13:m.key=a.altKey?l.C0.ESC+l.C0.CR:l.C0.CR,m.cancel=!0;break;case 27:m.key=l.C0.ESC,a.altKey&&(m.key=l.C0.ESC+l.C0.ESC),m.cancel=!0;break;case 37:if(a.metaKey)break;h?(m.key=l.C0.ESC+"[1;"+(h+1)+"D",m.key===l.C0.ESC+"[1;3D"&&(m.key=l.C0.ESC+(v?"b":"[1;5D"))):m.key=g?l.C0.ESC+"OD":l.C0.ESC+"[D";break;case 39:if(a.metaKey)break;h?(m.key=l.C0.ESC+"[1;"+(h+1)+"C",m.key===l.C0.ESC+"[1;3C"&&(m.key=l.C0.ESC+(v?"f":"[1;5C"))):m.key=g?l.C0.ESC+"OC":l.C0.ESC+"[C";break;case 38:if(a.metaKey)break;h?(m.key=l.C0.ESC+"[1;"+(h+1)+"A",v||m.key!==l.C0.ESC+"[1;3A"||(m.key=l.C0.ESC+"[1;5A")):m.key=g?l.C0.ESC+"OA":l.C0.ESC+"[A";break;case 40:if(a.metaKey)break;h?(m.key=l.C0.ESC+"[1;"+(h+1)+"B",v||m.key!==l.C0.ESC+"[1;3B"||(m.key=l.C0.ESC+"[1;5B")):m.key=g?l.C0.ESC+"OB":l.C0.ESC+"[B";break;case 45:a.shiftKey||a.ctrlKey||(m.key=l.C0.ESC+"[2~");break;case 46:m.key=h?l.C0.ESC+"[3;"+(h+1)+"~":l.C0.ESC+"[3~";break;case 36:m.key=h?l.C0.ESC+"[1;"+(h+1)+"H":g?l.C0.ESC+"OH":l.C0.ESC+"[H";break;case 35:m.key=h?l.C0.ESC+"[1;"+(h+1)+"F":g?l.C0.ESC+"OF":l.C0.ESC+"[F";break;case 33:a.shiftKey?m.type=2:a.ctrlKey?m.key=l.C0.ESC+"[5;"+(h+1)+"~":m.key=l.C0.ESC+"[5~";break;case 34:a.shiftKey?m.type=3:a.ctrlKey?m.key=l.C0.ESC+"[6;"+(h+1)+"~":m.key=l.C0.ESC+"[6~";break;case 112:m.key=h?l.C0.ESC+"[1;"+(h+1)+"P":l.C0.ESC+"OP";break;case 113:m.key=h?l.C0.ESC+"[1;"+(h+1)+"Q":l.C0.ESC+"OQ";break;case 114:m.key=h?l.C0.ESC+"[1;"+(h+1)+"R":l.C0.ESC+"OR";break;case 115:m.key=h?l.C0.ESC+"[1;"+(h+1)+"S":l.C0.ESC+"OS";break;case 116:m.key=h?l.C0.ESC+"[15;"+(h+1)+"~":l.C0.ESC+"[15~";break;case 117:m.key=h?l.C0.ESC+"[17;"+(h+1)+"~":l.C0.ESC+"[17~";break;case 118:m.key=h?l.C0.ESC+"[18;"+(h+1)+"~":l.C0.ESC+"[18~";break;case 119:m.key=h?l.C0.ESC+"[19;"+(h+1)+"~":l.C0.ESC+"[19~";break;case 120:m.key=h?l.C0.ESC+"[20;"+(h+1)+"~":l.C0.ESC+"[20~";break;case 121:m.key=h?l.C0.ESC+"[21;"+(h+1)+"~":l.C0.ESC+"[21~";break;case 122:m.key=h?l.C0.ESC+"[23;"+(h+1)+"~":l.C0.ESC+"[23~";break;case 123:m.key=h?l.C0.ESC+"[24;"+(h+1)+"~":l.C0.ESC+"[24~";break;default:if(!a.ctrlKey||a.shiftKey||a.altKey||a.metaKey)if(v&&!S||!a.altKey||a.metaKey)!v||a.altKey||a.ctrlKey||a.shiftKey||!a.metaKey?a.key&&!a.ctrlKey&&!a.altKey&&!a.metaKey&&a.keyCode>=48&&a.key.length===1?m.key=a.key:a.key&&a.ctrlKey&&(a.key==="_"&&(m.key=l.C0.US),a.key==="@"&&(m.key=l.C0.NUL)):a.keyCode===65&&(m.type=1);else{const c=f[a.keyCode],u=c?.[a.shiftKey?1:0];if(u)m.key=l.C0.ESC+u;else if(a.keyCode>=65&&a.keyCode<=90){const _=a.ctrlKey?a.keyCode-64:a.keyCode+32;let b=String.fromCharCode(_);a.shiftKey&&(b=b.toUpperCase()),m.key=l.C0.ESC+b}else if(a.keyCode===32)m.key=l.C0.ESC+(a.ctrlKey?l.C0.NUL:" ");else if(a.key==="Dead"&&a.code.startsWith("Key")){let _=a.code.slice(3,4);a.shiftKey||(_=_.toLowerCase()),m.key=l.C0.ESC+_,m.cancel=!0}}else a.keyCode>=65&&a.keyCode<=90?m.key=String.fromCharCode(a.keyCode-64):a.keyCode===32?m.key=l.C0.NUL:a.keyCode>=51&&a.keyCode<=55?m.key=String.fromCharCode(a.keyCode-51+27):a.keyCode===56?m.key=l.C0.DEL:a.keyCode===219?m.key=l.C0.ESC:a.keyCode===220?m.key=l.C0.FS:a.keyCode===221&&(m.key=l.C0.GS)}return m}},482:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Utf8ToUtf32=r.StringToUtf32=r.utf32ToString=r.stringFromCodePoint=void 0,r.stringFromCodePoint=function(o){return o>65535?(o-=65536,String.fromCharCode(55296+(o>>10))+String.fromCharCode(o%1024+56320)):String.fromCharCode(o)},r.utf32ToString=function(o,l=0,f=o.length){let a="";for(let g=l;g<f;++g){let v=o[g];v>65535?(v-=65536,a+=String.fromCharCode(55296+(v>>10))+String.fromCharCode(v%1024+56320)):a+=String.fromCharCode(v)}return a},r.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(o,l){const f=o.length;if(!f)return 0;let a=0,g=0;if(this._interim){const v=o.charCodeAt(g++);56320<=v&&v<=57343?l[a++]=1024*(this._interim-55296)+v-56320+65536:(l[a++]=this._interim,l[a++]=v),this._interim=0}for(let v=g;v<f;++v){const S=o.charCodeAt(v);if(55296<=S&&S<=56319){if(++v>=f)return this._interim=S,a;const m=o.charCodeAt(v);56320<=m&&m<=57343?l[a++]=1024*(S-55296)+m-56320+65536:(l[a++]=S,l[a++]=m)}else S!==65279&&(l[a++]=S)}return a}},r.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(o,l){const f=o.length;if(!f)return 0;let a,g,v,S,m=0,h=0,c=0;if(this.interim[0]){let b=!1,w=this.interim[0];w&=(224&w)==192?31:(240&w)==224?15:7;let C,x=0;for(;(C=63&this.interim[++x])&&x<4;)w<<=6,w|=C;const y=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,k=y-x;for(;c<k;){if(c>=f)return 0;if(C=o[c++],(192&C)!=128){c--,b=!0;break}this.interim[x++]=C,w<<=6,w|=63&C}b||(y===2?w<128?c--:l[m++]=w:y===3?w<2048||w>=55296&&w<=57343||w===65279||(l[m++]=w):w<65536||w>1114111||(l[m++]=w)),this.interim.fill(0)}const u=f-4;let _=c;for(;_<f;){for(;!(!(_<u)||128&(a=o[_])||128&(g=o[_+1])||128&(v=o[_+2])||128&(S=o[_+3]));)l[m++]=a,l[m++]=g,l[m++]=v,l[m++]=S,_+=4;if(a=o[_++],a<128)l[m++]=a;else if((224&a)==192){if(_>=f)return this.interim[0]=a,m;if(g=o[_++],(192&g)!=128){_--;continue}if(h=(31&a)<<6|63&g,h<128){_--;continue}l[m++]=h}else if((240&a)==224){if(_>=f)return this.interim[0]=a,m;if(g=o[_++],(192&g)!=128){_--;continue}if(_>=f)return this.interim[0]=a,this.interim[1]=g,m;if(v=o[_++],(192&v)!=128){_--;continue}if(h=(15&a)<<12|(63&g)<<6|63&v,h<2048||h>=55296&&h<=57343||h===65279)continue;l[m++]=h}else if((248&a)==240){if(_>=f)return this.interim[0]=a,m;if(g=o[_++],(192&g)!=128){_--;continue}if(_>=f)return this.interim[0]=a,this.interim[1]=g,m;if(v=o[_++],(192&v)!=128){_--;continue}if(_>=f)return this.interim[0]=a,this.interim[1]=g,this.interim[2]=v,m;if(S=o[_++],(192&S)!=128){_--;continue}if(h=(7&a)<<18|(63&g)<<12|(63&v)<<6|63&S,h<65536||h>1114111)continue;l[m++]=h}}return m}}},225:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.UnicodeV6=void 0;const l=o(1480),f=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],a=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let g;r.UnicodeV6=class{constructor(){if(this.version="6",!g){g=new Uint8Array(65536),g.fill(1),g[0]=0,g.fill(0,1,32),g.fill(0,127,160),g.fill(2,4352,4448),g[9001]=2,g[9002]=2,g.fill(2,11904,42192),g[12351]=1,g.fill(2,44032,55204),g.fill(2,63744,64256),g.fill(2,65040,65050),g.fill(2,65072,65136),g.fill(2,65280,65377),g.fill(2,65504,65511);for(let v=0;v<f.length;++v)g.fill(0,f[v][0],f[v][1]+1)}}wcwidth(v){return v<32?0:v<127?1:v<65536?g[v]:(function(S,m){let h,c=0,u=m.length-1;if(S<m[0][0]||S>m[u][1])return!1;for(;u>=c;)if(h=c+u>>1,S>m[h][1])c=h+1;else{if(!(S<m[h][0]))return!0;u=h-1}return!1})(v,a)?0:v>=131072&&v<=196605||v>=196608&&v<=262141?2:1}charProperties(v,S){let m=this.wcwidth(v),h=m===0&&S!==0;if(h){const c=l.UnicodeService.extractWidth(S);c===0?h=!1:c>m&&(m=c)}return l.UnicodeService.createPropertyValue(0,m,h)}}},5981:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.WriteBuffer=void 0;const l=o(8460),f=o(844);class a extends f.Disposable{constructor(v){super(),this._action=v,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new l.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(v,S){if(S!==void 0&&this._syncCalls>S)return void(this._syncCalls=0);if(this._pendingData+=v.length,this._writeBuffer.push(v),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let m;for(this._isSyncWriting=!0;m=this._writeBuffer.shift();){this._action(m);const h=this._callbacks.shift();h&&h()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(v,S){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=v.length,this._writeBuffer.push(v),this._callbacks.push(S),void this._innerWrite();setTimeout((()=>this._innerWrite()))}this._pendingData+=v.length,this._writeBuffer.push(v),this._callbacks.push(S)}_innerWrite(v=0,S=!0){const m=v||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const h=this._writeBuffer[this._bufferOffset],c=this._action(h,S);if(c){const _=b=>Date.now()-m>=12?setTimeout((()=>this._innerWrite(0,b))):this._innerWrite(m,b);return void c.catch((b=>(queueMicrotask((()=>{throw b})),Promise.resolve(!1)))).then(_)}const u=this._callbacks[this._bufferOffset];if(u&&u(),this._bufferOffset++,this._pendingData-=h.length,Date.now()-m>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((()=>this._innerWrite()))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}r.WriteBuffer=a},5941:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.toRgbString=r.parseColor=void 0;const o=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,l=/^[\da-f]+$/;function f(a,g){const v=a.toString(16),S=v.length<2?"0"+v:v;switch(g){case 4:return v[0];case 8:return S;case 12:return(S+S).slice(0,3);default:return S+S}}r.parseColor=function(a){if(!a)return;let g=a.toLowerCase();if(g.indexOf("rgb:")===0){g=g.slice(4);const v=o.exec(g);if(v){const S=v[1]?15:v[4]?255:v[7]?4095:65535;return[Math.round(parseInt(v[1]||v[4]||v[7]||v[10],16)/S*255),Math.round(parseInt(v[2]||v[5]||v[8]||v[11],16)/S*255),Math.round(parseInt(v[3]||v[6]||v[9]||v[12],16)/S*255)]}}else if(g.indexOf("#")===0&&(g=g.slice(1),l.exec(g)&&[3,6,9,12].includes(g.length))){const v=g.length/3,S=[0,0,0];for(let m=0;m<3;++m){const h=parseInt(g.slice(v*m,v*m+v),16);S[m]=v===1?h<<4:v===2?h:v===3?h>>4:h>>8}return S}},r.toRgbString=function(a,g=16){const[v,S,m]=a;return`rgb:${f(v,g)}/${f(S,g)}/${f(m,g)}`}},5770:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PAYLOAD_LIMIT=void 0,r.PAYLOAD_LIMIT=1e7},6351:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DcsHandler=r.DcsParser=void 0;const l=o(482),f=o(8742),a=o(5770),g=[];r.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=g,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=g}registerHandler(S,m){this._handlers[S]===void 0&&(this._handlers[S]=[]);const h=this._handlers[S];return h.push(m),{dispose:()=>{const c=h.indexOf(m);c!==-1&&h.splice(c,1)}}}clearHandler(S){this._handlers[S]&&delete this._handlers[S]}setHandlerFallback(S){this._handlerFb=S}reset(){if(this._active.length)for(let S=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;S>=0;--S)this._active[S].unhook(!1);this._stack.paused=!1,this._active=g,this._ident=0}hook(S,m){if(this.reset(),this._ident=S,this._active=this._handlers[S]||g,this._active.length)for(let h=this._active.length-1;h>=0;h--)this._active[h].hook(m);else this._handlerFb(this._ident,"HOOK",m)}put(S,m,h){if(this._active.length)for(let c=this._active.length-1;c>=0;c--)this._active[c].put(S,m,h);else this._handlerFb(this._ident,"PUT",(0,l.utf32ToString)(S,m,h))}unhook(S,m=!0){if(this._active.length){let h=!1,c=this._active.length-1,u=!1;if(this._stack.paused&&(c=this._stack.loopPosition-1,h=m,u=this._stack.fallThrough,this._stack.paused=!1),!u&&h===!1){for(;c>=0&&(h=this._active[c].unhook(S),h!==!0);c--)if(h instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=c,this._stack.fallThrough=!1,h;c--}for(;c>=0;c--)if(h=this._active[c].unhook(!1),h instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=c,this._stack.fallThrough=!0,h}else this._handlerFb(this._ident,"UNHOOK",S);this._active=g,this._ident=0}};const v=new f.Params;v.addParam(0),r.DcsHandler=class{constructor(S){this._handler=S,this._data="",this._params=v,this._hitLimit=!1}hook(S){this._params=S.length>1||S.params[0]?S.clone():v,this._data="",this._hitLimit=!1}put(S,m,h){this._hitLimit||(this._data+=(0,l.utf32ToString)(S,m,h),this._data.length>a.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(S){let m=!1;if(this._hitLimit)m=!1;else if(S&&(m=this._handler(this._data,this._params),m instanceof Promise))return m.then((h=>(this._params=v,this._data="",this._hitLimit=!1,h)));return this._params=v,this._data="",this._hitLimit=!1,m}}},2015:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.EscapeSequenceParser=r.VT500_TRANSITION_TABLE=r.TransitionTable=void 0;const l=o(844),f=o(8742),a=o(6242),g=o(6351);class v{constructor(c){this.table=new Uint8Array(c)}setDefault(c,u){this.table.fill(c<<4|u)}add(c,u,_,b){this.table[u<<8|c]=_<<4|b}addMany(c,u,_,b){for(let w=0;w<c.length;w++)this.table[u<<8|c[w]]=_<<4|b}}r.TransitionTable=v;const S=160;r.VT500_TRANSITION_TABLE=(function(){const h=new v(4095),c=Array.apply(null,Array(256)).map(((x,y)=>y)),u=(x,y)=>c.slice(x,y),_=u(32,127),b=u(0,24);b.push(25),b.push.apply(b,u(28,32));const w=u(0,14);let C;for(C in h.setDefault(1,0),h.addMany(_,0,2,0),w)h.addMany([24,26,153,154],C,3,0),h.addMany(u(128,144),C,3,0),h.addMany(u(144,152),C,3,0),h.add(156,C,0,0),h.add(27,C,11,1),h.add(157,C,4,8),h.addMany([152,158,159],C,0,7),h.add(155,C,11,3),h.add(144,C,11,9);return h.addMany(b,0,3,0),h.addMany(b,1,3,1),h.add(127,1,0,1),h.addMany(b,8,0,8),h.addMany(b,3,3,3),h.add(127,3,0,3),h.addMany(b,4,3,4),h.add(127,4,0,4),h.addMany(b,6,3,6),h.addMany(b,5,3,5),h.add(127,5,0,5),h.addMany(b,2,3,2),h.add(127,2,0,2),h.add(93,1,4,8),h.addMany(_,8,5,8),h.add(127,8,5,8),h.addMany([156,27,24,26,7],8,6,0),h.addMany(u(28,32),8,0,8),h.addMany([88,94,95],1,0,7),h.addMany(_,7,0,7),h.addMany(b,7,0,7),h.add(156,7,0,0),h.add(127,7,0,7),h.add(91,1,11,3),h.addMany(u(64,127),3,7,0),h.addMany(u(48,60),3,8,4),h.addMany([60,61,62,63],3,9,4),h.addMany(u(48,60),4,8,4),h.addMany(u(64,127),4,7,0),h.addMany([60,61,62,63],4,0,6),h.addMany(u(32,64),6,0,6),h.add(127,6,0,6),h.addMany(u(64,127),6,0,0),h.addMany(u(32,48),3,9,5),h.addMany(u(32,48),5,9,5),h.addMany(u(48,64),5,0,6),h.addMany(u(64,127),5,7,0),h.addMany(u(32,48),4,9,5),h.addMany(u(32,48),1,9,2),h.addMany(u(32,48),2,9,2),h.addMany(u(48,127),2,10,0),h.addMany(u(48,80),1,10,0),h.addMany(u(81,88),1,10,0),h.addMany([89,90,92],1,10,0),h.addMany(u(96,127),1,10,0),h.add(80,1,11,9),h.addMany(b,9,0,9),h.add(127,9,0,9),h.addMany(u(28,32),9,0,9),h.addMany(u(32,48),9,9,12),h.addMany(u(48,60),9,8,10),h.addMany([60,61,62,63],9,9,10),h.addMany(b,11,0,11),h.addMany(u(32,128),11,0,11),h.addMany(u(28,32),11,0,11),h.addMany(b,10,0,10),h.add(127,10,0,10),h.addMany(u(28,32),10,0,10),h.addMany(u(48,60),10,8,10),h.addMany([60,61,62,63],10,0,11),h.addMany(u(32,48),10,9,12),h.addMany(b,12,0,12),h.add(127,12,0,12),h.addMany(u(28,32),12,0,12),h.addMany(u(32,48),12,9,12),h.addMany(u(48,64),12,0,11),h.addMany(u(64,127),12,12,13),h.addMany(u(64,127),10,12,13),h.addMany(u(64,127),9,12,13),h.addMany(b,13,13,13),h.addMany(_,13,13,13),h.add(127,13,0,13),h.addMany([27,156,24,26],13,14,0),h.add(S,0,2,0),h.add(S,8,5,8),h.add(S,6,0,6),h.add(S,11,0,11),h.add(S,13,13,13),h})();class m extends l.Disposable{constructor(c=r.VT500_TRANSITION_TABLE){super(),this._transitions=c,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new f.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(u,_,b)=>{},this._executeHandlerFb=u=>{},this._csiHandlerFb=(u,_)=>{},this._escHandlerFb=u=>{},this._errorHandlerFb=u=>u,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,l.toDisposable)((()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)}))),this._oscParser=this.register(new a.OscParser),this._dcsParser=this.register(new g.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},(()=>!0))}_identifier(c,u=[64,126]){let _=0;if(c.prefix){if(c.prefix.length>1)throw new Error("only one byte as prefix supported");if(_=c.prefix.charCodeAt(0),_&&60>_||_>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(c.intermediates){if(c.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let w=0;w<c.intermediates.length;++w){const C=c.intermediates.charCodeAt(w);if(32>C||C>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");_<<=8,_|=C}}if(c.final.length!==1)throw new Error("final must be a single byte");const b=c.final.charCodeAt(0);if(u[0]>b||b>u[1])throw new Error(`final must be in range ${u[0]} .. ${u[1]}`);return _<<=8,_|=b,_}identToString(c){const u=[];for(;c;)u.push(String.fromCharCode(255&c)),c>>=8;return u.reverse().join("")}setPrintHandler(c){this._printHandler=c}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(c,u){const _=this._identifier(c,[48,126]);this._escHandlers[_]===void 0&&(this._escHandlers[_]=[]);const b=this._escHandlers[_];return b.push(u),{dispose:()=>{const w=b.indexOf(u);w!==-1&&b.splice(w,1)}}}clearEscHandler(c){this._escHandlers[this._identifier(c,[48,126])]&&delete this._escHandlers[this._identifier(c,[48,126])]}setEscHandlerFallback(c){this._escHandlerFb=c}setExecuteHandler(c,u){this._executeHandlers[c.charCodeAt(0)]=u}clearExecuteHandler(c){this._executeHandlers[c.charCodeAt(0)]&&delete this._executeHandlers[c.charCodeAt(0)]}setExecuteHandlerFallback(c){this._executeHandlerFb=c}registerCsiHandler(c,u){const _=this._identifier(c);this._csiHandlers[_]===void 0&&(this._csiHandlers[_]=[]);const b=this._csiHandlers[_];return b.push(u),{dispose:()=>{const w=b.indexOf(u);w!==-1&&b.splice(w,1)}}}clearCsiHandler(c){this._csiHandlers[this._identifier(c)]&&delete this._csiHandlers[this._identifier(c)]}setCsiHandlerFallback(c){this._csiHandlerFb=c}registerDcsHandler(c,u){return this._dcsParser.registerHandler(this._identifier(c),u)}clearDcsHandler(c){this._dcsParser.clearHandler(this._identifier(c))}setDcsHandlerFallback(c){this._dcsParser.setHandlerFallback(c)}registerOscHandler(c,u){return this._oscParser.registerHandler(c,u)}clearOscHandler(c){this._oscParser.clearHandler(c)}setOscHandlerFallback(c){this._oscParser.setHandlerFallback(c)}setErrorHandler(c){this._errorHandler=c}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(c,u,_,b,w){this._parseStack.state=c,this._parseStack.handlers=u,this._parseStack.handlerPos=_,this._parseStack.transition=b,this._parseStack.chunkPos=w}parse(c,u,_){let b,w=0,C=0,x=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,x=this._parseStack.chunkPos+1;else{if(_===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const y=this._parseStack.handlers;let k=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(_===!1&&k>-1){for(;k>=0&&(b=y[k](this._params),b!==!0);k--)if(b instanceof Promise)return this._parseStack.handlerPos=k,b}this._parseStack.handlers=[];break;case 4:if(_===!1&&k>-1){for(;k>=0&&(b=y[k](),b!==!0);k--)if(b instanceof Promise)return this._parseStack.handlerPos=k,b}this._parseStack.handlers=[];break;case 6:if(w=c[this._parseStack.chunkPos],b=this._dcsParser.unhook(w!==24&&w!==26,_),b)return b;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(w=c[this._parseStack.chunkPos],b=this._oscParser.end(w!==24&&w!==26,_),b)return b;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,x=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let y=x;y<u;++y){switch(w=c[y],C=this._transitions.table[this.currentState<<8|(w<160?w:S)],C>>4){case 2:for(let L=y+1;;++L){if(L>=u||(w=c[L])<32||w>126&&w<S){this._printHandler(c,y,L),y=L-1;break}if(++L>=u||(w=c[L])<32||w>126&&w<S){this._printHandler(c,y,L),y=L-1;break}if(++L>=u||(w=c[L])<32||w>126&&w<S){this._printHandler(c,y,L),y=L-1;break}if(++L>=u||(w=c[L])<32||w>126&&w<S){this._printHandler(c,y,L),y=L-1;break}}break;case 3:this._executeHandlers[w]?this._executeHandlers[w]():this._executeHandlerFb(w),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:y,code:w,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const k=this._csiHandlers[this._collect<<8|w];let O=k?k.length-1:-1;for(;O>=0&&(b=k[O](this._params),b!==!0);O--)if(b instanceof Promise)return this._preserveStack(3,k,O,C,y),b;O<0&&this._csiHandlerFb(this._collect<<8|w,this._params),this.precedingJoinState=0;break;case 8:do switch(w){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(w-48)}while(++y<u&&(w=c[y])>47&&w<60);y--;break;case 9:this._collect<<=8,this._collect|=w;break;case 10:const M=this._escHandlers[this._collect<<8|w];let B=M?M.length-1:-1;for(;B>=0&&(b=M[B](),b!==!0);B--)if(b instanceof Promise)return this._preserveStack(4,M,B,C,y),b;B<0&&this._escHandlerFb(this._collect<<8|w),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|w,this._params);break;case 13:for(let L=y+1;;++L)if(L>=u||(w=c[L])===24||w===26||w===27||w>127&&w<S){this._dcsParser.put(c,y,L),y=L-1;break}break;case 14:if(b=this._dcsParser.unhook(w!==24&&w!==26),b)return this._preserveStack(6,[],0,C,y),b;w===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let L=y+1;;L++)if(L>=u||(w=c[L])<32||w>127&&w<S){this._oscParser.put(c,y,L),y=L-1;break}break;case 6:if(b=this._oscParser.end(w!==24&&w!==26),b)return this._preserveStack(5,[],0,C,y),b;w===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&C}}}r.EscapeSequenceParser=m},6242:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.OscHandler=r.OscParser=void 0;const l=o(5770),f=o(482),a=[];r.OscParser=class{constructor(){this._state=0,this._active=a,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(g,v){this._handlers[g]===void 0&&(this._handlers[g]=[]);const S=this._handlers[g];return S.push(v),{dispose:()=>{const m=S.indexOf(v);m!==-1&&S.splice(m,1)}}}clearHandler(g){this._handlers[g]&&delete this._handlers[g]}setHandlerFallback(g){this._handlerFb=g}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=a}reset(){if(this._state===2)for(let g=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;g>=0;--g)this._active[g].end(!1);this._stack.paused=!1,this._active=a,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||a,this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].start();else this._handlerFb(this._id,"START")}_put(g,v,S){if(this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].put(g,v,S);else this._handlerFb(this._id,"PUT",(0,f.utf32ToString)(g,v,S))}start(){this.reset(),this._state=1}put(g,v,S){if(this._state!==3){if(this._state===1)for(;v<S;){const m=g[v++];if(m===59){this._state=2,this._start();break}if(m<48||57<m)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+m-48}this._state===2&&S-v>0&&this._put(g,v,S)}}end(g,v=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let S=!1,m=this._active.length-1,h=!1;if(this._stack.paused&&(m=this._stack.loopPosition-1,S=v,h=this._stack.fallThrough,this._stack.paused=!1),!h&&S===!1){for(;m>=0&&(S=this._active[m].end(g),S!==!0);m--)if(S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=m,this._stack.fallThrough=!1,S;m--}for(;m>=0;m--)if(S=this._active[m].end(!1),S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=m,this._stack.fallThrough=!0,S}else this._handlerFb(this._id,"END",g);this._active=a,this._id=-1,this._state=0}}},r.OscHandler=class{constructor(g){this._handler=g,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(g,v,S){this._hitLimit||(this._data+=(0,f.utf32ToString)(g,v,S),this._data.length>l.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(g){let v=!1;if(this._hitLimit)v=!1;else if(g&&(v=this._handler(this._data),v instanceof Promise))return v.then((S=>(this._data="",this._hitLimit=!1,S)));return this._data="",this._hitLimit=!1,v}}},8742:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Params=void 0;const o=2147483647;class l{static fromArray(a){const g=new l;if(!a.length)return g;for(let v=Array.isArray(a[0])?1:0;v<a.length;++v){const S=a[v];if(Array.isArray(S))for(let m=0;m<S.length;++m)g.addSubParam(S[m]);else g.addParam(S)}return g}constructor(a=32,g=32){if(this.maxLength=a,this.maxSubParamsLength=g,g>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(a),this.length=0,this._subParams=new Int32Array(g),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(a),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const a=new l(this.maxLength,this.maxSubParamsLength);return a.params.set(this.params),a.length=this.length,a._subParams.set(this._subParams),a._subParamsLength=this._subParamsLength,a._subParamsIdx.set(this._subParamsIdx),a._rejectDigits=this._rejectDigits,a._rejectSubDigits=this._rejectSubDigits,a._digitIsSub=this._digitIsSub,a}toArray(){const a=[];for(let g=0;g<this.length;++g){a.push(this.params[g]);const v=this._subParamsIdx[g]>>8,S=255&this._subParamsIdx[g];S-v>0&&a.push(Array.prototype.slice.call(this._subParams,v,S))}return a}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(a){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(a<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=a>o?o:a}}addSubParam(a){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(a<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=a>o?o:a,this._subParamsIdx[this.length-1]++}}hasSubParams(a){return(255&this._subParamsIdx[a])-(this._subParamsIdx[a]>>8)>0}getSubParams(a){const g=this._subParamsIdx[a]>>8,v=255&this._subParamsIdx[a];return v-g>0?this._subParams.subarray(g,v):null}getSubParamsAll(){const a={};for(let g=0;g<this.length;++g){const v=this._subParamsIdx[g]>>8,S=255&this._subParamsIdx[g];S-v>0&&(a[g]=this._subParams.slice(v,S))}return a}addDigit(a){let g;if(this._rejectDigits||!(g=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const v=this._digitIsSub?this._subParams:this.params,S=v[g-1];v[g-1]=~S?Math.min(10*S+a,o):a}}r.Params=l},5741:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.AddonManager=void 0,r.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let o=this._addons.length-1;o>=0;o--)this._addons[o].instance.dispose()}loadAddon(o,l){const f={instance:l,dispose:l.dispose,isDisposed:!1};this._addons.push(f),l.dispose=()=>this._wrappedAddonDispose(f),l.activate(o)}_wrappedAddonDispose(o){if(o.isDisposed)return;let l=-1;for(let f=0;f<this._addons.length;f++)if(this._addons[f]===o){l=f;break}if(l===-1)throw new Error("Could not dispose an addon that has not been loaded");o.isDisposed=!0,o.dispose.apply(o.instance),this._addons.splice(l,1)}}},8771:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferApiView=void 0;const l=o(3785),f=o(511);r.BufferApiView=class{constructor(a,g){this._buffer=a,this.type=g}init(a){return this._buffer=a,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(a){const g=this._buffer.lines.get(a);if(g)return new l.BufferLineApiView(g)}getNullCell(){return new f.CellData}}},3785:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferLineApiView=void 0;const l=o(511);r.BufferLineApiView=class{constructor(f){this._line=f}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(f,a){if(!(f<0||f>=this._line.length))return a?(this._line.loadCell(f,a),a):this._line.loadCell(f,new l.CellData)}translateToString(f,a,g){return this._line.translateToString(f,a,g)}}},8285:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferNamespaceApi=void 0;const l=o(8771),f=o(8460),a=o(844);class g extends a.Disposable{constructor(S){super(),this._core=S,this._onBufferChange=this.register(new f.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new l.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new l.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((()=>this._onBufferChange.fire(this.active)))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}r.BufferNamespaceApi=g},7975:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ParserApi=void 0,r.ParserApi=class{constructor(o){this._core=o}registerCsiHandler(o,l){return this._core.registerCsiHandler(o,(f=>l(f.toArray())))}addCsiHandler(o,l){return this.registerCsiHandler(o,l)}registerDcsHandler(o,l){return this._core.registerDcsHandler(o,((f,a)=>l(f,a.toArray())))}addDcsHandler(o,l){return this.registerDcsHandler(o,l)}registerEscHandler(o,l){return this._core.registerEscHandler(o,l)}addEscHandler(o,l){return this.registerEscHandler(o,l)}registerOscHandler(o,l){return this._core.registerOscHandler(o,l)}addOscHandler(o,l){return this.registerOscHandler(o,l)}}},7090:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.UnicodeApi=void 0,r.UnicodeApi=class{constructor(o){this._core=o}register(o){this._core.unicodeService.register(o)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(o){this._core.unicodeService.activeVersion=o}}},744:function(p,r,o){var l=this&&this.__decorate||function(h,c,u,_){var b,w=arguments.length,C=w<3?c:_===null?_=Object.getOwnPropertyDescriptor(c,u):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(h,c,u,_);else for(var x=h.length-1;x>=0;x--)(b=h[x])&&(C=(w<3?b(C):w>3?b(c,u,C):b(c,u))||C);return w>3&&C&&Object.defineProperty(c,u,C),C},f=this&&this.__param||function(h,c){return function(u,_){c(u,_,h)}};Object.defineProperty(r,"__esModule",{value:!0}),r.BufferService=r.MINIMUM_ROWS=r.MINIMUM_COLS=void 0;const a=o(8460),g=o(844),v=o(5295),S=o(2585);r.MINIMUM_COLS=2,r.MINIMUM_ROWS=1;let m=r.BufferService=class extends g.Disposable{get buffer(){return this.buffers.active}constructor(h){super(),this.isUserScrolling=!1,this._onResize=this.register(new a.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new a.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(h.rawOptions.cols||0,r.MINIMUM_COLS),this.rows=Math.max(h.rawOptions.rows||0,r.MINIMUM_ROWS),this.buffers=this.register(new v.BufferSet(h,this))}resize(h,c){this.cols=h,this.rows=c,this.buffers.resize(h,c),this._onResize.fire({cols:h,rows:c})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(h,c=!1){const u=this.buffer;let _;_=this._cachedBlankLine,_&&_.length===this.cols&&_.getFg(0)===h.fg&&_.getBg(0)===h.bg||(_=u.getBlankLine(h,c),this._cachedBlankLine=_),_.isWrapped=c;const b=u.ybase+u.scrollTop,w=u.ybase+u.scrollBottom;if(u.scrollTop===0){const C=u.lines.isFull;w===u.lines.length-1?C?u.lines.recycle().copyFrom(_):u.lines.push(_.clone()):u.lines.splice(w+1,0,_.clone()),C?this.isUserScrolling&&(u.ydisp=Math.max(u.ydisp-1,0)):(u.ybase++,this.isUserScrolling||u.ydisp++)}else{const C=w-b+1;u.lines.shiftElements(b+1,C-1,-1),u.lines.set(w,_.clone())}this.isUserScrolling||(u.ydisp=u.ybase),this._onScroll.fire(u.ydisp)}scrollLines(h,c,u){const _=this.buffer;if(h<0){if(_.ydisp===0)return;this.isUserScrolling=!0}else h+_.ydisp>=_.ybase&&(this.isUserScrolling=!1);const b=_.ydisp;_.ydisp=Math.max(Math.min(_.ydisp+h,_.ybase),0),b!==_.ydisp&&(c||this._onScroll.fire(_.ydisp))}};r.BufferService=m=l([f(0,S.IOptionsService)],m)},7994:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CharsetService=void 0,r.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(o){this.glevel=o,this.charset=this._charsets[o]}setgCharset(o,l){this._charsets[o]=l,this.glevel===o&&(this.charset=l)}}},1753:function(p,r,o){var l=this&&this.__decorate||function(_,b,w,C){var x,y=arguments.length,k=y<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,w):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(_,b,w,C);else for(var O=_.length-1;O>=0;O--)(x=_[O])&&(k=(y<3?x(k):y>3?x(b,w,k):x(b,w))||k);return y>3&&k&&Object.defineProperty(b,w,k),k},f=this&&this.__param||function(_,b){return function(w,C){b(w,C,_)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CoreMouseService=void 0;const a=o(2585),g=o(8460),v=o(844),S={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:_=>_.button!==4&&_.action===1&&(_.ctrl=!1,_.alt=!1,_.shift=!1,!0)},VT200:{events:19,restrict:_=>_.action!==32},DRAG:{events:23,restrict:_=>_.action!==32||_.button!==3},ANY:{events:31,restrict:_=>!0}};function m(_,b){let w=(_.ctrl?16:0)|(_.shift?4:0)|(_.alt?8:0);return _.button===4?(w|=64,w|=_.action):(w|=3&_.button,4&_.button&&(w|=64),8&_.button&&(w|=128),_.action===32?w|=32:_.action!==0||b||(w|=3)),w}const h=String.fromCharCode,c={DEFAULT:_=>{const b=[m(_,!1)+32,_.col+32,_.row+32];return b[0]>255||b[1]>255||b[2]>255?"":`\x1B[M${h(b[0])}${h(b[1])}${h(b[2])}`},SGR:_=>{const b=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${m(_,!0)};${_.col};${_.row}${b}`},SGR_PIXELS:_=>{const b=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${m(_,!0)};${_.x};${_.y}${b}`}};let u=r.CoreMouseService=class extends v.Disposable{constructor(_,b){super(),this._bufferService=_,this._coreService=b,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new g.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const w of Object.keys(S))this.addProtocol(w,S[w]);for(const w of Object.keys(c))this.addEncoding(w,c[w]);this.reset()}addProtocol(_,b){this._protocols[_]=b}addEncoding(_,b){this._encodings[_]=b}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(_){if(!this._protocols[_])throw new Error(`unknown protocol "${_}"`);this._activeProtocol=_,this._onProtocolChange.fire(this._protocols[_].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(_){if(!this._encodings[_])throw new Error(`unknown encoding "${_}"`);this._activeEncoding=_}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(_){if(_.col<0||_.col>=this._bufferService.cols||_.row<0||_.row>=this._bufferService.rows||_.button===4&&_.action===32||_.button===3&&_.action!==32||_.button!==4&&(_.action===2||_.action===3)||(_.col++,_.row++,_.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,_,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(_))return!1;const b=this._encodings[this._activeEncoding](_);return b&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(b):this._coreService.triggerDataEvent(b,!0)),this._lastEvent=_,!0}explainEvents(_){return{down:!!(1&_),up:!!(2&_),drag:!!(4&_),move:!!(8&_),wheel:!!(16&_)}}_equalEvents(_,b,w){if(w){if(_.x!==b.x||_.y!==b.y)return!1}else if(_.col!==b.col||_.row!==b.row)return!1;return _.button===b.button&&_.action===b.action&&_.ctrl===b.ctrl&&_.alt===b.alt&&_.shift===b.shift}};r.CoreMouseService=u=l([f(0,a.IBufferService),f(1,a.ICoreService)],u)},6975:function(p,r,o){var l=this&&this.__decorate||function(u,_,b,w){var C,x=arguments.length,y=x<3?_:w===null?w=Object.getOwnPropertyDescriptor(_,b):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(u,_,b,w);else for(var k=u.length-1;k>=0;k--)(C=u[k])&&(y=(x<3?C(y):x>3?C(_,b,y):C(_,b))||y);return x>3&&y&&Object.defineProperty(_,b,y),y},f=this&&this.__param||function(u,_){return function(b,w){_(b,w,u)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CoreService=void 0;const a=o(1439),g=o(8460),v=o(844),S=o(2585),m=Object.freeze({insertMode:!1}),h=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let c=r.CoreService=class extends v.Disposable{constructor(u,_,b){super(),this._bufferService=u,this._logService=_,this._optionsService=b,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new g.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new g.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new g.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new g.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,a.clone)(m),this.decPrivateModes=(0,a.clone)(h)}reset(){this.modes=(0,a.clone)(m),this.decPrivateModes=(0,a.clone)(h)}triggerDataEvent(u,_=!1){if(this._optionsService.rawOptions.disableStdin)return;const b=this._bufferService.buffer;_&&this._optionsService.rawOptions.scrollOnUserInput&&b.ybase!==b.ydisp&&this._onRequestScrollToBottom.fire(),_&&this._onUserInput.fire(),this._logService.debug(`sending data "${u}"`,(()=>u.split("").map((w=>w.charCodeAt(0))))),this._onData.fire(u)}triggerBinaryEvent(u){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${u}"`,(()=>u.split("").map((_=>_.charCodeAt(0))))),this._onBinary.fire(u))}};r.CoreService=c=l([f(0,S.IBufferService),f(1,S.ILogService),f(2,S.IOptionsService)],c)},9074:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DecorationService=void 0;const l=o(8055),f=o(8460),a=o(844),g=o(6106);let v=0,S=0;class m extends a.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new g.SortedList((u=>u?.marker.line)),this._onDecorationRegistered=this.register(new f.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new f.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,a.toDisposable)((()=>this.reset())))}registerDecoration(u){if(u.marker.isDisposed)return;const _=new h(u);if(_){const b=_.marker.onDispose((()=>_.dispose()));_.onDispose((()=>{_&&(this._decorations.delete(_)&&this._onDecorationRemoved.fire(_),b.dispose())})),this._decorations.insert(_),this._onDecorationRegistered.fire(_)}return _}reset(){for(const u of this._decorations.values())u.dispose();this._decorations.clear()}*getDecorationsAtCell(u,_,b){let w=0,C=0;for(const x of this._decorations.getKeyIterator(_))w=x.options.x??0,C=w+(x.options.width??1),u>=w&&u<C&&(!b||(x.options.layer??"bottom")===b)&&(yield x)}forEachDecorationAtCell(u,_,b,w){this._decorations.forEachByKey(_,(C=>{v=C.options.x??0,S=v+(C.options.width??1),u>=v&&u<S&&(!b||(C.options.layer??"bottom")===b)&&w(C)}))}}r.DecorationService=m;class h extends a.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=l.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=l.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(u){super(),this.options=u,this.onRenderEmitter=this.register(new f.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new f.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=u.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.InstantiationService=r.ServiceCollection=void 0;const l=o(2585),f=o(8343);class a{constructor(...v){this._entries=new Map;for(const[S,m]of v)this.set(S,m)}set(v,S){const m=this._entries.get(v);return this._entries.set(v,S),m}forEach(v){for(const[S,m]of this._entries.entries())v(S,m)}has(v){return this._entries.has(v)}get(v){return this._entries.get(v)}}r.ServiceCollection=a,r.InstantiationService=class{constructor(){this._services=new a,this._services.set(l.IInstantiationService,this)}setService(g,v){this._services.set(g,v)}getService(g){return this._services.get(g)}createInstance(g,...v){const S=(0,f.getServiceDependencies)(g).sort(((c,u)=>c.index-u.index)),m=[];for(const c of S){const u=this._services.get(c.id);if(!u)throw new Error(`[createInstance] ${g.name} depends on UNKNOWN service ${c.id}.`);m.push(u)}const h=S.length>0?S[0].index:v.length;if(v.length!==h)throw new Error(`[createInstance] First service dependency of ${g.name} at position ${h+1} conflicts with ${v.length} static arguments`);return new g(...v,...m)}}},7866:function(p,r,o){var l=this&&this.__decorate||function(h,c,u,_){var b,w=arguments.length,C=w<3?c:_===null?_=Object.getOwnPropertyDescriptor(c,u):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(h,c,u,_);else for(var x=h.length-1;x>=0;x--)(b=h[x])&&(C=(w<3?b(C):w>3?b(c,u,C):b(c,u))||C);return w>3&&C&&Object.defineProperty(c,u,C),C},f=this&&this.__param||function(h,c){return function(u,_){c(u,_,h)}};Object.defineProperty(r,"__esModule",{value:!0}),r.traceCall=r.setTraceLogger=r.LogService=void 0;const a=o(844),g=o(2585),v={trace:g.LogLevelEnum.TRACE,debug:g.LogLevelEnum.DEBUG,info:g.LogLevelEnum.INFO,warn:g.LogLevelEnum.WARN,error:g.LogLevelEnum.ERROR,off:g.LogLevelEnum.OFF};let S,m=r.LogService=class extends a.Disposable{get logLevel(){return this._logLevel}constructor(h){super(),this._optionsService=h,this._logLevel=g.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),S=this}_updateLogLevel(){this._logLevel=v[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(h){for(let c=0;c<h.length;c++)typeof h[c]=="function"&&(h[c]=h[c]())}_log(h,c,u){this._evalLazyOptionalParams(u),h.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+c,...u)}trace(h,...c){this._logLevel<=g.LogLevelEnum.TRACE&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,h,c)}debug(h,...c){this._logLevel<=g.LogLevelEnum.DEBUG&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,h,c)}info(h,...c){this._logLevel<=g.LogLevelEnum.INFO&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,h,c)}warn(h,...c){this._logLevel<=g.LogLevelEnum.WARN&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,h,c)}error(h,...c){this._logLevel<=g.LogLevelEnum.ERROR&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,h,c)}};r.LogService=m=l([f(0,g.IOptionsService)],m),r.setTraceLogger=function(h){S=h},r.traceCall=function(h,c,u){if(typeof u.value!="function")throw new Error("not supported");const _=u.value;u.value=function(...b){if(S.logLevel!==g.LogLevelEnum.TRACE)return _.apply(this,b);S.trace(`GlyphRenderer#${_.name}(${b.map((C=>JSON.stringify(C))).join(", ")})`);const w=_.apply(this,b);return S.trace(`GlyphRenderer#${_.name} return`,w),w}}},7302:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.OptionsService=r.DEFAULT_OPTIONS=void 0;const l=o(8460),f=o(844),a=o(6114);r.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:a.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const g=["normal","bold","100","200","300","400","500","600","700","800","900"];class v extends f.Disposable{constructor(m){super(),this._onOptionChange=this.register(new l.EventEmitter),this.onOptionChange=this._onOptionChange.event;const h={...r.DEFAULT_OPTIONS};for(const c in m)if(c in h)try{const u=m[c];h[c]=this._sanitizeAndValidateOption(c,u)}catch(u){console.error(u)}this.rawOptions=h,this.options={...h},this._setupOptions(),this.register((0,f.toDisposable)((()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null})))}onSpecificOptionChange(m,h){return this.onOptionChange((c=>{c===m&&h(this.rawOptions[m])}))}onMultipleOptionChange(m,h){return this.onOptionChange((c=>{m.indexOf(c)!==-1&&h()}))}_setupOptions(){const m=c=>{if(!(c in r.DEFAULT_OPTIONS))throw new Error(`No option with key "${c}"`);return this.rawOptions[c]},h=(c,u)=>{if(!(c in r.DEFAULT_OPTIONS))throw new Error(`No option with key "${c}"`);u=this._sanitizeAndValidateOption(c,u),this.rawOptions[c]!==u&&(this.rawOptions[c]=u,this._onOptionChange.fire(c))};for(const c in this.rawOptions){const u={get:m.bind(this,c),set:h.bind(this,c)};Object.defineProperty(this.options,c,u)}}_sanitizeAndValidateOption(m,h){switch(m){case"cursorStyle":if(h||(h=r.DEFAULT_OPTIONS[m]),!(function(c){return c==="block"||c==="underline"||c==="bar"})(h))throw new Error(`"${h}" is not a valid value for ${m}`);break;case"wordSeparator":h||(h=r.DEFAULT_OPTIONS[m]);break;case"fontWeight":case"fontWeightBold":if(typeof h=="number"&&1<=h&&h<=1e3)break;h=g.includes(h)?h:r.DEFAULT_OPTIONS[m];break;case"cursorWidth":h=Math.floor(h);case"lineHeight":case"tabStopWidth":if(h<1)throw new Error(`${m} cannot be less than 1, value: ${h}`);break;case"minimumContrastRatio":h=Math.max(1,Math.min(21,Math.round(10*h)/10));break;case"scrollback":if((h=Math.min(h,4294967295))<0)throw new Error(`${m} cannot be less than 0, value: ${h}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(h<=0)throw new Error(`${m} cannot be less than or equal to 0, value: ${h}`);break;case"rows":case"cols":if(!h&&h!==0)throw new Error(`${m} must be numeric, value: ${h}`);break;case"windowsPty":h=h??{}}return h}}r.OptionsService=v},2660:function(p,r,o){var l=this&&this.__decorate||function(v,S,m,h){var c,u=arguments.length,_=u<3?S:h===null?h=Object.getOwnPropertyDescriptor(S,m):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(v,S,m,h);else for(var b=v.length-1;b>=0;b--)(c=v[b])&&(_=(u<3?c(_):u>3?c(S,m,_):c(S,m))||_);return u>3&&_&&Object.defineProperty(S,m,_),_},f=this&&this.__param||function(v,S){return function(m,h){S(m,h,v)}};Object.defineProperty(r,"__esModule",{value:!0}),r.OscLinkService=void 0;const a=o(2585);let g=r.OscLinkService=class{constructor(v){this._bufferService=v,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(v){const S=this._bufferService.buffer;if(v.id===void 0){const b=S.addMarker(S.ybase+S.y),w={data:v,id:this._nextId++,lines:[b]};return b.onDispose((()=>this._removeMarkerFromLink(w,b))),this._dataByLinkId.set(w.id,w),w.id}const m=v,h=this._getEntryIdKey(m),c=this._entriesWithId.get(h);if(c)return this.addLineToLink(c.id,S.ybase+S.y),c.id;const u=S.addMarker(S.ybase+S.y),_={id:this._nextId++,key:this._getEntryIdKey(m),data:m,lines:[u]};return u.onDispose((()=>this._removeMarkerFromLink(_,u))),this._entriesWithId.set(_.key,_),this._dataByLinkId.set(_.id,_),_.id}addLineToLink(v,S){const m=this._dataByLinkId.get(v);if(m&&m.lines.every((h=>h.line!==S))){const h=this._bufferService.buffer.addMarker(S);m.lines.push(h),h.onDispose((()=>this._removeMarkerFromLink(m,h)))}}getLinkData(v){return this._dataByLinkId.get(v)?.data}_getEntryIdKey(v){return`${v.id};;${v.uri}`}_removeMarkerFromLink(v,S){const m=v.lines.indexOf(S);m!==-1&&(v.lines.splice(m,1),v.lines.length===0&&(v.data.id!==void 0&&this._entriesWithId.delete(v.key),this._dataByLinkId.delete(v.id)))}};r.OscLinkService=g=l([f(0,a.IBufferService)],g)},8343:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createDecorator=r.getServiceDependencies=r.serviceRegistry=void 0;const o="di$target",l="di$dependencies";r.serviceRegistry=new Map,r.getServiceDependencies=function(f){return f[l]||[]},r.createDecorator=function(f){if(r.serviceRegistry.has(f))return r.serviceRegistry.get(f);const a=function(g,v,S){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(m,h,c){h[o]===h?h[l].push({id:m,index:c}):(h[l]=[{id:m,index:c}],h[o]=h)})(a,g,S)};return a.toString=()=>f,r.serviceRegistry.set(f,a),a}},2585:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.IDecorationService=r.IUnicodeService=r.IOscLinkService=r.IOptionsService=r.ILogService=r.LogLevelEnum=r.IInstantiationService=r.ICharsetService=r.ICoreService=r.ICoreMouseService=r.IBufferService=void 0;const l=o(8343);var f;r.IBufferService=(0,l.createDecorator)("BufferService"),r.ICoreMouseService=(0,l.createDecorator)("CoreMouseService"),r.ICoreService=(0,l.createDecorator)("CoreService"),r.ICharsetService=(0,l.createDecorator)("CharsetService"),r.IInstantiationService=(0,l.createDecorator)("InstantiationService"),(function(a){a[a.TRACE=0]="TRACE",a[a.DEBUG=1]="DEBUG",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.OFF=5]="OFF"})(f||(r.LogLevelEnum=f={})),r.ILogService=(0,l.createDecorator)("LogService"),r.IOptionsService=(0,l.createDecorator)("OptionsService"),r.IOscLinkService=(0,l.createDecorator)("OscLinkService"),r.IUnicodeService=(0,l.createDecorator)("UnicodeService"),r.IDecorationService=(0,l.createDecorator)("DecorationService")},1480:(p,r,o)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.UnicodeService=void 0;const l=o(8460),f=o(225);class a{static extractShouldJoin(v){return(1&v)!=0}static extractWidth(v){return v>>1&3}static extractCharKind(v){return v>>3}static createPropertyValue(v,S,m=!1){return(16777215&v)<<3|(3&S)<<1|(m?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new l.EventEmitter,this.onChange=this._onChange.event;const v=new f.UnicodeV6;this.register(v),this._active=v.version,this._activeProvider=v}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(v){if(!this._providers[v])throw new Error(`unknown Unicode version "${v}"`);this._active=v,this._activeProvider=this._providers[v],this._onChange.fire(v)}register(v){this._providers[v.version]=v}wcwidth(v){return this._activeProvider.wcwidth(v)}getStringCellWidth(v){let S=0,m=0;const h=v.length;for(let c=0;c<h;++c){let u=v.charCodeAt(c);if(55296<=u&&u<=56319){if(++c>=h)return S+this.wcwidth(u);const w=v.charCodeAt(c);56320<=w&&w<=57343?u=1024*(u-55296)+w-56320+65536:S+=this.wcwidth(w)}const _=this.charProperties(u,m);let b=a.extractWidth(_);a.extractShouldJoin(_)&&(b-=a.extractWidth(m)),S+=b,m=_}return S}charProperties(v,S){return this._activeProvider.charProperties(v,S)}}r.UnicodeService=a}},i={};function n(p){var r=i[p];if(r!==void 0)return r.exports;var o=i[p]={exports:{}};return s[p].call(o.exports,o,o.exports,n),o.exports}var d={};return(()=>{var p=d;Object.defineProperty(p,"__esModule",{value:!0}),p.Terminal=void 0;const r=n(9042),o=n(3236),l=n(844),f=n(5741),a=n(8285),g=n(7975),v=n(7090),S=["cols","rows"];class m extends l.Disposable{constructor(c){super(),this._core=this.register(new o.Terminal(c)),this._addonManager=this.register(new f.AddonManager),this._publicOptions={...this._core.options};const u=b=>this._core.options[b],_=(b,w)=>{this._checkReadonlyOptions(b),this._core.options[b]=w};for(const b in this._core.options){const w={get:u.bind(this,b),set:_.bind(this,b)};Object.defineProperty(this._publicOptions,b,w)}}_checkReadonlyOptions(c){if(S.includes(c))throw new Error(`Option "${c}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new g.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new v.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new a.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const c=this._core.coreService.decPrivateModes;let u="none";switch(this._core.coreMouseService.activeProtocol){case"X10":u="x10";break;case"VT200":u="vt200";break;case"DRAG":u="drag";break;case"ANY":u="any"}return{applicationCursorKeysMode:c.applicationCursorKeys,applicationKeypadMode:c.applicationKeypad,bracketedPasteMode:c.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:u,originMode:c.origin,reverseWraparoundMode:c.reverseWraparound,sendFocusMode:c.sendFocus,wraparoundMode:c.wraparound}}get options(){return this._publicOptions}set options(c){for(const u in c)this._publicOptions[u]=c[u]}blur(){this._core.blur()}focus(){this._core.focus()}input(c,u=!0){this._core.input(c,u)}resize(c,u){this._verifyIntegers(c,u),this._core.resize(c,u)}open(c){this._core.open(c)}attachCustomKeyEventHandler(c){this._core.attachCustomKeyEventHandler(c)}attachCustomWheelEventHandler(c){this._core.attachCustomWheelEventHandler(c)}registerLinkProvider(c){return this._core.registerLinkProvider(c)}registerCharacterJoiner(c){return this._checkProposedApi(),this._core.registerCharacterJoiner(c)}deregisterCharacterJoiner(c){this._checkProposedApi(),this._core.deregisterCharacterJoiner(c)}registerMarker(c=0){return this._verifyIntegers(c),this._core.registerMarker(c)}registerDecoration(c){return this._checkProposedApi(),this._verifyPositiveIntegers(c.x??0,c.width??0,c.height??0),this._core.registerDecoration(c)}hasSelection(){return this._core.hasSelection()}select(c,u,_){this._verifyIntegers(c,u,_),this._core.select(c,u,_)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(c,u){this._verifyIntegers(c,u),this._core.selectLines(c,u)}dispose(){super.dispose()}scrollLines(c){this._verifyIntegers(c),this._core.scrollLines(c)}scrollPages(c){this._verifyIntegers(c),this._core.scrollPages(c)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(c){this._verifyIntegers(c),this._core.scrollToLine(c)}clear(){this._core.clear()}write(c,u){this._core.write(c,u)}writeln(c,u){this._core.write(c),this._core.write(`\r
`,u)}paste(c){this._core.paste(c)}refresh(c,u){this._verifyIntegers(c,u),this._core.refresh(c,u)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(c){this._addonManager.loadAddon(this,c)}static get strings(){return r}_verifyIntegers(...c){for(const u of c)if(u===1/0||isNaN(u)||u%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...c){for(const u of c)if(u&&(u===1/0||isNaN(u)||u%1!=0||u<0))throw new Error("This API only accepts positive integers")}}p.Terminal=m})(),d})()))})(Mr)),Mr.exports}var av=ov(),Hr={exports:{}},fa;function lv(){return fa||(fa=1,(function(e,t){(function(s,i){e.exports=i()})(self,(()=>(()=>{var s={};return(()=>{var i=s;Object.defineProperty(i,"__esModule",{value:!0}),i.FitAddon=void 0,i.FitAddon=class{activate(n){this._terminal=n}dispose(){}fit(){const n=this.proposeDimensions();if(!n||!this._terminal||isNaN(n.cols)||isNaN(n.rows))return;const d=this._terminal._core;this._terminal.rows===n.rows&&this._terminal.cols===n.cols||(d._renderService.clear(),this._terminal.resize(n.cols,n.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const n=this._terminal._core,d=n._renderService.dimensions;if(d.css.cell.width===0||d.css.cell.height===0)return;const p=this._terminal.options.scrollback===0?0:n.viewport.scrollBarWidth,r=window.getComputedStyle(this._terminal.element.parentElement),o=parseInt(r.getPropertyValue("height")),l=Math.max(0,parseInt(r.getPropertyValue("width"))),f=window.getComputedStyle(this._terminal.element),a=o-(parseInt(f.getPropertyValue("padding-top"))+parseInt(f.getPropertyValue("padding-bottom"))),g=l-(parseInt(f.getPropertyValue("padding-right"))+parseInt(f.getPropertyValue("padding-left")))-p;return{cols:Math.max(2,Math.floor(g/d.css.cell.width)),rows:Math.max(1,Math.floor(a/d.css.cell.height))}}}})(),s})()))})(Hr)),Hr.exports}var cv=lv();const hv={class:"container-terminal flex flex-col h-full"},uv={key:0,class:"mb-4"},dv={class:"card bg-base-100 shadow"},fv={class:"card-body"},_v={class:"grid grid-cols-2 gap-4"},pv={class:"form-control"},gv={class:"form-control"},mv={class:"card-actions mt-4"},vv=["disabled"],bv={key:0,class:"loading loading-spinner loading-sm"},Sv={class:"terminal-wrapper flex-1 flex flex-col"},yv={class:"terminal-toolbar flex items-center justify-between px-3 py-2 bg-base-100 rounded-t-lg border border-base-content/10 border-b-0 shrink-0"},wv={class:"flex items-center gap-2 text-sm"},Cv={key:1,class:"flex-1 flex flex-col items-center justify-center text-base-content/50"},Ev=Be({__name:"ContainerTerminal",props:{hostId:{},containerId:{}},setup(e){const t=e,s=he(null),i=he(!0),n=he(!1),d=he(!1),p=Wt({command:"/bin/sh",user:""}),r=he(null);let o=null,l=null,f=null;const a=Oe(()=>s.value?.state==="running");async function g(){i.value=!0;try{const h=await Ht.get(t.hostId,t.containerId);s.value=h.data.data}catch{s.value=null}finally{i.value=!1}}async function v(){if(!a.value){ke("","warning");return}n.value=!0;try{const c=(await Ht.createExec(t.hostId,t.containerId,{cmd:[p.command],user:p.user||void 0,tty:!0,stdin:!0,stdout:!0,stderr:!0})).data.data.id;await ts(),o=new av.Terminal({cursorBlink:!0,fontSize:14,fontFamily:'Monaco, Menlo, "Courier New", monospace',theme:{background:"#1e1e1e"}}),l=new cv.FitAddon,o.loadAddon(l),r.value&&(o.open(r.value),l.fit());const u=window.location.protocol==="https:"?"wss:":"ws:",_=window.location.host,b=`${u}//${_}/api/v1/ws/containers/${t.containerId}/exec?host_id=${t.hostId}&exec_id=${c}`;f=new WebSocket(b),f.onopen=()=>{d.value=!0,n.value=!1,o&&f?.send(JSON.stringify({type:"resize",cols:o.cols,rows:o.rows}))},f.onmessage=w=>{try{const C=JSON.parse(w.data);C.type==="data"&&o?.write(C.content)}catch{o?.write(w.data)}},f.onerror=()=>{ke("","error"),m()},f.onclose=()=>{d.value=!1},o.onData(w=>{f&&f.readyState===WebSocket.OPEN&&f.send(JSON.stringify({type:"input",content:w}))}),o.onResize(({cols:w,rows:C})=>{f&&f.readyState===WebSocket.OPEN&&f.send(JSON.stringify({type:"resize",cols:w,rows:C}))}),window.addEventListener("resize",S)}catch{ke("","error"),n.value=!1}}function S(){l&&o&&l.fit()}function m(){f&&(f.close(),f=null),o&&(o.dispose(),o=null),d.value=!1,window.removeEventListener("resize",S)}return Ke(()=>t.containerId,()=>{m(),g()}),ct(g),_i(()=>{m()}),(h,c)=>(N(),j("div",hv,[d.value?we("",!0):(N(),j("div",uv,[E("div",dv,[E("div",fv,[c[6]||(c[6]=E("h3",{class:"card-title text-base mb-4"},"",-1)),E("div",_v,[E("div",pv,[c[3]||(c[3]=E("label",{class:"label"},[E("span",{class:"label-text"},"")],-1)),Me(E("select",{"onUpdate:modelValue":c[0]||(c[0]=u=>p.command=u),class:"select select-bordered select-sm"},[...c[2]||(c[2]=[E("option",{value:"/bin/sh"},"/bin/sh",-1),E("option",{value:"/bin/bash"},"/bin/bash",-1),E("option",{value:"/bin/ash"},"/bin/ash",-1)])],512),[[Ts,p.command]])]),E("div",gv,[c[4]||(c[4]=E("label",{class:"label"},[E("span",{class:"label-text"},"")],-1)),Me(E("input",{"onUpdate:modelValue":c[1]||(c[1]=u=>p.user=u),type:"text",placeholder:"root",class:"input input-bordered input-sm"},null,512),[[nt,p.user]])])]),E("div",mv,[E("button",{class:"btn btn-primary btn-sm",onClick:v,disabled:n.value},[n.value?(N(),j("span",bv)):(N(),Je(ce(ue),{key:1,icon:"mdi:console",class:"text-lg"})),c[5]||(c[5]=Pe("  ",-1))],8,vv)])])])])),Me(E("div",Sv,[E("div",yv,[E("div",wv,[ie(ce(ue),{icon:"mdi:console",class:"text-lg text-primary"}),E("span",null,te(p.command),1)]),E("button",{class:"btn btn-xs btn-ghost",onClick:m},[ie(ce(ue),{icon:"mdi:close",class:"text-lg"}),c[7]||(c[7]=Pe("  ",-1))])]),E("div",{ref_key:"terminalContainer",ref:r,class:"terminal-container flex-1"},null,512)],512),[[Di,d.value]]),!a.value&&!d.value?(N(),j("div",Cv,[ie(ce(ue),{icon:"mdi:cube-off-outline",class:"text-4xl mb-2"}),c[8]||(c[8]=E("p",null,"",-1))])):we("",!0)]))}}),xv=Kt(Ev,[["__scopeId","data-v-05617d17"]]),kv={class:"compose-detail"},Rv={key:0,class:"flex justify-center py-8"},Av={class:"flex items-center gap-2 mb-4"},Dv=["disabled"],Lv=["disabled"],Tv=["disabled"],Ov=["disabled"],Iv={class:"card bg-base-100 shadow"},Pv={class:"card-body"},Bv={class:"overflow-x-auto"},Mv={class:"table table-sm"},Hv={class:"card bg-base-100 shadow mt-4"},$v={class:"card-body"},Fv={class:"flex items-center justify-between mb-4"},Nv=["disabled"],Uv={key:0,class:"flex justify-center py-4"},jv={key:1,class:"text-center py-4 text-base-content/50"},Wv={key:2,class:"overflow-x-auto"},Vv={class:"table table-sm"},Kv={class:"text-sm text-base-content/70"},zv={class:"text-sm"},qv={key:0},Gv={class:"card bg-base-100 shadow mt-4"},Jv={class:"card-body"},Xv={class:"overflow-x-auto"},Yv={class:"table table-sm"},Zv={class:"bg-base-200 px-2 py-1 rounded text-sm"},Qv={class:"bg-base-200 px-2 py-1 rounded text-sm"},eb={key:0},tb={class:"bg-base-200 px-2 py-1 rounded text-sm"},sb={class:"alert alert-warning mt-4 text-sm"},ib={key:1,class:"yaml-container"},rb={key:2,class:"text-center py-8 text-base-content/50"},nb=Be({__name:"ComposeDetail",props:{hostId:{},projectId:{}},emits:["refresh"],setup(e,{emit:t}){const s=e,i=t,n=os(),d=he(null),p=he([]),r=he(!1),o=he(!1),l=he(!1),f=he(null);async function a(){r.value=!0;try{const u=await ot.get(s.projectId);d.value=u.data.data}catch{d.value=null}finally{r.value=!1}}async function g(){o.value=!0;try{const u=await ot.ps(s.projectId);p.value=u.data.data}catch{p.value=[]}finally{o.value=!1}}async function v(){l.value=!0;try{await ot.up(s.projectId,{detach:!0}),ke("","success"),await a(),await g(),n.refreshHostResources(s.hostId)}finally{l.value=!1}}async function S(){l.value=!0;try{await ot.down(s.projectId),ke("","success"),await a(),await g(),n.refreshHostResources(s.hostId)}finally{l.value=!1}}async function m(){l.value=!0;try{await ot.restart(s.projectId),ke("","success"),await a(),await g(),n.refreshHostResources(s.hostId)}finally{l.value=!1}}async function h(){const u=await f.value?.confirm({title:"",message:` "${d.value?.name}"?`,type:"danger",options:[{key:"downFirst",label:"",default:!0}]});if(u&&u.confirmed){l.value=!0;try{u.options?.downFirst&&d.value?.status==="running"&&await ot.down(s.projectId),await ot.delete(s.projectId),ke("","success"),n.refreshHostResources(s.hostId),i("refresh")}finally{l.value=!1}}}function c(u){return new Date(u).toLocaleString()}return Ke(()=>s.projectId,()=>{a(),g()}),ct(()=>{a(),g()}),(u,_)=>(N(),j("div",kv,[r.value?(N(),j("div",Rv,[..._[0]||(_[0]=[E("span",{class:"loading loading-spinner loading-lg"},null,-1)])])):d.value?(N(),j(me,{key:1},[E("div",Av,[E("button",{class:"btn btn-sm btn-success",disabled:l.value||d.value.status==="running",onClick:v},[ie(ce(ue),{icon:"mdi:play",class:"text-lg"}),_[1]||(_[1]=Pe("  ",-1))],8,Dv),E("button",{class:"btn btn-sm btn-warning",disabled:l.value||d.value.status!=="running",onClick:S},[ie(ce(ue),{icon:"mdi:stop",class:"text-lg"}),_[2]||(_[2]=Pe("  ",-1))],8,Lv),E("button",{class:"btn btn-sm btn-info",disabled:l.value||d.value.status!=="running",onClick:m},[ie(ce(ue),{icon:"mdi:restart",class:"text-lg"}),_[3]||(_[3]=Pe("  ",-1))],8,Tv),E("button",{class:"btn btn-sm btn-error",onClick:h,disabled:l.value},[ie(ce(ue),{icon:"mdi:delete",class:"text-lg"}),_[4]||(_[4]=Pe("  ",-1))],8,Ov)]),E("div",Iv,[E("div",Pv,[_[9]||(_[9]=E("h3",{class:"card-title text-base mb-4"},"",-1)),E("div",Bv,[E("table",Mv,[E("tbody",null,[E("tr",null,[_[5]||(_[5]=E("td",{class:"font-medium w-32"},"",-1)),E("td",null,te(d.value.name),1)]),E("tr",null,[_[6]||(_[6]=E("td",{class:"font-medium"},"",-1)),E("td",null,[E("span",{class:ye(["badge",d.value.source_type==="directory"?"badge-warning":"badge-primary"])},te(d.value.source_type==="directory"?"":""),3)])]),E("tr",null,[_[7]||(_[7]=E("td",{class:"font-medium"},"",-1)),E("td",null,[E("span",{class:ye(["badge",d.value.status==="running"?"badge-success":"badge-info"])},te(d.value.status),3)])]),E("tr",null,[_[8]||(_[8]=E("td",{class:"font-medium"},"",-1)),E("td",null,te(c(d.value.created_at)),1)])])])])])]),E("div",Hv,[E("div",$v,[E("div",Fv,[_[10]||(_[10]=E("h3",{class:"card-title text-base"},"",-1)),E("button",{class:"btn btn-xs btn-ghost",onClick:g,disabled:o.value},[ie(ce(ue),{icon:"mdi:refresh",class:ye({"animate-spin":o.value})},null,8,["class"])],8,Nv)]),o.value?(N(),j("div",Uv,[..._[11]||(_[11]=[E("span",{class:"loading loading-spinner loading-md"},null,-1)])])):p.value.length===0?(N(),j("div",jv,[ie(ce(ue),{icon:"mdi:cube-off-outline",class:"text-3xl mb-2"}),_[12]||(_[12]=E("p",{class:"text-sm"},"",-1))])):(N(),j("div",Wv,[E("table",Vv,[_[13]||(_[13]=E("thead",null,[E("tr",null,[E("th",null,""),E("th",null,""),E("th",null,""),E("th",null,"")])],-1)),E("tbody",null,[(N(!0),j(me,null,Ue(p.value,b=>(N(),j("tr",{key:b.name},[E("td",null,te(b.name),1),E("td",null,[E("span",{class:ye(["badge badge-sm",b.state==="running"?"badge-success":"badge-error"])},te(b.state),3)]),E("td",Kv,te(b.status),1),E("td",zv,[(N(!0),j(me,null,Ue(b.publishers,(w,C)=>(N(),j("span",{key:C,class:"mr-2"},te(w.published_port)+":"+te(w.target_port)+"/"+te(w.protocol),1))),128)),b.publishers?.length?we("",!0):(N(),j("span",qv,"-"))])]))),128))])])]))])]),E("div",Gv,[E("div",Jv,[_[17]||(_[17]=E("h3",{class:"card-title text-base mb-4"},"Compose ",-1)),d.value.source_type==="directory"?(N(),j(me,{key:0},[E("div",Xv,[E("table",Yv,[E("tbody",null,[E("tr",null,[_[14]||(_[14]=E("td",{class:"font-medium w-32"},"",-1)),E("td",null,[E("code",Zv,te(d.value.work_dir),1)])]),E("tr",null,[_[15]||(_[15]=E("td",{class:"font-medium"},"Compose ",-1)),E("td",null,[E("code",Qv,te(d.value.compose_file||"docker-compose.yml"),1)])]),d.value.env_file?(N(),j("tr",eb,[_[16]||(_[16]=E("td",{class:"font-medium"},"",-1)),E("td",null,[E("code",tb,te(d.value.env_file),1)])])):we("",!0)])])]),E("div",sb,[ie(ce(ue),{icon:"mdi:information",class:"text-lg"}),E("span",null,"compose  "+te(d.value.work_dir)+"/"+te(d.value.compose_file||"docker-compose.yml"),1)])],64)):(N(),j("div",ib,[E("pre",null,te(d.value.content),1)]))])])],64)):(N(),j("div",rb,[ie(ce(ue),{icon:"mdi:file-document-remove-outline",class:"text-4xl mb-2"}),_[18]||(_[18]=E("p",null,"",-1))])),ie(bs,{ref_key:"confirmRef",ref:f},null,512)]))}}),ob=Kt(nb,[["__scopeId","data-v-ce42d81b"]]),ab={class:"compose-logs"},lb={key:0,class:"flex justify-center py-8"},cb={key:0,class:"log-disabled"},hb={class:"text-center py-16"},ub=["disabled"],db={key:0,class:"loading loading-spinner loading-sm"},fb=Be({__name:"ComposeLogs",props:{hostId:{},projectId:{}},setup(e){const t=e,s=he(null),i=he(!1),n=Oe(()=>{if(!s.value||s.value.status!=="running")return"";const r=window.location.protocol==="https:"?"wss:":"ws:",o=window.location.host;return`${r}//${o}/api/v1/ws/compose/${t.projectId}/logs`});async function d(){try{const r=await ot.get(t.projectId);s.value=r.data.data}catch{s.value=null}}async function p(){i.value=!0;try{await ot.up(t.projectId,{detach:!0}),ke("","success"),await d()}finally{i.value=!1}}return Ke(()=>t.projectId,d),ct(d),(r,o)=>(N(),j("div",ab,[s.value?(N(),j(me,{key:1},[s.value.status!=="running"?(N(),j("div",cb,[E("div",hb,[ie(ce(ue),{icon:"mdi:text-box-outline",class:"text-6xl text-base-content/40 mb-4"}),o[2]||(o[2]=E("p",{class:"text-base-content/60 mb-4"},"",-1)),E("button",{class:"btn btn-primary btn-sm",onClick:p,disabled:i.value},[i.value?(N(),j("span",db)):(N(),Je(ce(ue),{key:1,icon:"mdi:play",class:"text-lg"})),o[1]||(o[1]=Pe("  ",-1))],8,ub)])])):(N(),Je(Ic,{key:1,"ws-url":n.value,"auto-scroll":!0},null,8,["ws-url"]))],64)):(N(),j("div",lb,[...o[0]||(o[0]=[E("span",{class:"loading loading-spinner loading-lg"},null,-1)])]))]))}}),_b=Kt(fb,[["__scopeId","data-v-79b61de7"]]),pb={class:"image-detail"},gb={key:0,class:"flex justify-center py-8"},mb={class:"flex items-center gap-2 mb-4"},vb=["disabled"],bb={class:"card bg-base-100 shadow"},Sb={class:"card-body"},yb={class:"overflow-x-auto"},wb={class:"table table-sm"},Cb={class:"font-mono text-sm"},Eb={class:"flex flex-wrap gap-1"},xb={key:0,class:"text-base-content/50"},kb={key:0,class:"card bg-base-100 shadow mt-4"},Rb={class:"card-body"},Ab={class:"flex flex-wrap gap-2"},Db={key:2,class:"text-center py-8 text-base-content/50"},Lb=Be({__name:"ImageDetail",props:{hostId:{},imageId:{}},setup(e){const t=e,s=os(),i=he(null),n=he(!1),d=he(!1),p=he(null);async function r(){n.value=!0;try{const a=await an.get(t.hostId,t.imageId);i.value=a.data.data}catch{i.value=null}finally{n.value=!1}}async function o(){const a=await p.value?.confirm({title:"",message:` "${i.value?.repo_tags?.join(", ")||i.value?.id}"?`,type:"danger"});if(a&&a.confirmed){d.value=!0;try{await an.remove(t.hostId,t.imageId,!0),ke("","success"),s.refreshHostResources(t.hostId)}finally{d.value=!1}}}function l(a){return a<1024*1024?(a/1024).toFixed(2)+" KB":a<1024*1024*1024?(a/1024/1024).toFixed(2)+" MB":(a/1024/1024/1024).toFixed(2)+" GB"}function f(a){return new Date(a*1e3).toLocaleString()}return Ke(()=>t.imageId,r),ct(r),(a,g)=>(N(),j("div",pb,[n.value?(N(),j("div",gb,[...g[0]||(g[0]=[E("span",{class:"loading loading-spinner loading-lg"},null,-1)])])):i.value?(N(),j(me,{key:1},[E("div",mb,[E("button",{class:"btn btn-sm btn-error",onClick:o,disabled:d.value},[ie(ce(ue),{icon:"mdi:delete",class:"text-lg"}),g[1]||(g[1]=Pe("  ",-1))],8,vb)]),E("div",bb,[E("div",Sb,[g[6]||(g[6]=E("h3",{class:"card-title text-base mb-4"},"",-1)),E("div",yb,[E("table",wb,[E("tbody",null,[E("tr",null,[g[2]||(g[2]=E("td",{class:"font-medium w-32"},"ID",-1)),E("td",Cb,te(i.value.id),1)]),E("tr",null,[g[3]||(g[3]=E("td",{class:"font-medium"},"",-1)),E("td",null,[E("div",Eb,[(N(!0),j(me,null,Ue(i.value.repo_tags,v=>(N(),j("span",{key:v,class:"badge badge-primary badge-sm"},te(v),1))),128)),i.value.repo_tags?.length?we("",!0):(N(),j("span",xb," <none> "))])])]),E("tr",null,[g[4]||(g[4]=E("td",{class:"font-medium"},"",-1)),E("td",null,te(l(i.value.size)),1)]),E("tr",null,[g[5]||(g[5]=E("td",{class:"font-medium"},"",-1)),E("td",null,te(f(i.value.created)),1)])])])])])]),Object.keys(i.value.labels||{}).length?(N(),j("div",kb,[E("div",Rb,[g[7]||(g[7]=E("h3",{class:"card-title text-base mb-4"},"",-1)),E("div",Ab,[(N(!0),j(me,null,Ue(i.value.labels,(v,S)=>(N(),j("span",{key:S,class:"badge badge-outline"},te(S)+"="+te(v),1))),128))])])])):we("",!0)],64)):(N(),j("div",Db,[ie(ce(ue),{icon:"mdi:image-off-outline",class:"text-4xl mb-2"}),g[8]||(g[8]=E("p",null,"",-1))])),ie(bs,{ref_key:"confirmRef",ref:p},null,512)]))}}),Tb={class:"volume-detail"},Ob={key:0,class:"flex justify-center py-8"},Ib={class:"flex items-center gap-2 mb-4"},Pb=["disabled"],Bb={class:"card bg-base-100 shadow"},Mb={class:"card-body"},Hb={class:"overflow-x-auto"},$b={class:"table table-sm"},Fb={class:"font-mono text-sm"},Nb={key:0},Ub={class:"badge badge-info badge-sm mr-2"},jb={class:"badge badge-outline badge-sm"},Wb={key:0,class:"card bg-base-100 shadow mt-4"},Vb={class:"card-body"},Kb={class:"flex flex-wrap gap-2"},zb={key:2,class:"text-center py-8 text-base-content/50"},qb=Be({__name:"VolumeDetail",props:{hostId:{},volumeName:{}},setup(e){const t=e,s=os(),i=he(null),n=he(!1),d=he(!1),p=he(null);async function r(){n.value=!0;try{const f=await ln.get(t.hostId,t.volumeName);i.value=f.data.data}catch{i.value=null}finally{n.value=!1}}async function o(){const f=await p.value?.confirm({title:"",message:` "${i.value?.name}"?`,type:"danger"});if(f&&f.confirmed){d.value=!0;try{await ln.remove(t.hostId,t.volumeName,!0),ke("","success"),s.refreshHostResources(t.hostId)}finally{d.value=!1}}}function l(f){return f<1024*1024?(f/1024).toFixed(2)+" KB":f<1024*1024*1024?(f/1024/1024).toFixed(2)+" MB":(f/1024/1024/1024).toFixed(2)+" GB"}return Ke(()=>t.volumeName,r),ct(r),(f,a)=>(N(),j("div",Tb,[n.value?(N(),j("div",Ob,[...a[0]||(a[0]=[E("span",{class:"loading loading-spinner loading-lg"},null,-1)])])):i.value?(N(),j(me,{key:1},[E("div",Ib,[E("button",{class:"btn btn-sm btn-error",onClick:o,disabled:d.value},[ie(ce(ue),{icon:"mdi:delete",class:"text-lg"}),a[1]||(a[1]=Pe("  ",-1))],8,Pb)]),E("div",Bb,[E("div",Mb,[a[8]||(a[8]=E("h3",{class:"card-title text-base mb-4"},"",-1)),E("div",Hb,[E("table",$b,[E("tbody",null,[E("tr",null,[a[2]||(a[2]=E("td",{class:"font-medium w-32"},"",-1)),E("td",null,te(i.value.name),1)]),E("tr",null,[a[3]||(a[3]=E("td",{class:"font-medium"},"",-1)),E("td",null,te(i.value.driver),1)]),E("tr",null,[a[4]||(a[4]=E("td",{class:"font-medium"},"",-1)),E("td",Fb,te(i.value.mountpoint),1)]),E("tr",null,[a[5]||(a[5]=E("td",{class:"font-medium"},"",-1)),E("td",null,te(i.value.scope),1)]),E("tr",null,[a[6]||(a[6]=E("td",{class:"font-medium"},"",-1)),E("td",null,te(i.value.created_at),1)]),i.value.usage_data?(N(),j("tr",Nb,[a[7]||(a[7]=E("td",{class:"font-medium"},"",-1)),E("td",null,[E("span",Ub,te(i.value.usage_data.ref_count)+"  ",1),E("span",jb,te(l(i.value.usage_data.size)),1)])])):we("",!0)])])])])]),Object.keys(i.value.labels||{}).length?(N(),j("div",Wb,[E("div",Vb,[a[9]||(a[9]=E("h3",{class:"card-title text-base mb-4"},"",-1)),E("div",Kb,[(N(!0),j(me,null,Ue(i.value.labels,(g,v)=>(N(),j("span",{key:v,class:"badge badge-outline"},te(v)+"="+te(g),1))),128))])])])):we("",!0)],64)):(N(),j("div",zb,[ie(ce(ue),{icon:"mdi:folder-off-outline",class:"text-4xl mb-2"}),a[10]||(a[10]=E("p",null,"",-1))])),ie(bs,{ref_key:"confirmRef",ref:p},null,512)]))}}),Gb={class:"network-detail"},Jb={key:0,class:"flex justify-center py-8"},Xb={class:"flex items-center gap-2 mb-4"},Yb=["disabled"],Zb={key:0,class:"text-sm text-base-content/50"},Qb={class:"card bg-base-100 shadow"},e0={class:"card-body"},t0={class:"overflow-x-auto"},s0={class:"table table-sm"},i0={class:"font-mono text-sm"},r0={key:0,class:"card bg-base-100 shadow mt-4"},n0={class:"card-body"},o0={class:"overflow-x-auto"},a0={class:"table table-sm"},l0={class:"font-mono"},c0={class:"font-mono"},h0={key:1,class:"card bg-base-100 shadow mt-4"},u0={class:"card-body"},d0={class:"flex flex-wrap gap-2"},f0={key:2,class:"text-center py-8 text-base-content/50"},_0=Be({__name:"NetworkDetail",props:{hostId:{},networkId:{}},setup(e){const t=e,s=os(),i=he(null),n=he(!1),d=he(!1),p=he(null),r=Oe(()=>["bridge","host","none"].includes(i.value?.name||""));async function o(){n.value=!0;try{const f=await cn.get(t.hostId,t.networkId);i.value=f.data.data}catch{i.value=null}finally{n.value=!1}}async function l(){if(r.value)return;const f=await p.value?.confirm({title:"",message:` "${i.value?.name}"?`,type:"danger"});if(f&&f.confirmed){d.value=!0;try{await cn.remove(t.hostId,t.networkId),ke("","success"),s.refreshHostResources(t.hostId)}finally{d.value=!1}}}return Ke(()=>t.networkId,o),ct(o),(f,a)=>(N(),j("div",Gb,[n.value?(N(),j("div",Jb,[...a[0]||(a[0]=[E("span",{class:"loading loading-spinner loading-lg"},null,-1)])])):i.value?(N(),j(me,{key:1},[E("div",Xb,[E("button",{class:"btn btn-sm btn-error",onClick:l,disabled:d.value||r.value},[ie(ce(ue),{icon:"mdi:delete",class:"text-lg"}),a[1]||(a[1]=Pe("  ",-1))],8,Yb),r.value?(N(),j("span",Zb,"  ")):we("",!0)]),E("div",Qb,[E("div",e0,[a[9]||(a[9]=E("h3",{class:"card-title text-base mb-4"},"",-1)),E("div",t0,[E("table",s0,[E("tbody",null,[E("tr",null,[a[2]||(a[2]=E("td",{class:"font-medium w-32"},"ID",-1)),E("td",i0,te(i.value.id),1)]),E("tr",null,[a[3]||(a[3]=E("td",{class:"font-medium"},"",-1)),E("td",null,te(i.value.name),1)]),E("tr",null,[a[4]||(a[4]=E("td",{class:"font-medium"},"",-1)),E("td",null,te(i.value.driver),1)]),E("tr",null,[a[5]||(a[5]=E("td",{class:"font-medium"},"",-1)),E("td",null,te(i.value.scope),1)]),E("tr",null,[a[6]||(a[6]=E("td",{class:"font-medium"},"",-1)),E("td",null,te(i.value.created),1)]),E("tr",null,[a[7]||(a[7]=E("td",{class:"font-medium"},"",-1)),E("td",null,[E("span",{class:ye(["badge badge-sm",i.value.internal?"badge-warning":"badge-ghost"])},te(i.value.internal?"":""),3)])]),E("tr",null,[a[8]||(a[8]=E("td",{class:"font-medium"},"",-1)),E("td",null,[E("span",{class:ye(["badge badge-sm",i.value.attachable?"badge-success":"badge-ghost"])},te(i.value.attachable?"":""),3)])])])])])])]),i.value.ipam?.config?.length?(N(),j("div",r0,[E("div",n0,[a[11]||(a[11]=E("h3",{class:"card-title text-base mb-4"},"IPAM ",-1)),E("div",o0,[E("table",a0,[a[10]||(a[10]=E("thead",null,[E("tr",null,[E("th",null,""),E("th",null,"")])],-1)),E("tbody",null,[(N(!0),j(me,null,Ue(i.value.ipam.config,(g,v)=>(N(),j("tr",{key:v},[E("td",l0,te(g.subnet),1),E("td",c0,te(g.gateway||"-"),1)]))),128))])])])])])):we("",!0),Object.keys(i.value.labels||{}).length?(N(),j("div",h0,[E("div",u0,[a[12]||(a[12]=E("h3",{class:"card-title text-base mb-4"},"",-1)),E("div",d0,[(N(!0),j(me,null,Ue(i.value.labels,(g,v)=>(N(),j("span",{key:v,class:"badge badge-outline"},te(v)+"="+te(g),1))),128))])])])):we("",!0)],64)):(N(),j("div",f0,[ie(ce(ue),{icon:"mdi:lan-disconnect",class:"text-4xl mb-2"}),a[13]||(a[13]=E("p",null,"",-1))])),ie(bs,{ref_key:"confirmRef",ref:p},null,512)]))}}),p0={class:"host-detail"},g0={key:0,class:"flex justify-center py-8"},m0={class:"flex items-center gap-2 mb-4"},v0=["disabled"],b0={key:0,class:"loading loading-spinner loading-sm"},S0=["disabled"],y0={class:"card bg-base-100 shadow"},w0={class:"card-body"},C0={class:"overflow-x-auto"},E0={class:"table table-sm"},x0={class:"font-mono text-sm"},k0={key:0},R0={key:1},A0={key:2},D0={key:3},L0={key:0,class:"card bg-base-100 shadow mt-4"},T0={class:"card-body"},O0={class:"overflow-x-auto"},I0={class:"table table-sm"},P0={key:2,class:"text-center py-8 text-base-content/50"},B0=Be({__name:"HostDetail",props:{hostId:{}},emits:["edit"],setup(e,{emit:t}){const s=e,i=yi(),n=he(null),d=he(!1),p=he(!1),r=he(!1),o=he(null),l=he(null);async function f(){d.value=!0;try{const h=await As.get(s.hostId);n.value=h.data.data}catch{n.value=null}finally{d.value=!1}}async function a(){if(n.value){p.value=!0;try{const h=await As.test(n.value.id);h.data.data.success?ke("","success"):ke(h.data.data.message||"","error")}finally{p.value=!1}}}async function g(){if(!n.value)return;const h=await o.value?.confirm({title:"",message:` "${n.value.name}"?`,type:"danger"});if(h&&h.confirmed){r.value=!0;try{await As.delete(n.value.id),ke("","success"),i.loadHosts()}finally{r.value=!1}}}function v(){switch(n.value?.type){case"local":return"";case"tcp":return"TCP";case"ssh":return"SSH";default:return n.value?.type||"Unknown"}}function S(){switch(n.value?.type){case"local":return"badge-success";case"tcp":return"badge-info";case"ssh":return"badge-warning";default:return"badge-ghost"}}function m(h){return h?new Date(h).toLocaleString():"-"}return Ke(()=>s.hostId,f),ct(f),(h,c)=>(N(),j("div",p0,[d.value?(N(),j("div",g0,[...c[1]||(c[1]=[E("span",{class:"loading loading-spinner loading-lg"},null,-1)])])):n.value?(N(),j(me,{key:1},[E("div",m0,[E("button",{class:"btn btn-sm btn-primary",onClick:a,disabled:p.value},[p.value?(N(),j("span",b0)):(N(),Je(ce(ue),{key:1,icon:"mdi:connection",class:"text-lg"})),c[2]||(c[2]=Pe("  ",-1))],8,v0),E("button",{class:"btn btn-sm",onClick:c[0]||(c[0]=u=>h.$emit("edit",n.value))},[ie(ce(ue),{icon:"mdi:pencil",class:"text-lg"}),c[3]||(c[3]=Pe("  ",-1))]),E("button",{class:"btn btn-sm btn-error",onClick:g,disabled:r.value},[ie(ce(ue),{icon:"mdi:delete",class:"text-lg"}),c[4]||(c[4]=Pe("  ",-1))],8,S0)]),E("div",y0,[E("div",w0,[c[16]||(c[16]=E("h3",{class:"card-title text-base mb-4"},"",-1)),E("div",C0,[E("table",E0,[E("tbody",null,[E("tr",null,[c[5]||(c[5]=E("td",{class:"font-medium w-32"},"ID",-1)),E("td",x0,te(n.value.id),1)]),E("tr",null,[c[6]||(c[6]=E("td",{class:"font-medium"},"",-1)),E("td",null,te(n.value.name),1)]),E("tr",null,[c[7]||(c[7]=E("td",{class:"font-medium"},"",-1)),E("td",null,[E("span",{class:ye(["badge",S()])},te(v()),3)])]),E("tr",null,[c[8]||(c[8]=E("td",{class:"font-medium"},"",-1)),E("td",null,te(n.value.host||""),1)]),E("tr",null,[c[9]||(c[9]=E("td",{class:"font-medium"},"",-1)),E("td",null,[E("span",{class:ye(["badge",n.value.is_active?"badge-success":"badge-error"])},te(n.value.is_active?"":""),3)])]),E("tr",null,[c[10]||(c[10]=E("td",{class:"font-medium"},"",-1)),E("td",null,[E("span",{class:ye(["badge badge-sm",n.value.is_default?"badge-primary":"badge-ghost"])},te(n.value.is_default?"":""),3)])]),n.value.docker_port?(N(),j("tr",k0,[c[11]||(c[11]=E("td",{class:"font-medium"},"Docker ",-1)),E("td",null,te(n.value.docker_port),1)])):we("",!0),n.value.ssh_user?(N(),j("tr",R0,[c[12]||(c[12]=E("td",{class:"font-medium"},"SSH ",-1)),E("td",null,te(n.value.ssh_user),1)])):we("",!0),n.value.ssh_port?(N(),j("tr",A0,[c[13]||(c[13]=E("td",{class:"font-medium"},"SSH ",-1)),E("td",null,te(n.value.ssh_port),1)])):we("",!0),E("tr",null,[c[14]||(c[14]=E("td",{class:"font-medium"},"",-1)),E("td",null,te(m(n.value.created_at)),1)]),n.value.description?(N(),j("tr",D0,[c[15]||(c[15]=E("td",{class:"font-medium"},"",-1)),E("td",null,te(n.value.description),1)])):we("",!0)])])])])]),l.value?(N(),j("div",L0,[E("div",T0,[c[21]||(c[21]=E("h3",{class:"card-title text-base mb-4"},"Docker ",-1)),E("div",O0,[E("table",I0,[E("tbody",null,[E("tr",null,[c[17]||(c[17]=E("td",{class:"font-medium w-32"},"",-1)),E("td",null,te(l.value.Version),1)]),E("tr",null,[c[18]||(c[18]=E("td",{class:"font-medium"},"API ",-1)),E("td",null,te(l.value.ApiVersion),1)]),E("tr",null,[c[19]||(c[19]=E("td",{class:"font-medium"},"",-1)),E("td",null,te(l.value.Os)+" "+te(l.value.Arch),1)]),E("tr",null,[c[20]||(c[20]=E("td",{class:"font-medium"},"",-1)),E("td",null,te(l.value.KernelVersion),1)])])])])])])):we("",!0)],64)):(N(),j("div",P0,[ie(ce(ue),{icon:"mdi:server-off",class:"text-4xl mb-2"}),c[22]||(c[22]=E("p",null,"",-1))])),ie(bs,{ref_key:"confirmRef",ref:o},null,512)]))}}),M0={class:"detail-panel flex-1 flex flex-col overflow-hidden p-4"},H0=Be({__name:"DetailPanel",props:{tab:{},selection:{}},emits:["refresh"],setup(e){return(t,s)=>(N(),j("div",M0,[e.selection.type==="container"?(N(),j(me,{key:0},[e.tab==="detail"?(N(),Je(Km,{key:0,"host-id":e.selection.hostId,"container-id":e.selection.id,class:"overflow-auto",onRefresh:s[0]||(s[0]=i=>t.$emit("refresh"))},null,8,["host-id","container-id"])):e.tab==="logs"?(N(),Je(nv,{key:1,"host-id":e.selection.hostId,"container-id":e.selection.id,class:"flex-1 min-h-0"},null,8,["host-id","container-id"])):e.tab==="terminal"?(N(),Je(xv,{key:2,"host-id":e.selection.hostId,"container-id":e.selection.id,class:"flex-1 min-h-0"},null,8,["host-id","container-id"])):we("",!0)],64)):e.selection.type==="compose"?(N(),j(me,{key:1},[e.tab==="detail"?(N(),Je(ob,{key:0,"host-id":e.selection.hostId,"project-id":e.selection.id,class:"overflow-auto",onRefresh:s[1]||(s[1]=i=>t.$emit("refresh"))},null,8,["host-id","project-id"])):e.tab==="logs"?(N(),Je(_b,{key:1,"host-id":e.selection.hostId,"project-id":e.selection.id,class:"flex-1 min-h-0"},null,8,["host-id","project-id"])):we("",!0)],64)):e.selection.type==="image"?(N(),Je(Lb,{key:2,"host-id":e.selection.hostId,"image-id":e.selection.id,class:"overflow-auto"},null,8,["host-id","image-id"])):e.selection.type==="volume"?(N(),Je(qb,{key:3,"host-id":e.selection.hostId,"volume-name":e.selection.id,class:"overflow-auto"},null,8,["host-id","volume-name"])):e.selection.type==="network"?(N(),Je(_0,{key:4,"host-id":e.selection.hostId,"network-id":e.selection.id,class:"overflow-auto"},null,8,["host-id","network-id"])):e.selection.type==="host"?(N(),Je(B0,{key:5,"host-id":e.selection.hostId,class:"overflow-auto"},null,8,["host-id"])):we("",!0)]))}}),$0={class:"main-panel flex-1 flex flex-col h-full bg-base-200 overflow-hidden"},F0={key:0,class:"flex-1 flex flex-col items-center justify-center text-base-content/40"},N0={class:"h-[50px] flex items-center px-4 border-b border-base-content/10 bg-base-100"},U0={class:"flex items-center gap-2 text-sm"},j0={class:"font-medium"},W0={class:"text-base-content/60"},V0={class:"text-primary"},K0=Be({__name:"MainPanel",setup(e){const t=os(),s=yi(),i=he("detail"),n=he(!1),d=Oe(()=>{const a=t.selection;return a?`${a.hostId}:${a.type}:${a.id}:${i.value}`:""});Ke(()=>t.selection,(a,g)=>{(a?.id!==g?.id||a?.type!==g?.type)&&(i.value="detail")});function p(){const a=t.selection?.hostId;return a?s.hosts.find(v=>v.id===a)?.name||"Unknown":""}function r(){switch(t.selection?.type){case"host":return"mdi:server";case"container":return"mdi:cube-outline";case"image":return"mdi:image-outline";case"volume":return"mdi:folder-outline";case"network":return"mdi:lan";case"compose":return"mdi:file-document-outline";default:return"mdi:file-outline"}}function o(){switch(t.selection?.type){case"host":return"text-primary";case"container":return"text-info";case"image":return"text-warning";case"volume":return"text-success";case"network":return"text-secondary";case"compose":return"text-secondary";default:return"text-base-content/60"}}function l(){switch(t.selection?.type){case"host":return"";case"container":return"";case"image":return"";case"volume":return"";case"network":return"";case"compose":return"Compose";default:return""}}async function f(){const a=t.selection?.hostId;if(a){n.value=!0;try{await t.refreshHostResources(a)}finally{n.value=!1}}}return(a,g)=>(N(),j("div",$0,[ce(t).selection?(N(),j(me,{key:1},[E("div",N0,[E("div",U0,[ie(ce(ue),{icon:r(),class:ye(["text-lg",o()])},null,8,["icon","class"]),E("span",j0,te(p()),1),ie(ce(ue),{icon:"mdi:chevron-right",class:"text-base-content/40"}),E("span",W0,te(l()),1),ie(ce(ue),{icon:"mdi:chevron-right",class:"text-base-content/40"}),E("span",V0,te(ce(t).selection.name),1)]),E("button",{class:"btn btn-sm btn-ghost ml-auto",onClick:f},[ie(ce(ue),{icon:"mdi:refresh",class:ye({"animate-spin":n.value})},null,8,["class"])])]),ie(wm,{modelValue:i.value,"onUpdate:modelValue":g[0]||(g[0]=v=>i.value=v),type:ce(t).selection.type},null,8,["modelValue","type"]),(N(),Je(H0,{tab:i.value,selection:ce(t).selection,key:d.value},null,8,["tab","selection"]))],64)):(N(),j("div",F0,[ie(ce(ue),{icon:"mdi:cursor-default-click",class:"text-8xl mb-4"}),g[1]||(g[1]=E("p",{class:"text-lg"},"",-1)),g[2]||(g[2]=E("p",{class:"text-sm mt-2"},"",-1))]))]))}}),z0={class:"flex h-screen"},q0=Be({__name:"AppLayout",setup(e){const t=yi(),s=os(),i=he(!1),n=he(null),d=he(!1),p=he("");function r(a){s.setSelection({...a,type:a.type})}function o(){n.value=null}function l(a){p.value=a,d.value=!0}function f(){p.value="";const a=s.selectedHostId;a&&s.refreshHostResources(a)}return ct(()=>{t.init()}),(a,g)=>(N(),j("div",z0,[ie(bm,{onAddHost:g[0]||(g[0]=v=>i.value=!0),onSelect:r,onCreateCompose:l}),ie(K0),ie(Np,{visible:i.value,"onUpdate:visible":g[1]||(g[1]=v=>i.value=v),host:n.value,onSaved:o},null,8,["visible","host"]),ie(Fg,{visible:d.value,"onUpdate:visible":g[2]||(g[2]=v=>d.value=v),"host-id":p.value,onSaved:f},null,8,["visible","host-id"]),ie(dp),ie(bs)]))}}),G0={class:"h-full","data-theme":"light"},J0=Be({__name:"App",setup(e){return(t,s)=>(N(),j("div",G0,[ie(q0)]))}}),X0="modulepreload",Y0=function(e){return"/"+e},_a={},Z0=function(t,s,i){let n=Promise.resolve();if(s&&s.length>0){let o=function(l){return Promise.all(l.map(f=>Promise.resolve(f).then(a=>({status:"fulfilled",value:a}),a=>({status:"rejected",reason:a}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),r=p?.nonce||p?.getAttribute("nonce");n=o(s.map(l=>{if(l=Y0(l),l in _a)return;_a[l]=!0;const f=l.endsWith(".css"),a=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${a}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":X0,f||(g.as="script"),g.crossOrigin="",g.href=l,r&&g.setAttribute("nonce",r),document.head.appendChild(g),f)return new Promise((v,S)=>{g.addEventListener("load",v),g.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${l}`)))})}))}function d(p){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=p,window.dispatchEvent(r),!r.defaultPrevented)throw p}return n.then(p=>{for(const r of p||[])r.status==="rejected"&&d(r.reason);return t().catch(d)})};const Es=typeof document<"u";function Bc(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Q0(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Bc(e.default)}const Le=Object.assign;function $r(e,t){const s={};for(const i in t){const n=t[i];s[i]=St(n)?n.map(e):e(n)}return s}const ii=()=>{},St=Array.isArray;function pa(e,t){const s={};for(const i in e)s[i]=i in t?t[i]:e[i];return s}const Mc=/#/g,eS=/&/g,tS=/\//g,sS=/=/g,iS=/\?/g,Hc=/\+/g,rS=/%5B/g,nS=/%5D/g,$c=/%5E/g,oS=/%60/g,Fc=/%7B/g,aS=/%7C/g,Nc=/%7D/g,lS=/%20/g;function Wn(e){return e==null?"":encodeURI(""+e).replace(aS,"|").replace(rS,"[").replace(nS,"]")}function cS(e){return Wn(e).replace(Fc,"{").replace(Nc,"}").replace($c,"^")}function _n(e){return Wn(e).replace(Hc,"%2B").replace(lS,"+").replace(Mc,"%23").replace(eS,"%26").replace(oS,"`").replace(Fc,"{").replace(Nc,"}").replace($c,"^")}function hS(e){return _n(e).replace(sS,"%3D")}function uS(e){return Wn(e).replace(Mc,"%23").replace(iS,"%3F")}function dS(e){return uS(e).replace(tS,"%2F")}function ui(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const fS=/\/$/,_S=e=>e.replace(fS,"");function Fr(e,t,s="/"){let i,n={},d="",p="";const r=t.indexOf("#");let o=t.indexOf("?");return o=r>=0&&o>r?-1:o,o>=0&&(i=t.slice(0,o),d=t.slice(o,r>0?r:t.length),n=e(d.slice(1))),r>=0&&(i=i||t.slice(0,r),p=t.slice(r,t.length)),i=vS(i??t,s),{fullPath:i+d+p,path:i,query:n,hash:ui(p)}}function pS(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function ga(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function gS(e,t,s){const i=t.matched.length-1,n=s.matched.length-1;return i>-1&&i===n&&Bs(t.matched[i],s.matched[n])&&Uc(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Bs(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Uc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var s in e)if(!mS(e[s],t[s]))return!1;return!0}function mS(e,t){return St(e)?ma(e,t):St(t)?ma(t,e):e?.valueOf()===t?.valueOf()}function ma(e,t){return St(t)?e.length===t.length&&e.every((s,i)=>s===t[i]):e.length===1&&e[0]===t}function vS(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),i=e.split("/"),n=i[i.length-1];(n===".."||n===".")&&i.push("");let d=s.length-1,p,r;for(p=0;p<i.length;p++)if(r=i[p],r!==".")if(r==="..")d>1&&d--;else break;return s.slice(0,d).join("/")+"/"+i.slice(p).join("/")}const qt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let pn=(function(e){return e.pop="pop",e.push="push",e})({}),Nr=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function bS(e){if(!e)if(Es){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),_S(e)}const SS=/^[^#]+#/;function yS(e,t){return e.replace(SS,"#")+t}function wS(e,t){const s=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-s.left-(t.left||0),top:i.top-s.top-(t.top||0)}}const vr=()=>({left:window.scrollX,top:window.scrollY});function CS(e){let t;if("el"in e){const s=e.el,i=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?i?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;t=wS(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function va(e,t){return(history.state?history.state.position-t:-1)+e}const gn=new Map;function ES(e,t){gn.set(e,t)}function xS(e){const t=gn.get(e);return gn.delete(e),t}function kS(e){return typeof e=="string"||e&&typeof e=="object"}function jc(e){return typeof e=="string"||typeof e=="symbol"}let Ne=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const Wc=Symbol("");Ne.MATCHER_NOT_FOUND+"",Ne.NAVIGATION_GUARD_REDIRECT+"",Ne.NAVIGATION_ABORTED+"",Ne.NAVIGATION_CANCELLED+"",Ne.NAVIGATION_DUPLICATED+"";function Ms(e,t){return Le(new Error,{type:e,[Wc]:!0},t)}function Tt(e,t){return e instanceof Error&&Wc in e&&(t==null||!!(e.type&t))}const RS=["params","query","hash"];function AS(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const s of RS)s in e&&(t[s]=e[s]);return JSON.stringify(t,null,2)}function DS(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<s.length;++i){const n=s[i].replace(Hc," "),d=n.indexOf("="),p=ui(d<0?n:n.slice(0,d)),r=d<0?null:ui(n.slice(d+1));if(p in t){let o=t[p];St(o)||(o=t[p]=[o]),o.push(r)}else t[p]=r}return t}function ba(e){let t="";for(let s in e){const i=e[s];if(s=hS(s),i==null){i!==void 0&&(t+=(t.length?"&":"")+s);continue}(St(i)?i.map(n=>n&&_n(n)):[i&&_n(i)]).forEach(n=>{n!==void 0&&(t+=(t.length?"&":"")+s,n!=null&&(t+="="+n))})}return t}function LS(e){const t={};for(const s in e){const i=e[s];i!==void 0&&(t[s]=St(i)?i.map(n=>n==null?null:""+n):i==null?i:""+i)}return t}const TS=Symbol(""),Sa=Symbol(""),Vn=Symbol(""),Vc=Symbol(""),mn=Symbol("");function qs(){let e=[];function t(i){return e.push(i),()=>{const n=e.indexOf(i);n>-1&&e.splice(n,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Qt(e,t,s,i,n,d=p=>p()){const p=i&&(i.enterCallbacks[n]=i.enterCallbacks[n]||[]);return()=>new Promise((r,o)=>{const l=g=>{g===!1?o(Ms(Ne.NAVIGATION_ABORTED,{from:s,to:t})):g instanceof Error?o(g):kS(g)?o(Ms(Ne.NAVIGATION_GUARD_REDIRECT,{from:t,to:g})):(p&&i.enterCallbacks[n]===p&&typeof g=="function"&&p.push(g),r())},f=d(()=>e.call(i&&i.instances[n],t,s,l));let a=Promise.resolve(f);e.length<3&&(a=a.then(l)),a.catch(g=>o(g))})}function Ur(e,t,s,i,n=d=>d()){const d=[];for(const p of e)for(const r in p.components){let o=p.components[r];if(!(t!=="beforeRouteEnter"&&!p.instances[r]))if(Bc(o)){const l=(o.__vccOpts||o)[t];l&&d.push(Qt(l,s,i,p,r,n))}else{let l=o();d.push(()=>l.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${r}" at "${p.path}"`);const a=Q0(f)?f.default:f;p.mods[r]=f,p.components[r]=a;const g=(a.__vccOpts||a)[t];return g&&Qt(g,s,i,p,r,n)()}))}}return d}function OS(e,t){const s=[],i=[],n=[],d=Math.max(t.matched.length,e.matched.length);for(let p=0;p<d;p++){const r=t.matched[p];r&&(e.matched.find(l=>Bs(l,r))?i.push(r):s.push(r));const o=e.matched[p];o&&(t.matched.find(l=>Bs(l,o))||n.push(o))}return[s,i,n]}let IS=()=>location.protocol+"//"+location.host;function Kc(e,t){const{pathname:s,search:i,hash:n}=t,d=e.indexOf("#");if(d>-1){let p=n.includes(e.slice(d))?e.slice(d).length:1,r=n.slice(p);return r[0]!=="/"&&(r="/"+r),ga(r,"")}return ga(s,e)+i+n}function PS(e,t,s,i){let n=[],d=[],p=null;const r=({state:g})=>{const v=Kc(e,location),S=s.value,m=t.value;let h=0;if(g){if(s.value=v,t.value=g,p&&p===S){p=null;return}h=m?g.position-m.position:0}else i(v);n.forEach(c=>{c(s.value,S,{delta:h,type:pn.pop,direction:h?h>0?Nr.forward:Nr.back:Nr.unknown})})};function o(){p=s.value}function l(g){n.push(g);const v=()=>{const S=n.indexOf(g);S>-1&&n.splice(S,1)};return d.push(v),v}function f(){if(document.visibilityState==="hidden"){const{history:g}=window;if(!g.state)return;g.replaceState(Le({},g.state,{scroll:vr()}),"")}}function a(){for(const g of d)g();d=[],window.removeEventListener("popstate",r),window.removeEventListener("pagehide",f),document.removeEventListener("visibilitychange",f)}return window.addEventListener("popstate",r),window.addEventListener("pagehide",f),document.addEventListener("visibilitychange",f),{pauseListeners:o,listen:l,destroy:a}}function ya(e,t,s,i=!1,n=!1){return{back:e,current:t,forward:s,replaced:i,position:window.history.length,scroll:n?vr():null}}function BS(e){const{history:t,location:s}=window,i={value:Kc(e,s)},n={value:t.state};n.value||d(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function d(o,l,f){const a=e.indexOf("#"),g=a>-1?(s.host&&document.querySelector("base")?e:e.slice(a))+o:IS()+e+o;try{t[f?"replaceState":"pushState"](l,"",g),n.value=l}catch(v){console.error(v),s[f?"replace":"assign"](g)}}function p(o,l){d(o,Le({},t.state,ya(n.value.back,o,n.value.forward,!0),l,{position:n.value.position}),!0),i.value=o}function r(o,l){const f=Le({},n.value,t.state,{forward:o,scroll:vr()});d(f.current,f,!0),d(o,Le({},ya(i.value,o,null),{position:f.position+1},l),!1),i.value=o}return{location:i,state:n,push:r,replace:p}}function MS(e){e=bS(e);const t=BS(e),s=PS(e,t.state,t.location,t.replace);function i(d,p=!0){p||s.pauseListeners(),history.go(d)}const n=Le({location:"",base:e,go:i,createHref:yS.bind(null,e)},t,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}let fs=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var Ge=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(Ge||{});const HS={type:fs.Static,value:""},$S=/[a-zA-Z0-9_]/;function FS(e){if(!e)return[[]];if(e==="/")return[[HS]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${s})/"${l}": ${v}`)}let s=Ge.Static,i=s;const n=[];let d;function p(){d&&n.push(d),d=[]}let r=0,o,l="",f="";function a(){l&&(s===Ge.Static?d.push({type:fs.Static,value:l}):s===Ge.Param||s===Ge.ParamRegExp||s===Ge.ParamRegExpEnd?(d.length>1&&(o==="*"||o==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),d.push({type:fs.Param,value:l,regexp:f,repeatable:o==="*"||o==="+",optional:o==="*"||o==="?"})):t("Invalid state to consume buffer"),l="")}function g(){l+=o}for(;r<e.length;){if(o=e[r++],o==="\\"&&s!==Ge.ParamRegExp){i=s,s=Ge.EscapeNext;continue}switch(s){case Ge.Static:o==="/"?(l&&a(),p()):o===":"?(a(),s=Ge.Param):g();break;case Ge.EscapeNext:g(),s=i;break;case Ge.Param:o==="("?s=Ge.ParamRegExp:$S.test(o)?g():(a(),s=Ge.Static,o!=="*"&&o!=="?"&&o!=="+"&&r--);break;case Ge.ParamRegExp:o===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+o:s=Ge.ParamRegExpEnd:f+=o;break;case Ge.ParamRegExpEnd:a(),s=Ge.Static,o!=="*"&&o!=="?"&&o!=="+"&&r--,f="";break;default:t("Unknown state");break}}return s===Ge.ParamRegExp&&t(`Unfinished custom RegExp for param "${l}"`),a(),p(),n}const wa="[^/]+?",NS={sensitive:!1,strict:!1,start:!0,end:!0};var tt=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(tt||{});const US=/[.+*?^${}()[\]/\\]/g;function jS(e,t){const s=Le({},NS,t),i=[];let n=s.start?"^":"";const d=[];for(const l of e){const f=l.length?[]:[tt.Root];s.strict&&!l.length&&(n+="/");for(let a=0;a<l.length;a++){const g=l[a];let v=tt.Segment+(s.sensitive?tt.BonusCaseSensitive:0);if(g.type===fs.Static)a||(n+="/"),n+=g.value.replace(US,"\\$&"),v+=tt.Static;else if(g.type===fs.Param){const{value:S,repeatable:m,optional:h,regexp:c}=g;d.push({name:S,repeatable:m,optional:h});const u=c||wa;if(u!==wa){v+=tt.BonusCustomRegExp;try{`${u}`}catch(b){throw new Error(`Invalid custom RegExp for param "${S}" (${u}): `+b.message)}}let _=m?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;a||(_=h&&l.length<2?`(?:/${_})`:"/"+_),h&&(_+="?"),n+=_,v+=tt.Dynamic,h&&(v+=tt.BonusOptional),m&&(v+=tt.BonusRepeatable),u===".*"&&(v+=tt.BonusWildcard)}f.push(v)}i.push(f)}if(s.strict&&s.end){const l=i.length-1;i[l][i[l].length-1]+=tt.BonusStrict}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const p=new RegExp(n,s.sensitive?"":"i");function r(l){const f=l.match(p),a={};if(!f)return null;for(let g=1;g<f.length;g++){const v=f[g]||"",S=d[g-1];a[S.name]=v&&S.repeatable?v.split("/"):v}return a}function o(l){let f="",a=!1;for(const g of e){(!a||!f.endsWith("/"))&&(f+="/"),a=!1;for(const v of g)if(v.type===fs.Static)f+=v.value;else if(v.type===fs.Param){const{value:S,repeatable:m,optional:h}=v,c=S in l?l[S]:"";if(St(c)&&!m)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const u=St(c)?c.join("/"):c;if(!u)if(h)g.length<2&&(f.endsWith("/")?f=f.slice(0,-1):a=!0);else throw new Error(`Missing required param "${S}"`);f+=u}}return f||"/"}return{re:p,score:i,keys:d,parse:r,stringify:o}}function WS(e,t){let s=0;for(;s<e.length&&s<t.length;){const i=t[s]-e[s];if(i)return i;s++}return e.length<t.length?e.length===1&&e[0]===tt.Static+tt.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===tt.Static+tt.Segment?1:-1:0}function zc(e,t){let s=0;const i=e.score,n=t.score;for(;s<i.length&&s<n.length;){const d=WS(i[s],n[s]);if(d)return d;s++}if(Math.abs(n.length-i.length)===1){if(Ca(i))return 1;if(Ca(n))return-1}return n.length-i.length}function Ca(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const VS={strict:!1,end:!0,sensitive:!1};function KS(e,t,s){const i=jS(FS(e.path),s),n=Le(i,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function zS(e,t){const s=[],i=new Map;t=pa(VS,t);function n(a){return i.get(a)}function d(a,g,v){const S=!v,m=xa(a);m.aliasOf=v&&v.record;const h=pa(t,a),c=[m];if("alias"in a){const b=typeof a.alias=="string"?[a.alias]:a.alias;for(const w of b)c.push(xa(Le({},m,{components:v?v.record.components:m.components,path:w,aliasOf:v?v.record:m})))}let u,_;for(const b of c){const{path:w}=b;if(g&&w[0]!=="/"){const C=g.record.path,x=C[C.length-1]==="/"?"":"/";b.path=g.record.path+(w&&x+w)}if(u=KS(b,g,h),v?v.alias.push(u):(_=_||u,_!==u&&_.alias.push(u),S&&a.name&&!ka(u)&&p(a.name)),qc(u)&&o(u),m.children){const C=m.children;for(let x=0;x<C.length;x++)d(C[x],u,v&&v.children[x])}v=v||u}return _?()=>{p(_)}:ii}function p(a){if(jc(a)){const g=i.get(a);g&&(i.delete(a),s.splice(s.indexOf(g),1),g.children.forEach(p),g.alias.forEach(p))}else{const g=s.indexOf(a);g>-1&&(s.splice(g,1),a.record.name&&i.delete(a.record.name),a.children.forEach(p),a.alias.forEach(p))}}function r(){return s}function o(a){const g=JS(a,s);s.splice(g,0,a),a.record.name&&!ka(a)&&i.set(a.record.name,a)}function l(a,g){let v,S={},m,h;if("name"in a&&a.name){if(v=i.get(a.name),!v)throw Ms(Ne.MATCHER_NOT_FOUND,{location:a});h=v.record.name,S=Le(Ea(g.params,v.keys.filter(_=>!_.optional).concat(v.parent?v.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),a.params&&Ea(a.params,v.keys.map(_=>_.name))),m=v.stringify(S)}else if(a.path!=null)m=a.path,v=s.find(_=>_.re.test(m)),v&&(S=v.parse(m),h=v.record.name);else{if(v=g.name?i.get(g.name):s.find(_=>_.re.test(g.path)),!v)throw Ms(Ne.MATCHER_NOT_FOUND,{location:a,currentLocation:g});h=v.record.name,S=Le({},g.params,a.params),m=v.stringify(S)}const c=[];let u=v;for(;u;)c.unshift(u.record),u=u.parent;return{name:h,path:m,params:S,matched:c,meta:GS(c)}}e.forEach(a=>d(a));function f(){s.length=0,i.clear()}return{addRoute:d,resolve:l,removeRoute:p,clearRoutes:f,getRoutes:r,getRecordMatcher:n}}function Ea(e,t){const s={};for(const i of t)i in e&&(s[i]=e[i]);return s}function xa(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:qS(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function qS(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const i in e.components)t[i]=typeof s=="object"?s[i]:s;return t}function ka(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function GS(e){return e.reduce((t,s)=>Le(t,s.meta),{})}function JS(e,t){let s=0,i=t.length;for(;s!==i;){const d=s+i>>1;zc(e,t[d])<0?i=d:s=d+1}const n=XS(e);return n&&(i=t.lastIndexOf(n,i-1)),i}function XS(e){let t=e;for(;t=t.parent;)if(qc(t)&&zc(e,t)===0)return t}function qc({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Ra(e){const t=At(Vn),s=At(Vc),i=Oe(()=>{const o=ce(e.to);return t.resolve(o)}),n=Oe(()=>{const{matched:o}=i.value,{length:l}=o,f=o[l-1],a=s.matched;if(!f||!a.length)return-1;const g=a.findIndex(Bs.bind(null,f));if(g>-1)return g;const v=Aa(o[l-2]);return l>1&&Aa(f)===v&&a[a.length-1].path!==v?a.findIndex(Bs.bind(null,o[l-2])):g}),d=Oe(()=>n.value>-1&&ty(s.params,i.value.params)),p=Oe(()=>n.value>-1&&n.value===s.matched.length-1&&Uc(s.params,i.value.params));function r(o={}){if(ey(o)){const l=t[ce(e.replace)?"replace":"push"](ce(e.to)).catch(ii);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:i,href:Oe(()=>i.value.href),isActive:d,isExactActive:p,navigate:r}}function YS(e){return e.length===1?e[0]:e}const ZS=Be({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Ra,setup(e,{slots:t}){const s=Wt(Ra(e)),{options:i}=At(Vn),n=Oe(()=>({[Da(e.activeClass,i.linkActiveClass,"router-link-active")]:s.isActive,[Da(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const d=t.default&&YS(t.default(s));return e.custom?d:qi("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},d)}}}),QS=ZS;function ey(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ty(e,t){for(const s in t){const i=t[s],n=e[s];if(typeof i=="string"){if(i!==n)return!1}else if(!St(n)||n.length!==i.length||i.some((d,p)=>d.valueOf()!==n[p].valueOf()))return!1}return!0}function Aa(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Da=(e,t,s)=>e??t??s,sy=Be({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const i=At(mn),n=Oe(()=>e.route||i.value),d=At(Sa,0),p=Oe(()=>{let l=ce(d);const{matched:f}=n.value;let a;for(;(a=f[l])&&!a.components;)l++;return l}),r=Oe(()=>n.value.matched[p.value]);Ri(Sa,Oe(()=>p.value+1)),Ri(TS,r),Ri(mn,n);const o=he();return Ke(()=>[o.value,r.value,e.name],([l,f,a],[g,v,S])=>{f&&(f.instances[a]=l,v&&v!==f&&l&&l===g&&(f.leaveGuards.size||(f.leaveGuards=v.leaveGuards),f.updateGuards.size||(f.updateGuards=v.updateGuards))),l&&f&&(!v||!Bs(f,v)||!g)&&(f.enterCallbacks[a]||[]).forEach(m=>m(l))},{flush:"post"}),()=>{const l=n.value,f=e.name,a=r.value,g=a&&a.components[f];if(!g)return La(s.default,{Component:g,route:l});const v=a.props[f],S=v?v===!0?l.params:typeof v=="function"?v(l):v:null,h=qi(g,Le({},S,t,{onVnodeUnmounted:c=>{c.component.isUnmounted&&(a.instances[f]=null)},ref:o}));return La(s.default,{Component:h,route:l})||h}}});function La(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const iy=sy;function ry(e){const t=zS(e.routes,e),s=e.parseQuery||DS,i=e.stringifyQuery||ba,n=e.history,d=qs(),p=qs(),r=qs(),o=Rh(qt);let l=qt;Es&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=$r.bind(null,T=>""+T),a=$r.bind(null,dS),g=$r.bind(null,ui);function v(T,A){let U,K;return jc(T)?(U=t.getRecordMatcher(T),K=A):K=T,t.addRoute(K,U)}function S(T){const A=t.getRecordMatcher(T);A&&t.removeRoute(A)}function m(){return t.getRoutes().map(T=>T.record)}function h(T){return!!t.getRecordMatcher(T)}function c(T,A){if(A=Le({},A||o.value),typeof T=="string"){const F=Fr(s,T,A.path),q=t.resolve({path:F.path},A),G=n.createHref(F.fullPath);return Le(F,q,{params:g(q.params),hash:ui(F.hash),redirectedFrom:void 0,href:G})}let U;if(T.path!=null)U=Le({},T,{path:Fr(s,T.path,A.path).path});else{const F=Le({},T.params);for(const q in F)F[q]==null&&delete F[q];U=Le({},T,{params:a(F)}),A.params=a(A.params)}const K=t.resolve(U,A),ee=T.hash||"";K.params=f(g(K.params));const D=pS(i,Le({},T,{hash:cS(ee),path:K.path})),I=n.createHref(D);return Le({fullPath:D,hash:ee,query:i===ba?LS(T.query):T.query||{}},K,{redirectedFrom:void 0,href:I})}function u(T){return typeof T=="string"?Fr(s,T,o.value.path):Le({},T)}function _(T,A){if(l!==T)return Ms(Ne.NAVIGATION_CANCELLED,{from:A,to:T})}function b(T){return x(T)}function w(T){return b(Le(u(T),{replace:!0}))}function C(T,A){const U=T.matched[T.matched.length-1];if(U&&U.redirect){const{redirect:K}=U;let ee=typeof K=="function"?K(T,A):K;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=u(ee):{path:ee},ee.params={}),Le({query:T.query,hash:T.hash,params:ee.path!=null?{}:T.params},ee)}}function x(T,A){const U=l=c(T),K=o.value,ee=T.state,D=T.force,I=T.replace===!0,F=C(U,K);if(F)return x(Le(u(F),{state:typeof F=="object"?Le({},ee,F.state):ee,force:D,replace:I}),A||U);const q=U;q.redirectedFrom=A;let G;return!D&&gS(i,K,U)&&(G=Ms(Ne.NAVIGATION_DUPLICATED,{to:q,from:K}),H(K,K,!0,!1)),(G?Promise.resolve(G):O(q,K)).catch(W=>Tt(W)?Tt(W,Ne.NAVIGATION_GUARD_REDIRECT)?W:P(W):X(W,q,K)).then(W=>{if(W){if(Tt(W,Ne.NAVIGATION_GUARD_REDIRECT))return x(Le({replace:I},u(W.to),{state:typeof W.to=="object"?Le({},ee,W.to.state):ee,force:D}),A||q)}else W=B(q,K,!0,I,ee);return M(q,K,W),W})}function y(T,A){const U=_(T,A);return U?Promise.reject(U):Promise.resolve()}function k(T){const A=re.values().next().value;return A&&typeof A.runWithContext=="function"?A.runWithContext(T):T()}function O(T,A){let U;const[K,ee,D]=OS(T,A);U=Ur(K.reverse(),"beforeRouteLeave",T,A);for(const F of K)F.leaveGuards.forEach(q=>{U.push(Qt(q,T,A))});const I=y.bind(null,T,A);return U.push(I),fe(U).then(()=>{U=[];for(const F of d.list())U.push(Qt(F,T,A));return U.push(I),fe(U)}).then(()=>{U=Ur(ee,"beforeRouteUpdate",T,A);for(const F of ee)F.updateGuards.forEach(q=>{U.push(Qt(q,T,A))});return U.push(I),fe(U)}).then(()=>{U=[];for(const F of D)if(F.beforeEnter)if(St(F.beforeEnter))for(const q of F.beforeEnter)U.push(Qt(q,T,A));else U.push(Qt(F.beforeEnter,T,A));return U.push(I),fe(U)}).then(()=>(T.matched.forEach(F=>F.enterCallbacks={}),U=Ur(D,"beforeRouteEnter",T,A,k),U.push(I),fe(U))).then(()=>{U=[];for(const F of p.list())U.push(Qt(F,T,A));return U.push(I),fe(U)}).catch(F=>Tt(F,Ne.NAVIGATION_CANCELLED)?F:Promise.reject(F))}function M(T,A,U){r.list().forEach(K=>k(()=>K(T,A,U)))}function B(T,A,U,K,ee){const D=_(T,A);if(D)return D;const I=A===qt,F=Es?history.state:{};U&&(K||I?n.replace(T.fullPath,Le({scroll:I&&F&&F.scroll},ee)):n.push(T.fullPath,ee)),o.value=T,H(T,A,U,I),P()}let L;function V(){L||(L=n.listen((T,A,U)=>{if(!de.listening)return;const K=c(T),ee=C(K,de.currentRoute.value);if(ee){x(Le(ee,{replace:!0,force:!0}),K).catch(ii);return}l=K;const D=o.value;Es&&ES(va(D.fullPath,U.delta),vr()),O(K,D).catch(I=>Tt(I,Ne.NAVIGATION_ABORTED|Ne.NAVIGATION_CANCELLED)?I:Tt(I,Ne.NAVIGATION_GUARD_REDIRECT)?(x(Le(u(I.to),{force:!0}),K).then(F=>{Tt(F,Ne.NAVIGATION_ABORTED|Ne.NAVIGATION_DUPLICATED)&&!U.delta&&U.type===pn.pop&&n.go(-1,!1)}).catch(ii),Promise.reject()):(U.delta&&n.go(-U.delta,!1),X(I,K,D))).then(I=>{I=I||B(K,D,!1),I&&(U.delta&&!Tt(I,Ne.NAVIGATION_CANCELLED)?n.go(-U.delta,!1):U.type===pn.pop&&Tt(I,Ne.NAVIGATION_ABORTED|Ne.NAVIGATION_DUPLICATED)&&n.go(-1,!1)),M(K,D,I)}).catch(ii)}))}let Z=qs(),J=qs(),Y;function X(T,A,U){P(T);const K=J.list();return K.length?K.forEach(ee=>ee(T,A,U)):console.error(T),Promise.reject(T)}function R(){return Y&&o.value!==qt?Promise.resolve():new Promise((T,A)=>{Z.add([T,A])})}function P(T){return Y||(Y=!T,V(),Z.list().forEach(([A,U])=>T?U(T):A()),Z.reset()),T}function H(T,A,U,K){const{scrollBehavior:ee}=e;if(!Es||!ee)return Promise.resolve();const D=!U&&xS(va(T.fullPath,0))||(K||!U)&&history.state&&history.state.scroll||null;return ts().then(()=>ee(T,A,D)).then(I=>I&&CS(I)).catch(I=>X(I,T,A))}const $=T=>n.go(T);let Q;const re=new Set,de={currentRoute:o,listening:!0,addRoute:v,removeRoute:S,clearRoutes:t.clearRoutes,hasRoute:h,getRoutes:m,resolve:c,options:e,push:b,replace:w,go:$,back:()=>$(-1),forward:()=>$(1),beforeEach:d.add,beforeResolve:p.add,afterEach:r.add,onError:J.add,isReady:R,install(T){T.component("RouterLink",QS),T.component("RouterView",iy),T.config.globalProperties.$router=de,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>ce(o)}),Es&&!Q&&o.value===qt&&(Q=!0,b(n.location).catch(K=>{}));const A={};for(const K in qt)Object.defineProperty(A,K,{get:()=>o.value[K],enumerable:!0});T.provide(Vn,de),T.provide(Vc,il(A)),T.provide(mn,o);const U=T.unmount;re.add(T),T.unmount=function(){re.delete(T),re.size<1&&(l=qt,L&&L(),L=null,o.value=qt,Q=!1,Y=!1),U()}}};function fe(T){return T.reduce((A,U)=>A.then(()=>k(U)),Promise.resolve())}return de}const ny=[{path:"/",name:"Home",component:()=>Z0(()=>import("./AppLayout-DPWhCr7J.js"),[]),meta:{title:"Rubick"}},{path:"/hosts",redirect:"/"},{path:"/containers",redirect:"/"},{path:"/images",redirect:"/"},{path:"/compose",redirect:"/"}],Gc=ry({history:MS(),routes:ny});Gc.beforeEach((e,t,s)=>{document.title=`${e.meta.title||"Rubick"} - Rubick`,s()});const Kn=kd(J0);Kn.use(Dd());Kn.use(Gc);Kn.mount("#app");export{q0 as _};
